import{C as V,e as D,D as N,E as T,r as g,T as x,a as m,f as A,g as l,h as e,Q as u,i as d,t as f,c as C,m as k,p as v,b as F,u as _,s as B,v as S,x as E,N as $}from"./app-B9dkpGLK.js";import{Q as r}from"./QTd-DuJOGItX.js";import{Q as q}from"./QTable-CP2IqUnr.js";import{Q as I}from"./QFile-DG60Hdl-.js";import{Q as O}from"./QPage-zxMC9aqx.js";import{C as U}from"./ClosePopup-Bydqmf8k.js";import{_ as j}from"./AdminLayout-BNQZF6Hu.js";import"./QLayout-CjwSdPgF.js";import"./format-D7GaRK-I.js";import"./QSelect-BMdYZ3CY.js";import"./QChip-BIcJenDY.js";import"./QMenu-wN6hlZOM.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-sevoPI2F.js";const H=V({name:"QTr",props:{props:Object,noHover:Boolean},setup(n,{slots:c}){const i=D(()=>"q-tr"+(n.props===void 0||n.props.header===!0?"":" "+n.props.__trClass)+(n.noHover===!0?" q-tr--no-hover":""));return()=>N("tr",{class:i.value},T(c.default))}}),P=["onClick"],z={key:1},oe=Object.assign({layout:j},{__name:"Index",props:{informations:Array},setup(n){const c=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"title",label:"Title",field:"title",align:"left",sortable:!0},{name:"sub_title",label:"Sub Title",field:"sub_title",align:"left",sortable:!0},{name:"file_url",label:"Attachment",field:"file_url",align:"left"},{name:"created_at",label:"Created At",field:"created_at",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",align:"center"}],i=g(!1),p=g(null),s=x({file:null}),w=o=>{p.value=o.id,i.value=!0},Q=o=>{let a=document.createElement("a");a.target="_blank",a.href=`/storage/${o}`,a.click()},h=()=>{s.put(route("admin.info.update",p.value),{onSuccess:()=>{i.value=!1,s.reset()},forceFormData:!0})},y=o=>{confirm("Are you sure you want to delete this file?")&&$.delete(route("admin.info.destroy",o))};return(o,a)=>(m(),A(O,{padding:""},{default:l(()=>[e(u,{color:"black",label:"Upload New",href:o.route("admin.info.create"),class:"q-mb-md"},null,8,["href"]),e(k,null,{default:l(()=>[e(q,{flat:"",rows:n.informations,columns:c,"row-key":"id"},{body:l(t=>[e(H,{props:t},{default:l(()=>[e(r,null,{default:l(()=>[d(f(t.row.id),1)]),_:2},1024),e(r,null,{default:l(()=>[d(f(t.row.title),1)]),_:2},1024),e(r,null,{default:l(()=>[d(f(t.row.sub_title),1)]),_:2},1024),e(r,null,{default:l(()=>[t.row.file_url?(m(),C("a",{key:0,target:"_blank",class:"text-black",onClick:b=>Q(t.row.file_url)}," View File ",8,P)):(m(),C("span",z,"No file attached"))]),_:2},1024),e(r,null,{default:l(()=>[d(f(t.row.created_at),1)]),_:2},1024),e(r,null,{default:l(()=>[e(u,{icon:"edit",color:"blue",dense:"",flat:"",onClick:b=>w(t.row)},null,8,["onClick"]),e(u,{icon:"delete",color:"red",dense:"",flat:"",onClick:b=>y(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1}),e(E,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=t=>i.value=t)},{default:l(()=>[e(k,null,{default:l(()=>[e(v,null,{default:l(()=>a[2]||(a[2]=[F("div",{class:"text-h6"},"Edit File",-1)])),_:1}),e(v,null,{default:l(()=>[e(I,{modelValue:_(s).file,"onUpdate:modelValue":a[0]||(a[0]=t=>_(s).file=t),label:"Choose New File"},null,8,["modelValue"])]),_:1}),e(B,{align:"right"},{default:l(()=>[S(e(u,{flat:"",label:"Cancel"},null,512),[[U]]),e(u,{color:"primary",label:"Save",loading:_(s).processing,onClick:h},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{oe as default};
