import{Q as b}from"./QSelect-D89BJ1_7.js";import{r as y,c as k,T as A,a as d,b as Q,w as m,f as r,i as a,l as g,C as x,u as s,n as c,g as u,t as i,e as p,Q as v,A as S,m as U,p as _,q as $,s as T}from"./app-DY6z9ZO-.js";import{Q as F}from"./QForm-oFHFc731.js";import{Q as O}from"./QPage-DYn21bSD.js";import{C as P}from"./ClosePopup-Cdw2F2K5.js";import{u as j}from"./use-quasar-Cs1LdNF0.js";import{_ as z}from"./WebLayout-BJxCXKNF.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-ZnDgJwmd.js";import"./format-DPtYjOdv.js";import"./QMenu-DDLCkg3R.js";import"./rtl-DFPa-2ov.js";import"./QTabs-B1e59bZV.js";import"./QLayout-DkfsYSgK.js";const G={class:"flex flex-col justify-center items-center gap-6"},H={class:"border w-[412px] h-[996px] rounded-[10px] p-[23px]"},K={key:0,class:"text-red-500 text-sm"},I={class:""},Y={class:"flex gap-4"},L={key:0,class:"text-red"},R={key:0,class:"text-red-500 text-sm"},Z={key:0,class:"text-red-500 text-sm"},J={key:0,class:"text-red"},W={key:0,class:"text-red"},X={key:0,class:"text-red-500 text-sm"},ee={key:0,class:"text-red"},te={key:0,class:"text-red-500 text-sm"},re={key:0,class:"text-red-500 text-sm"},se={class:"text-2xl"},le={class:"leading-[2px] pt-6"},oe={class:"leading-[2px] pt-4"},ie={class:"leading-[2px] pt-4"},ae={class:"leading-[2px] pt-4"},ne={class:"leading-[2px] pt-4"},de={class:"leading-[2px] pt-4"},ue={class:"leading-[2px] pt-4"},pe={class:"leading-[2px] pt-4"},me=Object.assign({layout:z},{__name:"FormStep1",props:["form","districts","constituency"],setup(V){const n=V,f=y(!1),w=j(),q=y(n.districts||[]),C=y(n.constituency||[]),N=k(()=>t.district?C.value.filter(o=>o.district===t.district.value):[]),B=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Other",value:"other"}],t=A({name:n.form.name||"",relative:n.form.relative||"",relative_name:n.form.relative_name||"",dob:n.form.dob||"",gender:n.form.gender||"",district:n.form.district||"",locality:n.form.locality||"",constituency:n.form.constituency||"",time_of_death:n.form.time_of_death||"",place_of_death:n.form.place_of_death||""}),M=o=>{if(!o)return"";const e=new Date(o);if(isNaN(e))return o;const l={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return e.toLocaleString("en-IN",l)},D=k(()=>{if(!t.dob||!t.time_of_death)return"N/A";const o=new Date(t.dob),e=new Date(t.time_of_death);if(isNaN(o.getTime())||isNaN(e.getTime()))return"N/A";let l=e.getFullYear()-o.getFullYear();return e.getMonth()>o.getMonth()||e.getMonth()===o.getMonth()&&e.getDate()>=o.getDate()||(l-=1),l>=0?l:"N/A"}),h=()=>{t.post(route("form.storeStep1"),{onError:o=>{console.log(o),f.value=!1},onSuccess:()=>{console.log("Form 1 submitted"),f.value=!1,w.notify({type:"positive",message:"Form 1 submitted successfully!",position:"top-right"})}})};return(o,e)=>(d(),Q(O,{padding:""},{default:m(()=>[r("div",G,[e[22]||(e[22]=r("img",{id:"background",class:"w-[412px] h-[193px",src:"image/Vertical Stepper with numbers.png"},null,-1)),r("div",H,[a(F,{onSubmit:S(h,["prevent"]),class:"q-gutter-md"},{default:m(()=>[r("div",null,[e[13]||(e[13]=r("div",{class:"pb-3 flex items-center gap-2"},[r("div",{class:"w-[3px] h-[19px] flex-shrink-0 bg-black"}),r("h5",null,"Mitthi Chhungchang")],-1)),r("div",null,[e[12]||(e[12]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Mitthi hming ",-1)),g(r("input",{type:"text",placeholder:"Mitthi hming chhu lut rawh le","onUpdate:modelValue":e[0]||(e[0]=l=>s(t).name=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.name?"border-red-500":"border-gray-300"])},null,2),[[x,s(t).name]]),s(t).errors.name?(d(),u("div",K,i(s(t).errors.name),1)):p("",!0)])]),r("div",I,[e[14]||(e[14]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," A chhungte hming ",-1)),r("div",Y,[r("div",null,[a(b,{class:"",outlined:"",dense:"",label:"Pa",modelValue:s(t).relative,"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).relative=l),"lazy-rules":"",error:s(t).errors.relative,"error-message":s(t).errors.relative?s(t).errors.relative:"",rules:[l=>l&&l.length>0||"Chhungte Hming is required"],options:["Pa","Nu","Others"]},null,8,["modelValue","error","error-message","rules"]),o.$page.props.errors.relative?(d(),u("div",L,i(o.$page.props.errors.relative),1)):p("",!0)]),r("div",null,[g(r("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>s(t).relative_name=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.relative_name?"border-red-500":"border-gray-300"]),placeholder:"An hming chhut luhna"},null,2),[[x,s(t).relative_name]]),s(t).errors.relative_name?(d(),u("div",R,i(s(t).errors.relative_name),1)):p("",!0)])])]),r("div",null,[e[15]||(e[15]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," A pianni leh thla ",-1)),g(r("input",{type:"date",placeholder:"Mitthi Pianni leh thla","onUpdate:modelValue":e[3]||(e[3]=l=>s(t).dob=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.dob?"border-red-500":"border-gray-300"])},null,2),[[x,s(t).dob]]),s(t).errors.dob?(d(),u("div",Z,i(s(t).errors.dob),1)):p("",!0)]),r("div",null,[e[16]||(e[16]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Gender ",-1)),a(b,{outlined:"",dense:"",modelValue:s(t).gender,"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).gender=l),options:B,label:"Gender",error:s(t).errors.gender,"error-message":s(t).errors.gender?s(t).errors.gender:"",required:""},null,8,["modelValue","error","error-message"])]),o.$page.props.errors.gender?(d(),u("div",J,i(o.$page.props.errors.gender),1)):p("",!0),r("div",null,[e[17]||(e[17]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," District ",-1)),a(b,{outlined:"",dense:"",modelValue:s(t).district,"onUpdate:modelValue":e[5]||(e[5]=l=>s(t).district=l),label:"Select District",options:q.value,error:s(t).errors.district,"error-message":s(t).errors.district?s(t).errors.district:"",required:""},null,8,["modelValue","options","error","error-message"]),o.$page.props.errors.district?(d(),u("div",W,i(o.$page.props.errors.district),1)):p("",!0)]),r("div",null,[e[18]||(e[18]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Veng/Khua ",-1)),g(r("input",{type:"text",placeholder:"Ruang Zalhna tur veng","onUpdate:modelValue":e[6]||(e[6]=l=>s(t).locality=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.locality?"border-red-500":"border-gray-300"])},null,2),[[x,s(t).locality]]),s(t).errors.locality?(d(),u("div",X,i(s(t).errors.locality),1)):p("",!0)]),r("div",null,[e[19]||(e[19]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Assembly constituency ",-1)),a(b,{outlined:"",dense:"",label:"Mitthi te awmna assembly constituency",modelValue:s(t).constituency,"onUpdate:modelValue":e[7]||(e[7]=l=>s(t).constituency=l),"lazy-rules":"",options:N.value,rules:[l=>l&&l.length>0||"Assembly constituency is required"],error:s(t).errors.constituency,"error-message":s(t).errors.constituency?s(t).errors.constituency:""},null,8,["modelValue","options","rules","error","error-message"]),o.$page.props.errors.constituency?(d(),u("div",ee,i(o.$page.props.errors.constituency),1)):p("",!0)]),r("div",null,[e[20]||(e[20]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Thih ni leh darkar ",-1)),g(r("input",{type:"datetime-local",placeholder:"Mitthi thih ni leh darkar","onUpdate:modelValue":e[8]||(e[8]=l=>s(t).time_of_death=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.time_of_death?"border-red-500":"border-gray-300"])},null,2),[[x,s(t).time_of_death]]),s(t).errors.time_of_death?(d(),u("div",te,i(s(t).errors.time_of_death),1)):p("",!0)]),r("div",null,[e[21]||(e[21]=r("div",{class:"text-sm font-medium text-black q-mb-xs"}," Thihna hmun ",-1)),g(r("input",{type:"text",placeholder:"Thihna hmun","onUpdate:modelValue":e[9]||(e[9]=l=>s(t).place_of_death=l),class:c(["border p-2 w-full rounded-lg",s(t).errors.place_of_death?"border-red-500":"border-gray-300"])},null,2),[[x,s(t).place_of_death]]),s(t).errors.place_of_death?(d(),u("div",re,i(s(t).errors.place_of_death),1)):p("",!0)]),a(v,{style:{padding:"10px 24px","border-radius":"12px"},outline:"",unelevated:"","text-color":"black",label:"Preview",color:"white",onClick:e[10]||(e[10]=l=>f.value=!0)}),a(v,{unelevated:"",label:"Next",color:"black",onClick:h,style:{padding:"10px 95px","border-radius":"12px"}})]),_:1})])]),a(T,{modelValue:f.value,"onUpdate:modelValue":e[11]||(e[11]=l=>f.value=l)},{default:m(()=>[r("div",null,[a(U,{class:"w-[412px] h-[791px] rounded-t-lg"},{default:m(()=>[a(_,{class:"flex flex-col items-center"},{default:m(()=>[e[23]||(e[23]=r("p",{class:"text-[12px]"},"Mitthi Chungchang",-1)),e[24]||(e[24]=r("img",{class:"w-[17px] h-[30px]",src:"image/ruang.png",alt:""},null,-1)),r("h5",se,i(s(t).name),1)]),_:1}),a(_,{class:"q-pt-none ml-[42px]"},{default:m(()=>[e[33]||(e[33]=r("hr",{class:"my-4 border-border"},null,-1)),r("div",le,[e[25]||(e[25]=r("p",{class:"text-[#61646B]"},"Mitthi pianni leh thla",-1)),r("p",null,i(s(t).dob),1)]),r("div",oe,[e[26]||(e[26]=r("p",{class:"text-[#61646B]"},"Kum",-1)),r("p",null,i(D.value)+" years",1)]),r("div",ie,[e[27]||(e[27]=r("p",{class:"text-[#61646B]"},"Gender",-1)),r("p",null,i(s(t).gender.value),1)]),r("div",ae,[e[28]||(e[28]=r("p",{class:"text-[#61646B]"},"Thih ni leh darkar",-1)),r("p",null,i(M(s(t).time_of_death)),1)]),r("div",ne,[e[29]||(e[29]=r("p",{class:"text-[#61646B]"},"Thihna hmun",-1)),r("p",null,i(s(t).place_of_death),1)]),r("div",de,[e[30]||(e[30]=r("p",{class:"text-[#61646B]"},"District",-1)),r("p",null,i(s(t).district.label),1)]),r("div",ue,[e[31]||(e[31]=r("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),r("p",null,i(s(t).locality),1)]),r("div",pe,[e[32]||(e[32]=r("p",{class:"text-[#61646B]"},"Assembly Constituency",-1)),r("p",null,i(s(t).constituency.label),1)])]),_:1}),a($,{class:"ml-[22px] pt-[35px]"},{default:m(()=>[g(a(v,{style:{padding:"10px 28px","border-radius":"12px"},outline:"",unelevated:"","text-color":"black",color:"white",label:"Edit"},null,512),[[P]]),a(v,{style:{padding:"10px 80px","border-radius":"12px"},unelevated:"",label:"Approve & Next",color:"black",onClick:h})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1}))}}),Be=E(me,[["__scopeId","data-v-8305afff"]]);export{Be as default};
