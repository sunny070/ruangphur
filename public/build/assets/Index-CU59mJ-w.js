import{B as g,c as k,C as h,D as y,r as c,T as V,a as d,b as N,w as l,i as e,Q as i,d as B,t as D,g as p,l as _,m as v,f as F,x as f,q as x,s as T,u as S,N as q}from"./app-Cg05E-M0.js";import{Q as m}from"./QTd-DKmGASY1.js";import{Q as A}from"./QTable-gKs7DMAH.js";import{Q as E}from"./QFile-DWjfpr9U.js";import{Q as U}from"./QPage-B55A1LJH.js";import{C as $}from"./ClosePopup-BoeLJsVb.js";import{_ as j}from"./AdminLayout-D62LqS4E.js";import"./QLayout-Dx2kdi13.js";import"./format-PnhPivZU.js";import"./QSelect-C2C0-NM-.js";import"./QChip-Cosd9F7v.js";import"./QMenu-Dlx7_XBC.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-CApeFePy.js";const H=g({name:"QTr",props:{props:Object,noHover:Boolean},setup(a,{slots:t}){const u=k(()=>"q-tr"+(a.props===void 0||a.props.header===!0?"":" "+a.props.__trClass)+(a.noHover===!0?" q-tr--no-hover":""));return()=>h("tr",{class:u.value},y(t.default))}}),I=["href"],O={key:1},oe=Object.assign({layout:j},{__name:"Index",props:{informations:Array},setup(a){const t=c(!1),u=c(null),n=V({file:null}),C=r=>{u.value=r.id,t.value=!0},Q=()=>{n.put(route("admin.info.update",u.value),{onSuccess:()=>{t.value=!1,n.reset()},forceFormData:!0})},w=r=>{confirm("Are you sure you want to delete this file?")&&q.delete(route("admin.info.destroy",r))};return(r,s)=>(d(),N(U,{padding:""},{default:l(()=>[e(i,{color:"black",label:"Upload New",href:r.route("admin.info.create"),class:"q-mb-md"},null,8,["href"]),e(_,null,{default:l(()=>[e(A,{flat:"",rows:a.informations,columns:r.columns,"row-key":"id"},{body:l(o=>[e(H,{props:o},{default:l(()=>[e(m,null,{default:l(()=>[B(D(o.row.id),1)]),_:2},1024),e(m,null,{default:l(()=>[o.row.file_url?(d(),p("a",{key:0,href:o.row.file_url,target:"_blank",class:"text-black"}," View File ",8,I)):(d(),p("span",O,"No file attached"))]),_:2},1024),e(m,null,{default:l(()=>[e(i,{icon:"edit",color:"blue",dense:"",flat:"",onClick:b=>C(o.row)},null,8,["onClick"]),e(i,{icon:"delete",color:"red",dense:"",flat:"",onClick:b=>w(o.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]),_:1}),e(S,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=o=>t.value=o)},{default:l(()=>[e(_,null,{default:l(()=>[e(v,null,{default:l(()=>s[2]||(s[2]=[F("div",{class:"text-h6"},"Edit File",-1)])),_:1}),e(v,null,{default:l(()=>[e(E,{modelValue:f(n).file,"onUpdate:modelValue":s[0]||(s[0]=o=>f(n).file=o),label:"Choose New File"},null,8,["modelValue"])]),_:1}),e(x,{align:"right"},{default:l(()=>[T(e(i,{flat:"",label:"Cancel"},null,512),[[$]]),e(i,{color:"primary",label:"Save",loading:f(n).processing,onClick:Q},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{oe as default};
