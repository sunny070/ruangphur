import{Q as g}from"./QInput-BVHPB4cJ.js";import{d as y}from"./QBtn-DjlTh4hk.js";import{Q as V}from"./QForm--oeBMsDm.js";import{Q as b}from"./QPage-ATbWfI5x.js";import{r as p,a as k,q as B,v as c,u as f,A as r,B as i,F as Q,ag as w,L as O,E as P,T as q,ah as A}from"./app-DPhOyHFh.js";import{_ as T}from"./FormLayout-B1stb1-l.js";import{N as U}from"./Notify-gyfE_dfX.js";import"./use-key-composition-BPYueFTm.js";import"./QLayout-hsUDjsSS.js";import"./QAvatar-BKZzCG1i.js";import"./nodes-CvhOFnNE.js";const F={id:"q-app",style:{"min-height":"100vh"}},N={class:"q-pa-md"},j={class:"row q-gutter-x-sm justify-center"},s=6,G=Object.assign({layout:T},{__name:"OTP",setup(K){const l=p(Array(s).fill("")),u=k(()=>l.value.join("")),d=()=>{u.value.length===s?q({otp:u.value}).post(route("form.validateOtp")):U.create({message:"Please enter a valid OTP.",color:"negative"})},m=p([]),_=(e,o)=>{e&&(m.value[o]=e)},n=e=>{e>=0&&e<s&&m.value[e].select()},h=(e,o)=>{const t=e.key;["Tab","Shift","Meta","Control","Alt"].includes(t)||(t==="ArrowLeft"||t==="Backspace"?n(o-1):t==="ArrowRight"&&n(o+1))},v=(e,o)=>{e&&n(o+1)};return(e,o)=>(f(),B(b,{padding:""},{default:c(()=>[o[0]||(o[0]=r("h5",null,"Verify OTP",-1)),i(V,{onSubmit:P(d,["prevent"]),class:"q-gutter-md"},{default:c(()=>[r("div",F,[r("div",N,[r("div",j,[(f(),Q(O,null,w(s,t=>i(g,A({outlined:"",modelValue:l.value[t-1],"onUpdate:modelValue":a=>l.value[t-1]=a,ref_for:!0},e.$attrs,{onKeyup:a=>h(a,t-1),"onUpdate:modelValue":a=>v(a,t-1),key:t,ref_for:!0,ref:a=>_(a,t-1),maxlength:"1","input-class":"text-center",style:{width:"6ch"}}),null,16,["modelValue","onUpdate:modelValue","onKeyup"])),64))])])]),i(y,{label:"Submit",color:"primary",type:"submit"})]),_:1})]),_:1}))}});export{G as default};
