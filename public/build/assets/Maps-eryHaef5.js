import{E as Q,L as S}from"./index-wt0MyZjx.js";import{Q as N}from"./QPage-DYn21bSD.js";import{r as a,o as R,E as z,a as y,b as D,w as s,u as o,f as r,i as t,k as $,t as _,m as A,p as B,e as I,q as P,Q as g,s as T}from"./app-DY6z9ZO-.js";import{_ as O}from"./WebLayout-BJxCXKNF.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QTabs-B1e59bZV.js";import"./QLayout-DkfsYSgK.js";import"./rtl-DFPa-2ov.js";const H={class:"container"},J={class:"input-container"},W={class:"info-container"},X=40,Y=Object.assign({layout:O},{__name:"Maps",setup(Z){const w=a({lat:23.164543,lng:92.9375739}),i=a(null),u=a(null),C=a(""),U=a(""),q=a(""),k=a(""),E=a(""),F=a(""),M=a(0),x=a(0),d=a(!1),v=a(!1),V=a(null);R(()=>{z(()=>{typeof google<"u"?V.value=new google.maps.Geocoder:console.error("Google Maps API not loaded.")})});const L=(n,l)=>{V.value&&V.value.geocode({location:n},(e,m)=>{if(m==="OK"&&e[0]){const c=e[0].formatted_address;l==="source"?(C.value=c,U.value=n.lat,q.value=n.lng):l==="destination"&&(k.value=c,E.value=n.lat,F.value=n.lng),G()}else console.error("Geocoder failed due to:",m)})},p=(n,l)=>{const e={lat:n.latLng.lat(),lng:n.latLng.lng()};l==="source"?(i.value=e,L(e,"source")):l==="destination"&&(u.value=e,L(e,"destination"))},G=()=>{if(i.value&&u.value){const l=f(u.value.lat-i.value.lat),e=f(u.value.lng-i.value.lng),m=f(i.value.lat),c=f(u.value.lat),b=Math.sin(l/2)*Math.sin(l/2)+Math.cos(m)*Math.cos(c)*Math.sin(e/2)*Math.sin(e/2),K=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));M.value=(6371*K).toFixed(2),x.value=(M.value*X).toFixed(2)}},f=n=>n*(Math.PI/180);return(n,l)=>(y(),D(o(N),{padding:""},{default:s(()=>[r("div",H,[l[16]||(l[16]=r("h2",null,"Transportation Map",-1)),r("div",J,[t(o($),{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),label:"Source Locality",readonly:"",onClick:l[1]||(l[1]=e=>d.value=!0)},null,8,["modelValue"]),t(o($),{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value=e),label:"Destination Locality",readonly:"",onClick:l[3]||(l[3]=e=>v.value=!0)},null,8,["modelValue"])]),r("div",W,[r("p",null,"Distance: "+_(M.value)+" km",1),r("p",null,"Transport Cost: â‚¹"+_(x.value),1)]),t(o(T),{modelValue:d.value,"onUpdate:modelValue":l[8]||(l[8]=e=>d.value=e)},{default:s(()=>[t(o(A),{style:{width:"90vw","max-width":"600px"}},{default:s(()=>[t(o(B),null,{default:s(()=>[l[14]||(l[14]=r("h6",null,"Select Source Location",-1)),t(o(Q),{center:w.value,zoom:7,class:"dialog-map",onClick:l[5]||(l[5]=e=>p(e,"source"))},{default:s(()=>[i.value?(y(),D(o(S),{key:0,position:i.value,options:{position:i.value,label:"S"},onDragend:l[4]||(l[4]=e=>p(e,"source"))},null,8,["position","options"])):I("",!0)]),_:1},8,["center"])]),_:1}),t(o(P),{align:"right"},{default:s(()=>[t(o(g),{flat:"",label:"Cancel",onClick:l[6]||(l[6]=e=>d.value=!1)}),t(o(g),{flat:"",label:"Confirm",color:"primary",onClick:l[7]||(l[7]=e=>d.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(o(T),{modelValue:v.value,"onUpdate:modelValue":l[13]||(l[13]=e=>v.value=e)},{default:s(()=>[t(o(A),{style:{width:"90vw","max-width":"600px"}},{default:s(()=>[t(o(B),null,{default:s(()=>[l[15]||(l[15]=r("h6",null,"Select Destination Location",-1)),t(o(Q),{center:w.value,zoom:7,class:"dialog-map",onClick:l[10]||(l[10]=e=>p(e,"destination"))},{default:s(()=>[u.value?(y(),D(o(S),{key:0,position:u.value,options:{position:u.value,label:"D"},onDragend:l[9]||(l[9]=e=>p(e,"destination"))},null,8,["position","options"])):I("",!0)]),_:1},8,["center"])]),_:1}),t(o(P),{align:"right"},{default:s(()=>[t(o(g),{flat:"",label:"Cancel",onClick:l[11]||(l[11]=e=>v.value=!1)}),t(o(g),{flat:"",label:"Confirm",color:"primary",onClick:l[12]||(l[12]=e=>v.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1}))}}),il=j(Y,[["__scopeId","data-v-2268f675"]]);export{il as default};
