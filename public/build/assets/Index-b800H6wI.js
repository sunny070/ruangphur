import{r as m,c as b,a as r,b as c,w as i,i as n,f as s,d as P,k as Q,Q as g,m as A,p as h,t as f,e as v,g as k,h as S,F as _,j as D,N,b_ as V}from"./app-BU-P0o3a.js";import{Q as I,a as C}from"./QTimeline-CyRMFQ1c.js";import{Q as F}from"./QPage-BnL5U6Tp.js";import{a as B,b as E}from"./QLayout-CjzmvHMW.js";import{u as L}from"./use-quasar-BYuEYEIf.js";import{_ as q}from"./WebLayout-DWayuCGp.js";import"./format-B28FXeBv.js";import"./QTabs-ZhVq7cEj.js";import"./rtl-DFPa-2ov.js";const z={class:"flex items-center flex-col"},T={class:"w-[412px] h-[381px] flex-shrink-0 rounded-[10px] border border-[#EEE] bg-[#E9F4FF] p-5 mt-6"},$={class:"flex flex-col"},j={class:"flex gap-3 pt-6"},M={class:"mt-6"},O={class:"text-muted-foreground"},R={class:"text-muted-foreground"},te=Object.assign({layout:q},{__name:"Index",setup(U){const d=L(),o=m(""),a=m(null),u=m(!1),w=e=>{if(!o.value){d.notify({color:"negative",message:"Please enter a valid Application ID."});return}u.value=!0;try{N.get(route("application.view",o.value))}catch{d.notify({color:"negative",message:"Failed to load application details. Please try again."})}finally{u.value=!1}},x=async()=>{var e,t;u.value=!0;try{const{data:l}=await V.get(`/track/${o.value}`);a.value=l.application,d.notify({color:"positive",message:"Application found."})}catch(l){a.value=null;const p=((t=(e=l.response)==null?void 0:e.data)==null?void 0:t.message)||(l.request?"Network error. Please try again later.":"An unknown error occurred.");d.notify({color:"negative",message:p})}finally{u.value=!1}},y=b(()=>{if(!a.value)return{Pending:{status:null,title:"No Data",description:"No application data found.",timestamp:null,completed:!1}};const e=a.value.status;return{Pending:{status:e,title:"Form Submitted",description:"I ruang phurh dilna chu thehluah fel a ni tawh e, District lama thuneitu ten verify turin a thang mek.",timestamp:a.value.created_at?new Date(a.value.created_at).toLocaleString():null,completed:e==="Pending"||e==="Verified"||e==="Approved"||e==="Processed"},Verified:{status:e,title:"Verified",description:"District thuneitu te atangin verify a ni a, Directorate lamah thawn a ni.",timestamp:a.value.verified_at?new Date(a.value.verified_at).toLocaleString():null,completed:e==="Verified"||e==="Approved"||e==="Processed"},Approved:{status:e,title:"Application under process",description:"Directorate kutah a awm mek a, bank lama deposit turin file tih kal a ni.",timestamp:a.value.approved_at?new Date(a.value.approved_at).toLocaleString():null,completed:e==="Approved"||e==="Processed"},Processed:{status:e,title:"Bill Process",description:"I ruang phurh dilna chu bank lamah process mek a ni.",timestamp:a.value.processed_at?new Date(a.value.processed_at).toLocaleString():null,completed:e==="Processed"}}});return(e,t)=>(r(),c(B,null,{default:i(()=>[n(E,null,{default:i(()=>[n(F,{padding:""},{default:i(()=>[s("div",z,[s("div",T,[s("div",$,[t[2]||(t[2]=s("h5",{class:"text-2xl"},"Ruang phurh dil chhuina/track",-1)),t[3]||(t[3]=s("p",{class:"font-bold mb-4 text-[#5B656F] text-sm"}," I ruang phurh dilna a thlen chin zawnna a ni. Mipui ten zawldawh takin min lo ngaichang zel dawn nia. ",-1)),t[4]||(t[4]=P(" Track ID chhu lut rawh le ")),n(Q,{outlined:"",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=l=>o.value=l),placeholder:"I dilna thlen chin zawnna",dense:"",class:"custom-input"},null,8,["modelValue"])]),s("div",j,[n(g,{class:"text-black",label:"View",color:"white",onClick:t[1]||(t[1]=l=>w(o.value))}),n(g,{class:"w-3",label:"Track Now",color:"black",onClick:x,loading:u.value},null,8,["loading"])])]),a.value?(r(),c(A,{key:0,class:"q-ma-md h-[983px] w-[412px]"},{default:i(()=>[e.currentStatus?(r(),c(h,{key:0},{default:i(()=>[s("div",M,[s("p",O,"Status: "+f(e.currentStatus.status||"N/A"),1),s("p",R,"Applied date: "+f(e.currentStatus.timestamp||"N/A"),1)])]),_:1})):v("",!0),n(h,null,{default:i(()=>[t[5]||(t[5]=s("h5",null,"Current Status",-1)),n(I,{class:"q-mt-lg"},{default:i(()=>[(r(!0),k(_,null,S(y.value,(l,p)=>(r(),c(C,{key:p,title:l.title,subtitle:l.description,color:l.completed?"green":"grey"},{default:i(()=>[l.timestamp?(r(),k(_,{key:0},[n(D,{name:"schedule",size:"xs",class:"q-mr-sm"}),s("span",null,f(l.timestamp),1)],64)):v("",!0)]),_:2},1032,["title","subtitle","color"]))),128))]),_:1})]),_:1})]),_:1})):v("",!0)])]),_:1})]),_:1})]),_:1}))}});export{te as default};
