import{Q as S}from"./QBanner-DT1yai-B.js";import{r as i,c as B,o as K,a as m,b as c,w as u,d as v,t as d,e as y,f as t,i as n,n as g,Q as r,g as C,j as x,z as V,h as G,A as J,F as W,N as X}from"./app-jSku1vCx.js";import{Q as w,a as I}from"./format-C6r4MtX8.js";import{_ as Y,Q as Z}from"./AdminLayout-Cm53CRJt.js";import{Q as _}from"./QMenu-B9xFxoVG.js";import{Q as p}from"./QPage-C99ylTjV.js";import"./QLayout-Cja8Z5W6.js";import"./DropdownLink-DOWg3r91.js";const ee={class:"q-my-md flex gap-16"},te={class:"flex gap-96"},le={key:0,class:"flex"},se={class:"flex"},ne={class:"table-responsive"},ue={class:"q-table q-table__grid q-mb-lg"},de={class:"bg-[#3A424A] text-white font-bold h-[30px] w-full text-[11px]"},ge=Object.assign({layout:Y},{__name:"BillPayment",props:{applications:Array,flash:Object},setup(f){const j=f;i(null);const O=i([]),A=i(""),a=i("All"),o=i([]),P=B(()=>o.value.length>0);K(()=>{const s=[...new Set(j.applications.map(e=>e.deceased.district.name))];O.value=s.map(e=>({label:e,value:e}))});const k=B(()=>{let s=j.applications;return a.value==="Incoming"?s=s.filter(e=>e.status==="Pending"):a.value==="Approved"?s=s.filter(e=>e.status==="Approved"):a.value==="Rejected"&&(s=s.filter(e=>e.status==="Rejected")),A.value&&(s=s.filter(e=>e.application_no.toString().includes(A.value)||e.deceased.name.toLowerCase().includes(A.value.toLowerCase()))),s}),F=s=>{a.value=s},L=s=>{X.get(route("applications.show",s))},h=s=>{console.log("Edit application:",s)},R=s=>{console.log("Delete application:",s)},U=()=>{selectAllCheckbox.value?o.value=k.map(s=>s.id):o.value=[]},M=()=>{o.value=k.map(s=>s.id)},$=()=>{},H=()=>{};return(s,e)=>(m(),c(p,{padding:""},{default:u(()=>[f.flash.success?(m(),c(S,{key:0,class:"bg-green-4 text-white",dense:""},{default:u(()=>[v(d(f.flash.success),1)]),_:1})):y("",!0),f.flash.error?(m(),c(S,{key:1,class:"bg-red-4 text-white",dense:""},{default:u(()=>[v(d(f.flash.error),1)]),_:1})):y("",!0),e[23]||(e[23]=t("div",null,null,-1)),e[24]||(e[24]=t("div",{class:"flex justify-evenly items-center"},[t("div",{class:"w-[190px] h-[78px] bg-[#FFF7EF] text-[#FD7900] text-center"},[t("h6",{class:"text-bold"},"106"),t("p",null,"incoming")]),t("div",{class:"w-[190px] h-[78px] bg-[#EEFFF8] text-[#00AA68]"},"1"),t("div",{class:"w-[190px] h-[78px] bg-[#FFF2F2] text-[#FE6262]"},"1"),t("div",{class:"w-[190px] h-[78px] bg-[#F2F8FF] text-[#404CF1]"},"1"),t("div",{class:"w-[190px] h-[78px] bg-[#F2FBFF] text-[#00AEFF]"},"1")],-1)),t("div",ee,[n(r,{label:"Bill Pek tur",flat:"",class:g(a.value==="All"?"active-button":"inactive-button"),onClick:e[0]||(e[0]=l=>F("All"))},null,8,["class"]),n(r,{label:"Deposit to Bank",flat:"",class:g(a.value==="Incoming"?"active-button":"inactive-button"),onClick:e[1]||(e[1]=l=>F("Incoming"))},null,8,["class"]),n(r,{label:"Rejected",flat:"",class:g(a.value==="Rejected"?"active-button":"inactive-button"),onClick:e[2]||(e[2]=l=>F("Rejected"))},null,8,["class"])]),e[25]||(e[25]=t("hr",{class:"my-4 border-border bg-[#F0F0F0]"},null,-1)),t("div",te,[t("div",null,[P.value?(m(),C("div",le,[n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",onClick:M},{default:u(()=>[n(x,{name:"check",size:"16px",class:"q-mr-xs"}),e[5]||(e[5]=t("span",null,"Select All",-1))]),_:1}),n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",onClick:$,disabled:!o.value.length},{default:u(()=>[n(x,{name:"check_circle",size:"16px",class:"q-mr-xs"}),e[6]||(e[6]=t("span",null,"Process for Deposit",-1))]),_:1},8,["disabled"]),n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",onClick:H,disabled:!o.value.length},{default:u(()=>[n(x,{name:"cancel",size:"16px",class:"q-mr-xs"}),e[7]||(e[7]=t("span",null,"Reject",-1))]),_:1},8,["disabled"])])):y("",!0)]),t("div",se,[n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","flex-shrink":"0","border-radius":"8px",background:"transparent"}},{default:u(()=>[n(x,{name:"print",size:"16px",class:"q-mr-xs"}),e[8]||(e[8]=t("span",null,"Print",-1))]),_:1}),n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","flex-shrink":"0","border-radius":"8px",background:"transparent"}},{default:u(()=>[n(x,{name:"ios_share",size:"16px",class:"q-mr-xs"}),e[9]||(e[9]=t("span",null,"Export",-1))]),_:1})])]),t("div",ne,[t("table",ue,[t("thead",de,[t("tr",null,[t("th",null,[n(V,{modelValue:s.selectAllCheckbox,"onUpdate:modelValue":e[3]||(e[3]=l=>s.selectAllCheckbox=l),onChange:U},null,8,["modelValue"])]),e[10]||(e[10]=t("th",null,"APPLICANT ID",-1)),e[11]||(e[11]=t("th",null,"MITTHI HMING",-1)),e[12]||(e[12]=t("th",null,"MITTHI KHUA",-1)),e[13]||(e[13]=t("th",null,"KILOMETER",-1)),e[14]||(e[14]=t("th",null,"AMOUNT",-1)),e[15]||(e[15]=t("th",null,"DIL SAKTU",-1)),e[16]||(e[16]=t("th",null,"DILTU PHONE NO",-1)),e[17]||(e[17]=t("th",null,"STATUS",-1)),e[18]||(e[18]=t("th",null,"DIL NI",-1)),e[19]||(e[19]=t("th",null,"ACTIONS",-1))])]),t("tbody",null,[(m(!0),C(W,null,G(k.value,l=>{var Q,q,z,N,T,D,E;return m(),C("tr",{key:l.id},[t("td",null,[n(V,{modelValue:o.value,"onUpdate:modelValue":e[4]||(e[4]=b=>o.value=b),"true-value":l.id,"false-value":null},null,8,["modelValue","true-value"])]),t("td",null,d(l==null?void 0:l.application_no),1),t("td",null,d((Q=l==null?void 0:l.deceased)==null?void 0:Q.name),1),t("td",null,d((z=(q=l==null?void 0:l.deceased)==null?void 0:q.district)==null?void 0:z.name),1),t("td",null,d((N=l==null?void 0:l.transport)==null?void 0:N.distance),1),t("td",null,d((T=l==null?void 0:l.transport)==null?void 0:T.transport_cost),1),t("td",null,d((D=l==null?void 0:l.applicant)==null?void 0:D.name),1),t("td",null,d((E=l==null?void 0:l.applicant)==null?void 0:E.mobile),1),t("td",null,[t("div",{class:g([{"status-incoming":(l==null?void 0:l.status)==="Pending","status-rejected":(l==null?void 0:l.status)==="Rejected","status-approved":(l==null?void 0:l.status)==="Approved"},"status-badge"])},d(l==null?void 0:l.status),3)]),t("td",null,d(l==null?void 0:l.created_at),1),t("td",null,[n(r,{flat:"",icon:"more_vert",style:J(s.buttonStyle)},null,8,["style"]),n(_,null,{default:u(()=>[n(Z,null,{default:u(()=>[n(w,{clickable:"",class:"action-btn",onClick:b=>L(l.id)},{default:u(()=>[n(I,null,{default:u(()=>e[20]||(e[20]=[v("View")])),_:1})]),_:2},1032,["onClick"]),n(w,{class:"action-btn",onClick:b=>h(l.id)},{default:u(()=>[n(I,null,{default:u(()=>e[21]||(e[21]=[v("Edit/Update")])),_:1})]),_:2},1032,["onClick"]),n(w,{class:"action-btn",onClick:b=>R(l.id)},{default:u(()=>[n(I,null,{default:u(()=>e[22]||(e[22]=[v("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])}),128))])])])]),_:1}))}});export{ge as default};
