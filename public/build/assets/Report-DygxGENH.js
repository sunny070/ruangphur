import{r as f,e as A,o as n,h as a,g as t,m as i,X as y,F as d,i as p,C as b,bZ as g,t as r}from"./app-DE0G_PcF.js";import{d as k}from"./index-eotFUKer.js";import{_}from"./AdminLayout-CzjlYrQF.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CsHs7x3s.js";import"./QLayout-CVDZaGjc.js";import"./format--TUUW8L8.js";import"./QMenu-D_oUq42q.js";import"./QExpansionItem-CbgYRtL_.js";import"./ClosePopup-zl1a1MWy.js";const E={class:"filters"},w=["value"],C=["value"],F=Object.assign({layout:_},{__name:"Report",props:{dropdowns:Object,initialFilters:Object,initialApplications:Array},setup(u){const m=u,o=f({...m.initialFilters}),v=f([...m.initialApplications]),c=async()=>{try{const s=await g.get("/verifier/report",{params:o.value});v.value=s.data.applications}catch(s){console.error("Error fetching applications:",s)}},x=()=>{k.Inertia.get("/verifier/export",o.value,{responseType:"blob"})};return A(()=>{c()}),(s,l)=>(n(),a("div",null,[l[7]||(l[7]=t("h1",null,"User Report",-1)),t("div",E,[i(t("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.status=e)},[l[4]||(l[4]=t("option",{value:""},"All Statuses",-1)),(n(!0),a(d,null,p(u.dropdowns.statuses,e=>(n(),a("option",{key:e,value:e},r(e),9,w))),128))],512),[[y,o.value.status]]),i(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.constituency_id=e)},[l[5]||(l[5]=t("option",{value:""},"All Constituencies",-1)),(n(!0),a(d,null,p(u.dropdowns.constituencies,e=>(n(),a("option",{key:e.id,value:e.id},r(e.name),9,C))),128))],512),[[y,o.value.constituency_id]]),i(t("input",{type:"date","onUpdate:modelValue":l[2]||(l[2]=e=>o.value.start_date=e),placeholder:"Start Date"},null,512),[[b,o.value.start_date]]),i(t("input",{type:"date","onUpdate:modelValue":l[3]||(l[3]=e=>o.value.end_date=e),placeholder:"End Date"},null,512),[[b,o.value.end_date]]),t("button",{onClick:c},"Apply Filters"),t("button",{onClick:x},"Export to Excel")]),t("table",null,[l[6]||(l[6]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Applicant Name"),t("th",null,"Deceased Name"),t("th",null,"Status"),t("th",null,"Created At")])],-1)),t("tbody",null,[(n(!0),a(d,null,p(v.value,e=>(n(),a("tr",{key:e.id},[t("td",null,r(e.id),1),t("td",null,r(e.applicant.name),1),t("td",null,r(e.deceased.name),1),t("td",null,r(e.status),1),t("td",null,r(e.created_at),1)]))),128))])])]))}}),h=D(F,[["__scopeId","data-v-c3bc82b8"]]);export{h as default};
