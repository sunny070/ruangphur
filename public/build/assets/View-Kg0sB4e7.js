import{r as at,bX as lt,c as z,a as b,b as G,w as r,d as n,u as ot,g as t,t as a,bk as nt,l as p,k as it,h as f,i as X,F as x,Q as J,e as rt,f as dt}from"./app-DyTi5KuX.js";import{Q as ut}from"./QChip-ChNv0UoZ.js";import{Q as pt,a as mt}from"./QTimeline-BzjREb2S.js";import{Q as ct}from"./QPage-CN5TYfTe.js";import{W as vt}from"./WebLayout-DFgdyUDY.js";import{r as gt,d as ht}from"./index-o20kKi-8.js";import"./QLayout-CxhaKj2c.js";import"./format-C9iz93YD.js";import"./QTabs-lxqZivxn.js";import"./rtl-DFPa-2ov.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var _t=gt();const bt={class:"flex flex-center column q-mt-md"},yt={class:"q-pa-md rounded-borders bg-blue-1",style:{"max-width":"845px",width:"100%"}},qt={class:"text-center"},ft={class:"text-h5"},xt={class:"text-caption q-mb-md"},kt={class:"row q-mt-md"},Dt={class:"col-4 text-center"},wt={class:"text-weight-bold"},Mt={class:"col-4 text-center"},Vt={class:"text-weight-bold"},At={class:"col-4 text-center"},Pt={class:"text-weight-bold"},Rt={class:"row q-mt-lg q-col-gutter-md justify-center"},Ct={class:"col-12 col-md-6"},Qt={class:"q-mt-md"},Nt={class:"q-mt-md"},Tt={class:"q-mt-md"},Bt={class:"q-mt-md"},St={class:"q-mt-md"},jt={class:"q-mt-md"},Kt={class:"q-mt-md"},Lt={class:"q-mt-md"},Ft={class:"q-mt-md"},It={class:"q-mt-md"},Et={class:"q-mt-md"},$t={class:"q-mt-md"},Ht={class:"q-mt-md"},Ot={class:"q-mt-md"},Wt={class:"q-mt-md"},Yt={class:"q-mt-md"},zt={class:"q-mt-md"},Gt={class:"q-mt-md"},Xt={class:"col-12 col-md-6"},Jt={class:"q-mt-md"},Ut={class:"q-mt-md"},Zt={class:"q-mt-md"},te={class:"q-mt-md"},ee={class:"q-mt-md"},se={class:"q-mt-md"},ae={class:"q-mt-md"},he=Object.assign({layout:vt},{__name:"View",setup(le){var k,D,w,M,V,A,P,R,C;const s=at(lt().props.application);console.log(s);const U=z(()=>{var o;const l=(o=s.value)==null?void 0:o.deceased;if(!(l!=null&&l.dob)||!(l!=null&&l.time_of_death))return"";const e=new Date(l.dob),d=new Date(l.time_of_death);if(isNaN(e)||isNaN(d))return"";let m=d.getFullYear()-e.getFullYear();const c=d.getMonth(),v=e.getMonth(),y=d.getDate(),q=e.getDate();return(c<v||c===v&&y<q)&&m--,m}),Z=()=>{_t.Inertia.visit(route("track"))},tt=z(()=>{if(!s.value)return{Pending:{status:null,title:"No Data",description:"No application data found.",timestamp:null,completed:!1}};const l=s.value.status;let e={Pending:{status:l,title:"Form Submitted",description:"I ruang phurh dilna chu thehluah fel a ni tawh e, District lama thuneitu ten verify turin a thang mek.",timestamp:s.value.created_at?new Date(s.value.created_at).toLocaleString():null,completed:["Pending","Verified","Approved","Processed"].includes(l)},Verified:{status:l,title:"Verified",description:"District thuneitu te atangin verify a ni a, Directorate lamah thawn a ni.",timestamp:s.value.verified_at?new Date(s.value.verified_at).toLocaleString():null,completed:["Verified","Approved","Processed"].includes(l)},Approved:{status:l,title:"Application under process",description:"Directorate kutah a awm mek a, bank lama deposit turin file tih kal a ni.",timestamp:s.value.approved_at?new Date(s.value.approved_at).toLocaleString():null,completed:["Approved","Processed"].includes(l)},Processed:{status:l,title:"Bill Process",description:"I ruang phurh dilna chu bank lamah process mek a ni.",timestamp:s.value.processed_at?new Date(s.value.processed_at).toLocaleString():null,completed:l==="Processed"}};return l==="Rejected"&&(e.Rejected={status:l,title:"Application Rejected",description:s.value.feedback?`Application rejected. Reason: ${s.value.feedback}`:"Application rejected without feedback",timestamp:s.value.updated_at?new Date(s.value.updated_at).toLocaleString():null,completed:!0,color:"red"}),e}),et=[{label:"Motor hman man Voucher/Receipt",url:(D=(k=s.value)==null?void 0:k.attachment)==null?void 0:D.id_proof},{label:"Motor hman man Voucher/Receipt",url:(M=(w=s.value)==null?void 0:w.attachment)==null?void 0:M.receipt},{label:"Death Certificate",url:(A=(V=s.value)==null?void 0:V.attachment)==null?void 0:A.death_certificate},{label:"Diltu Aadhar card/voter ID",url:(R=(P=s.value)==null?void 0:P.attachment)==null?void 0:R.additional_document}];console.log((C=s.value)==null?void 0:C.attachment.id_proof);const st=l=>{let e=document.createElement("a");e.target="_blank",e.href=`/storage/${l}`,e.click()};return(l,e)=>(b(),G(ct,{padding:""},{default:r(()=>{var d,m,c,v,y,q;return[n(ot(ht.Head),{title:"Track"}),t("div",bt,[t("div",yt,[t("div",qt,[t("h5",ft,a(s.value.applicant.name),1),t("p",xt," s/o "+a(s.value.deceased.name),1),n(nt),t("div",kt,[t("div",Dt,[t("h5",wt,a((m=(d=s.value)==null?void 0:d.transport)==null?void 0:m.distance),1),e[0]||(e[0]=t("p",{class:"text-grey-7"},"Kilometre",-1))]),t("div",Mt,[t("h5",Vt,a((v=(c=s.value)==null?void 0:c.transport)==null?void 0:v.vehicle_number),1),e[1]||(e[1]=t("p",{class:"text-grey-7"},"Motor Reg.",-1))]),t("div",At,[t("h5",Pt,a((q=(y=s.value)==null?void 0:y.transport)==null?void 0:q.transport_cost),1),e[2]||(e[2]=t("p",{class:"text-grey-7"},"Amount (Rs)",-1))])])])])]),t("div",Rt,[t("div",Ct,[n(p,{class:"q-pa-md"},{default:r(()=>{var o,i;return[e[11]||(e[11]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Mitthi Chungchang ",-1)),t("div",Qt,[e[3]||(e[3]=t("p",{class:"text-grey-7"},"Mitthi pianni leh thla",-1)),t("p",null,a(s.value.deceased.dob),1)]),t("div",Nt,[e[4]||(e[4]=t("p",{class:"text-grey-7"},"Kum",-1)),t("p",null,a(U.value)+" years",1)]),t("div",Tt,[e[5]||(e[5]=t("p",{class:"text-grey-7"},"Gender",-1)),t("p",null,a(s.value.deceased.gender),1)]),t("div",Bt,[e[6]||(e[6]=t("p",{class:"text-grey-7"},"Thih ni leh darkar",-1)),t("p",null,a(s.value.deceased.time_of_death),1)]),t("div",St,[e[7]||(e[7]=t("p",{class:"text-grey-7"},"Thihna hmun",-1)),t("p",null,a(s.value.deceased.place_of_death),1)]),t("div",jt,[e[8]||(e[8]=t("p",{class:"text-grey-7"},"District",-1)),t("p",null,a((i=(o=s.value)==null?void 0:o.deceased)==null?void 0:i.district.name),1)]),t("div",Kt,[e[9]||(e[9]=t("p",{class:"text-grey-7"},"Veng/Khua",-1)),t("p",null,a(s.value.deceased.locality),1)]),t("div",Lt,[e[10]||(e[10]=t("p",{class:"text-grey-7"},"Assembly Constituency",-1)),t("p",null,a(s.value.deceased.constituency.name),1)])]}),_:1}),n(p,{class:"q-mt-md q-pa-md"},{default:r(()=>{var o,i,u,g,h,_,Q,N,T,B,S,j,K,L,F,I,E,$,H,O,W,Y;return[e[22]||(e[22]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Ruang Phurh leh Motor Chungchang ",-1)),e[23]||(e[23]=t("p",{class:"q-mt-md"},"Ruang phurh tanna",-1)),t("div",Ft,[e[12]||(e[12]=t("p",{class:"text-grey-7"},"District",-1)),t("p",null,a((u=(i=(o=s.value)==null?void 0:o.transport)==null?void 0:i.source_district)==null?void 0:u.name),1)]),t("div",It,[e[13]||(e[13]=t("p",{class:"text-grey-7"},"Veng/Khua",-1)),t("p",null,a((h=(g=s.value)==null?void 0:g.transport)==null?void 0:h.source_locality),1)]),e[24]||(e[24]=t("p",{class:"q-mt-md"},"Ruang dahna tur hmun",-1)),t("div",Et,[e[14]||(e[14]=t("p",{class:"text-grey-7"},"District",-1)),t("p",null,a((N=(Q=(_=s.value)==null?void 0:_.transport)==null?void 0:Q.destination_district)==null?void 0:N.name),1)]),t("div",$t,[e[15]||(e[15]=t("p",{class:"text-grey-7"},"Veng/Khua",-1)),t("p",null,a((B=(T=s.value)==null?void 0:T.transport)==null?void 0:B.destination_locality),1)]),t("div",Ht,[e[16]||(e[16]=t("p",{class:"text-grey-7"},"Kilometer",-1)),t("p",null,a((j=(S=s.value)==null?void 0:S.transport)==null?void 0:j.distance),1)]),e[25]||(e[25]=t("p",{class:"q-mt-md"},"Ruang phurhna motor",-1)),t("div",Ot,[e[17]||(e[17]=t("p",{class:"text-grey-7"},"Motor registration number",-1)),t("p",null,a((L=(K=s.value)==null?void 0:K.transport)==null?void 0:L.vehicle_number),1)]),t("div",Wt,[e[18]||(e[18]=t("p",{class:"text-grey-7"},"Motor hming",-1)),t("p",null,a((I=(F=s.value)==null?void 0:F.transport)==null?void 0:I.vehicle_name),1)]),t("div",Yt,[e[19]||(e[19]=t("p",{class:"text-grey-7"},"Motor neitu/khalhtu hming",-1)),t("p",null,a(($=(E=s.value)==null?void 0:E.transport)==null?void 0:$.driver_name),1)]),t("div",zt,[e[20]||(e[20]=t("p",{class:"text-grey-7"}," Motor neitu/khalhtu phone number ",-1)),t("p",null,a((O=(H=s.value)==null?void 0:H.transport)==null?void 0:O.driver_phone),1)]),t("div",Gt,[e[21]||(e[21]=t("p",{class:"text-grey-7"},"Motor hman man (Rs)",-1)),t("p",null,a((Y=(W=s.value)==null?void 0:W.transport)==null?void 0:Y.transport_cost),1)])]}),_:1}),n(it,{class:"q-mt-lg",color:"black",label:"Back to Track",onClick:Z})]),t("div",Xt,[n(p,{class:"q-pa-md"},{default:r(()=>{var o,i,u,g,h,_;return[e[30]||(e[30]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Ruang Phurh Diltu ",-1)),t("div",Jt,[e[26]||(e[26]=t("p",{class:"text-grey-7"},"Hming",-1)),t("p",null,a((i=(o=s.value)==null?void 0:o.applicant)==null?void 0:i.name),1)]),t("div",Ut,[e[27]||(e[27]=t("p",{class:"text-grey-7"},"District",-1)),t("p",null,a((h=(g=(u=s.value)==null?void 0:u.applicant)==null?void 0:g.district)==null?void 0:h.name),1)]),t("div",Zt,[e[28]||(e[28]=t("p",{class:"text-grey-7"},"Veng/Khua",-1)),t("p",null,a((_=s.value.applicant)==null?void 0:_.locality),1)]),t("div",te,[e[29]||(e[29]=t("p",{class:"text-grey-7"},"Phone Number",-1)),t("p",null,a(s.value.applicant.mobile),1)])]}),_:1}),n(p,{class:"q-mt-md q-pa-md"},{default:r(()=>[e[34]||(e[34]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Bank Details ",-1)),t("div",ee,[e[31]||(e[31]=t("p",{class:"text-grey-7"},"Bank hming",-1)),t("p",null,a(s.value.applicant.bank_name),1)]),t("div",se,[e[32]||(e[32]=t("p",{class:"text-grey-7"},"Bank account number",-1)),t("p",null,a(s.value.applicant.account_no),1)]),t("div",ae,[e[33]||(e[33]=t("p",{class:"text-grey-7"},"IFSC Code",-1)),t("p",null,a(s.value.applicant.ifsc_code),1)])]),_:1}),n(p,{class:"q-mt-md q-pa-md"},{default:r(()=>[e[35]||(e[35]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Document Thiltel te ",-1)),(b(),f(x,null,X(et,(o,i)=>n(ut,{key:i,clickable:"",onClick:u=>st(o.url)},{default:r(()=>[n(J,{name:"check_circle",class:"q-mr-sm"}),rt(" "+a(o.label),1)]),_:2},1032,["onClick"])),64))]),_:1}),n(p,{class:"q-mt-md q-pa-md"},{default:r(()=>[e[36]||(e[36]=t("p",{class:"text-center q-pa-sm bg-grey-3 rounded-borders"}," Track Application ",-1)),n(pt,{class:"q-mt-md"},{default:r(()=>[(b(!0),f(x,null,X(tt.value,(o,i)=>(b(),G(mt,{key:i,color:o.color||(o.completed?"green":"grey"),title:o.title,subtitle:o.description},{default:r(()=>[o.timestamp?(b(),f(x,{key:0},[n(J,{name:"schedule",size:"xs",class:"q-mr-sm"}),t("span",null,a(o.timestamp),1)],64)):dt("",!0)]),_:2},1032,["color","title","subtitle"]))),128))]),_:1})]),_:1})])])]}),_:1}))}});export{he as default};
