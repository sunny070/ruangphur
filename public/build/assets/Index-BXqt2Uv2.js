import{D as V,c as D,E as N,G as T,r as g,T as A,o as m,a as F,b as l,j as e,Q as u,f as d,t as f,h as k,q as C,s as v,g as x,u as _,y as B,m as S,z as E,N as $}from"./app-a35SYv1t.js";import{Q as i}from"./QTd-BY8KwvTZ.js";import{Q as q}from"./QTable-R8IAFhWg.js";import{Q as j}from"./QFile-Bg8TV7BI.js";import{Q as I}from"./QPage-BiOgDWdw.js";import{C as O}from"./ClosePopup-DfIh2mt8.js";import{_ as U}from"./AdminLayout-DV-xXAjk.js";import"./QLayout-0vXNl2tw.js";import"./format-CnVq-veo.js";import"./QSelect-DhnMkgHP.js";import"./QChip-0NilAzHz.js";import"./QMenu-CHrEPOzK.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-B2zjQDuI.js";const H=V({name:"QTr",props:{props:Object,noHover:Boolean},setup(n,{slots:c}){const r=D(()=>"q-tr"+(n.props===void 0||n.props.header===!0?"":" "+n.props.__trClass)+(n.noHover===!0?" q-tr--no-hover":""));return()=>N("tr",{class:r.value},T(c.default))}}),P=["onClick"],z={key:1},oe=Object.assign({layout:U},{__name:"Index",props:{informations:Array},setup(n){const c=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"title",label:"Title",field:"title",align:"left",sortable:!0},{name:"sub_title",label:"Sub Title",field:"sub_title",align:"left",sortable:!0},{name:"file_url",label:"Attachment",field:"file_url",align:"left"},{name:"created_at",label:"Created At",field:"created_at",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",align:"center"}],r=g(!1),p=g(null),s=A({file:null}),w=o=>{p.value=o.id,r.value=!0},Q=o=>{let a=document.createElement("a");a.target="_blank",a.href=`/storage/${o}`,a.click()},h=()=>{s.put(route("admin.info.update",p.value),{onSuccess:()=>{r.value=!1,s.reset()},forceFormData:!0})},y=o=>{confirm("Are you sure you want to delete this file?")&&$.delete(route("admin.info.destroy",o))};return(o,a)=>(m(),F(I,{padding:""},{default:l(()=>[e(u,{color:"black",label:"Upload New",href:o.route("admin.info.create"),class:"q-mb-md"},null,8,["href"]),e(C,null,{default:l(()=>[e(q,{flat:"",rows:n.informations,columns:c,"row-key":"id"},{body:l(t=>[e(H,{props:t},{default:l(()=>[e(i,null,{default:l(()=>[d(f(t.row.id),1)]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.title),1)]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.sub_title),1)]),_:2},1024),e(i,null,{default:l(()=>[t.row.file_url?(m(),k("a",{key:0,target:"_blank",class:"text-black",onClick:b=>Q(t.row.file_url)}," View File ",8,P)):(m(),k("span",z,"No file attached"))]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.created_at),1)]),_:2},1024),e(i,null,{default:l(()=>[e(u,{icon:"edit",color:"blue",dense:"",flat:"",onClick:b=>w(t.row)},null,8,["onClick"]),e(u,{icon:"delete",color:"red",dense:"",flat:"",onClick:b=>y(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1}),e(E,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=t=>r.value=t)},{default:l(()=>[e(C,null,{default:l(()=>[e(v,null,{default:l(()=>a[2]||(a[2]=[x("div",{class:"text-h6"},"Edit File",-1)])),_:1}),e(v,null,{default:l(()=>[e(j,{modelValue:_(s).file,"onUpdate:modelValue":a[0]||(a[0]=t=>_(s).file=t),label:"Choose New File"},null,8,["modelValue"])]),_:1}),e(B,{align:"right"},{default:l(()=>[S(e(u,{flat:"",label:"Cancel"},null,512),[[O]]),e(u,{color:"primary",label:"Save",loading:_(s).processing,onClick:h},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{oe as default};
