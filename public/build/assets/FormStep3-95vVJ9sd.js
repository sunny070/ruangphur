import{u as ee,Q as w}from"./QInput-DWXfAtP5.js";import{r as A,a as b,g as H,a3 as te,s as X,Y as le,h as j,c as ne,z as ae,a2 as ie,T as oe,aa as ue,B as re,D as y,C as se,J as d,I as n,M as de,K as v,Q,A as W}from"./app-C6fMH8jL.js";import{Q as me}from"./QChip-C7d3iM-v.js";import{k as ce,u as fe,c as pe,e as ve,h as ge,d as be,i as Y}from"./use-key-composition-SnHc4-8o.js";import{h as xe}from"./format-CJebrXOQ.js";import{Q as he}from"./QForm-u6S_mXKo.js";import{Q as ke}from"./QPage-2ykW8FJW.js";import{b as Fe,a as Ve}from"./QLayout-D4fgNmww.js";import{_ as ye}from"./WebLayout-Cy8zVXxi.js";import"./use-dark-B7xvBCAt.js";import"./use-tick-DkgPz2H6.js";import"./use-timeout-eVEjMaOZ.js";function I(t,p,D,C){const m=[];return t.forEach(s=>{C(s)===!0?m.push(s):p.push({failedPropValidation:D,file:s})}),m}function R(t){t&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy"),X(t)}const Ce={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Se=["rejected"];function De({editable:t,dnd:p,getFileInput:D,addFilesToQueue:C}){const{props:m,emit:s,proxy:i}=H(),h=A(null),P=b(()=>m.accept!==void 0?m.accept.split(",").map(l=>(l=l.trim(),l==="*"?"*/":(l.endsWith("/*")&&(l=l.slice(0,l.length-1)),l.toUpperCase()))):null),q=b(()=>parseInt(m.maxFiles,10)),k=b(()=>parseInt(m.maxTotalSize,10));function e(l){if(t.value)if(l!==Object(l)&&(l={target:null}),l.target!==null&&l.target.matches('input[type="file"]')===!0)l.clientX===0&&l.clientY===0&&te(l);else{const F=D();F&&F!==l.target&&F.click(l)}}function z(l){t.value&&l&&C(null,l)}function u(l,F,U,B){let o=Array.from(F||l.target.files);const x=[],S=()=>{x.length!==0&&s("rejected",x)};if(m.accept!==void 0&&P.value.indexOf("*/")===-1&&(o=I(o,x,"accept",r=>P.value.some(f=>r.type.toUpperCase().startsWith(f)||r.name.toUpperCase().endsWith(f))),o.length===0))return S();if(m.maxFileSize!==void 0){const r=parseInt(m.maxFileSize,10);if(o=I(o,x,"max-file-size",f=>f.size<=r),o.length===0)return S()}if(m.multiple!==!0&&o.length!==0&&(o=[o[0]]),o.forEach(r=>{r.__key=r.webkitRelativePath+r.lastModified+r.name+r.size}),B===!0){const r=U.map(f=>f.__key);o=I(o,x,"duplicate",f=>r.includes(f.__key)===!1)}if(o.length===0)return S();if(m.maxTotalSize!==void 0){let r=B===!0?U.reduce((f,L)=>f+L.size,0):0;if(o=I(o,x,"max-total-size",f=>(r+=f.size,r<=k.value)),o.length===0)return S()}if(typeof m.filter=="function"){const r=m.filter(o);o=I(o,x,"filter",f=>r.includes(f))}if(m.maxFiles!==void 0){let r=B===!0?U.length:0;if(o=I(o,x,"max-files",()=>(r++,r<=q.value)),o.length===0)return S()}if(S(),o.length!==0)return o}function _(l){R(l),p.value!==!0&&(p.value=!0)}function c(l){X(l),(l.relatedTarget!==null||le.is.safari!==!0?l.relatedTarget!==h.value:document.elementsFromPoint(l.clientX,l.clientY).includes(h.value)===!1)===!0&&(p.value=!1)}function N(l){R(l);const F=l.dataTransfer.files;F.length!==0&&C(null,F),p.value=!1}function M(l){if(p.value===!0)return j("div",{ref:h,class:`q-${l}__dnd absolute-full`,onDragenter:R,onDragover:R,onDragleave:c,onDrop:N})}return Object.assign(i,{pickFiles:e,addFiles:z}),{pickFiles:e,addFiles:z,onDragover:_,onDragleave:c,processFiles:u,getDndNode:M,maxFilesNumber:q,maxTotalSizeNumber:k}}const T=ne({name:"QFile",inheritAttrs:!1,props:{...ce,...fe,...Ce,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...pe,...Se],setup(t,{slots:p,emit:D,attrs:C}){const{proxy:m}=H(),s=ve(),i=A(null),h=A(!1),P=ge(t),{pickFiles:q,onDragover:k,onDragleave:e,processFiles:z,getDndNode:u}=De({editable:s.editable,dnd:h,getFileInput:$,addFilesToQueue:K}),_=ee(t),c=b(()=>Object(t.modelValue)===t.modelValue?"length"in t.modelValue?Array.from(t.modelValue):[t.modelValue]:[]),N=b(()=>Y(c.value)),M=b(()=>c.value.map(a=>a.name).join(", ")),l=b(()=>xe(c.value.reduce((a,g)=>a+g.size,0))),F=b(()=>({totalSize:l.value,filesNumber:c.value.length,maxFiles:t.maxFiles})),U=b(()=>({tabindex:-1,type:"file",title:"",accept:t.accept,capture:t.capture,name:P.value,...C,id:s.targetUid.value,disabled:s.editable.value!==!0})),B=b(()=>"q-file q-field--auto-height"+(h.value===!0?" q-file--dnd":"")),o=b(()=>t.multiple===!0&&t.append===!0);function x(a){const g=c.value.slice();g.splice(a,1),r(g)}function S(a){const g=c.value.indexOf(a);g!==-1&&x(g)}function r(a){D("update:modelValue",t.multiple===!0?a:a[0])}function f(a){a.keyCode===13&&ie(a)}function L(a){(a.keyCode===13||a.keyCode===32)&&q(a)}function $(){return i.value}function K(a,g){const V=z(a,g,c.value,o.value),E=$();E!=null&&(E.value=""),V!==void 0&&((t.multiple===!0?t.modelValue&&V.every(G=>c.value.includes(G)):t.modelValue===V[0])||r(o.value===!0?c.value.concat(V):V))}function O(){return[j("input",{class:[t.inputClass,"q-file__filler"],style:t.inputStyle})]}function J(){if(p.file!==void 0)return c.value.length===0?O():c.value.map((g,V)=>p.file({index:V,file:g,ref:this}));if(p.selected!==void 0)return c.value.length===0?O():p.selected({files:c.value,ref:this});if(t.useChips===!0)return c.value.length===0?O():c.value.map((g,V)=>j(me,{key:"file-"+V,removable:s.editable.value,dense:!0,textColor:t.color,tabindex:t.tabindex,onRemove:()=>{x(V)}},()=>j("span",{class:"ellipsis",textContent:g.name})));const a=t.displayValue!==void 0?t.displayValue:M.value;return a.length!==0?[j("div",{class:t.inputClass,style:t.inputStyle,textContent:a})]:O()}function Z(){const a={ref:i,...U.value,..._.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:K};return t.multiple===!0&&(a.multiple=!0),j("input",a)}return Object.assign(s,{fieldClass:B,emitValue:r,hasValue:N,inputRef:i,innerValue:c,floatingLabel:b(()=>N.value===!0||Y(t.displayValue)),computedCounter:b(()=>{if(t.counterLabel!==void 0)return t.counterLabel(F.value);const a=t.maxFiles;return`${c.value.length}${a!==void 0?" / "+a:""} (${l.value})`}),getControlChild:()=>u("file"),getControl:()=>{const a={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:t.tabindex};return s.editable.value===!0&&Object.assign(a,{onDragover:k,onDragleave:e,onKeydown:f,onKeyup:L}),j("div",a,[Z()].concat(J()))}}),Object.assign(m,{removeAtIndex:x,removeFile:S,getNativeElement:()=>i.value}),ae(m,"nativeEl",()=>i.value),be(s)}}),we={class:"flex flex-col justify-center items-center gap-6"},je={class:"border-2 border-gray-200 bg-[#E9F4FF] w-[412px] h-[195px] flex-shrink-0 rounded-[10px] text-center"},Ae={class:"border w-[412px] h-auto rounded-[10px] p-[23px]"},Me=Object.assign({layout:ye},{__name:"FormStep3",props:["form"],setup(t){const p=A(null),D=A(null),C=A(null),m=A(null),s=t,i=oe({name:s.form.name||"",mobile:s.form.mobile||"",district:s.form.district||"",locality:s.form.locality||"",bank_name:s.form.bank_name||"",account_no:s.form.account_no||"",ifsc_code:s.form.ifsc_code||"",id_proof:null,receipt:null,death_certificate:null,additional_document:null}),h=(k,e)=>{e&&e.length>0&&(i[k]=e[0])},P=()=>i.post(route("form.storeStep3"),{onBefore:()=>{const k=new FormData;return Object.keys(i).forEach(e=>{i[e]instanceof File?k.append(e,i[e]):k.append(e,i[e]||"")}),k}}),q=()=>window.history.back();return(k,e)=>{const z=ue("Link");return se(),re(Fe,null,{default:y(()=>[d(Ve,null,{default:y(()=>[d(ke,{padding:""},{default:y(()=>[n("div",we,[n("div",je,[d(z,{href:"/"},{default:y(()=>e[11]||(e[11]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[n("g",{"clip-path":"url(#clip0_75_1185)"},[n("path",{d:"M19 11H7.82998L12.71 6.12C13.1 5.73 13.1 5.09 12.71 4.7C12.32 4.31 11.69 4.31 11.3 4.7L4.70998 11.29C4.31998 11.68 4.31998 12.31 4.70998 12.7L11.3 19.29C11.69 19.68 12.32 19.68 12.71 19.29C13.1 18.9 13.1 18.27 12.71 17.88L7.82998 13H19C19.55 13 20 12.55 20 12C20 11.45 19.55 11 19 11Z",fill:"#323232"})]),n("defs",null,[n("clipPath",{id:"clip0_75_1185"},[n("rect",{width:"24",height:"24",fill:"white"})])])],-1)])),_:1}),e[12]||(e[12]=n("h5",{class:"text-black"},"Ruang Phurh Report Form",-1)),e[13]||(e[13]=n("img",{id:"background",class:"w-[369px] h-[88px]",src:"image/Vertical Stepper with numbers3.png"},null,-1))]),n("div",Ae,[d(he,{onSubmit:de(P,["prevent"]),class:"q-gutter-md"},{default:y(()=>[n("div",null,[e[14]||(e[14]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu hming ",-1)),d(w,{outlined:"",placeholder:"Diltu hming pum",dense:"",class:"custom-input",modelValue:v(i).name,"onUpdate:modelValue":e[0]||(e[0]=u=>v(i).name=u)},null,8,["modelValue"])]),n("div",null,[e[15]||(e[15]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," District ",-1)),d(w,{outlined:"",placeholder:"Ruang phurhna man diltu district",dense:"",class:"custom-input",modelValue:v(i).district,"onUpdate:modelValue":e[1]||(e[1]=u=>v(i).district=u)},null,8,["modelValue"])]),n("div",null,[e[16]||(e[16]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Veng/Khua ",-1)),d(w,{outlined:"",placeholder:"Ruang phurhna man diltu veng/khua",dense:"",class:"custom-input",modelValue:v(i).locality,"onUpdate:modelValue":e[2]||(e[2]=u=>v(i).locality=u)},null,8,["modelValue"])]),n("div",null,[e[17]||(e[17]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Phone number ",-1)),d(w,{outlined:"",placeholder:"Ruang phurhna man diltu phone no.",dense:"",class:"custom-input",modelValue:v(i).mobile,"onUpdate:modelValue":e[3]||(e[3]=u=>v(i).mobile=u)},null,8,["modelValue"])]),n("div",null,[e[18]||(e[18]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank hming ",-1)),d(w,{outlined:"",placeholder:"Ruang phurhna man dahluhna tur",dense:"",class:"custom-input",modelValue:v(i).bank_name,"onUpdate:modelValue":e[4]||(e[4]=u=>v(i).bank_name=u)},null,8,["modelValue"])]),n("div",null,[e[19]||(e[19]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank acocunt number ",-1)),d(w,{outlined:"",placeholder:"Bank account number",dense:"",class:"custom-input",modelValue:v(i).account_no,"onUpdate:modelValue":e[5]||(e[5]=u=>v(i).account_no=u)},null,8,["modelValue"])]),n("div",null,[e[20]||(e[20]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," IFSC code ",-1)),d(w,{outlined:"",placeholder:"Bank IFSC Code",dense:"",class:"custom-input",modelValue:v(i).ifsc_code,"onUpdate:modelValue":e[6]||(e[6]=u=>v(i).ifsc_code=u)},null,8,["modelValue"])]),e[25]||(e[25]=n("div",{class:"pt-5 text-sm font-medium text-[#61646B] q-mb-xs"}," Document Upload ",-1)),n("div",null,[e[21]||(e[21]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Mitthi Aadhar card/Voter ID thlalak upload ",-1)),d(T,{outlined:"",ref_key:"idProofUploader",ref:p,accept:".pdf,.jpg,.jpeg,.png",label:"Mitthi document upload na",dense:"",onAdded:e[7]||(e[7]=u=>h("id_proof",u))},{append:y(()=>[d(Q,{name:"attachment",color:"black"})]),_:1},512)]),n("div",null,[e[22]||(e[22]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Motor hman man Voucher/Receipt upload ",-1)),d(T,{outlined:"",ref_key:"receiptUploader",ref:D,accept:".pdf,.jpg,.jpeg,.png",label:"Motor hman man Voucher/ Receipt",dense:"",onAdded:e[8]||(e[8]=u=>h("receipt",u))},{append:y(()=>[d(Q,{name:"attachment",color:"black"})]),_:1},512)]),n("div",null,[e[23]||(e[23]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Death certificate/VC hriatpuina lehkha ",-1)),d(T,{outlined:"",ref_key:"deathCertificateUploader",ref:C,accept:".pdf,.jpg,.jpeg,.png",label:"A thi a ni tih hriatpuina",dense:"",onAdded:e[9]||(e[9]=u=>h("death_certificate",u))},{append:y(()=>[d(Q,{name:"attachment",color:"black"})]),_:1},512)]),e[26]||(e[26]=n("p",{class:"text-[#61646B]"}," Death certificate emaw Declaration of death by the Medical Officer lehkha/ Damdawiina thi lo tan Annexure 1.3 II in a sawi ang in Authorised Officials hriatpuina lehkha thil tel tur a ni. ",-1)),n("div",null,[e[24]||(e[24]=n("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu Aadhar card/Voter ID thlalak upload ",-1)),d(T,{outlined:"",ref_key:"additionalDocumentUploader",ref:m,accept:".pdf,.jpg,.jpeg,.png",label:"Motor hman man Voucher/ Receipt",dense:"",onAdded:e[10]||(e[10]=u=>h("additional_document",u))},{append:y(()=>[d(Q,{name:"attachment",color:"black"})]),_:1},512)]),d(W,{label:"Preview",class:"text-black",color:"white",onClick:q}),d(W,{label:"Submit & Send OTP",color:"black",type:"submit"})]),_:1})])])]),_:1})]),_:1})]),_:1})}}});export{Me as default};
