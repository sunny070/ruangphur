import{Q as h}from"./QSpace-Cq3AY6tj.js";import{Q as x,a as O}from"./QBreadcrumbs-BBABYJhi.js";import{T as $,a as C,b as N,w as i,f as t,i as l,k as n,u as s,as as k,q as R,Q as S}from"./app-DY6z9ZO-.js";import{Q as z}from"./QSelect-D89BJ1_7.js";import{Q as A}from"./QForm-oFHFc731.js";import{Q as E}from"./QPage-DYn21bSD.js";import{u as F}from"./use-quasar-Cs1LdNF0.js";import{_ as j}from"./AdminLayout-5KNea1XO.js";import"./QChip-ZnDgJwmd.js";import"./format-DPtYjOdv.js";import"./QMenu-DDLCkg3R.js";import"./rtl-DFPa-2ov.js";import"./QLayout-DkfsYSgK.js";import"./DropdownLink-D2MymX6x.js";const I={class:"flex flex-inline items-center"},M={class:"row q-col-gutter-sm"},T={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12 col-sm-6"},D={class:"col-xs-12 col-sm-6"},G={class:"col-xs-12 col-sm-6"},H={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12"},de=Object.assign({layout:j},{__name:"Create",props:{roles:Object},setup(B){const m=F(),e=$({name:"",phone:"",email:"",roles:[],password:"",password_confirmation:""}),_=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,P=a=>{U()},U=()=>{e.name="",e.mobile="",e.email="",e.roles=[],e.password="",e.password_confirmation=""},q=a=>{a.preventDefault(),e.post(route("user.store"),{onSuccess:()=>{m.notify({type:"positive",message:"User created successfully!"}),e.reset()},onError:o=>{m.notify({type:"negative",message:"There were errors in your submission."})},onFinish:()=>{var o;m.loading.hide(),(o=a==null?void 0:a.target)==null||o.reset()}})};return(a,o)=>(C(),N(E,{padding:""},{default:i(()=>[t("div",I,[o[12]||(o[12]=t("p",{class:"page-title"},"New User",-1)),l(h),l(O,{align:"right",gutter:"xs"},{default:i(()=>[l(x,{to:{name:"user:read"},label:"Users"}),l(x,{label:"New User"})]),_:1})]),l(A,{class:"zcard q-pa-md",onReset:P,onSubmit:q},{default:i(()=>{var d,u,p,g,c,f,w,y,b,V,v,Q;return[t("div",M,[t("div",T,[l(n,{modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).name=r),class:"my-input",dense:"",label:"Name",outlined:"",error:s(e).errors.hasOwnProperty("name"),"error-message":(u=(d=s(e).errors)==null?void 0:d.name)==null?void 0:u.toString(),onBlur:o[1]||(o[1]=r=>delete s(e).errors.name),rules:[r=>!!r||"Username is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",Z,[l(n,{modelValue:s(e).phone,"onUpdate:modelValue":o[2]||(o[2]=r=>s(e).phone=r),class:"my-input",mask:"##########",dense:"",label:"Mobile",outlined:"",error:s(e).errors.hasOwnProperty("phone"),"error-message":(g=(p=s(e).errors)==null?void 0:p.phone)==null?void 0:g.toString(),onBlur:o[3]||(o[3]=r=>delete s(e).errors.phone),rules:[r=>r.length===10||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",D,[l(n,{modelValue:s(e).email,"onUpdate:modelValue":o[4]||(o[4]=r=>s(e).email=r),class:"my-input",dense:"",label:"Email",outlined:"",error:s(e).errors.hasOwnProperty("email"),"error-message":(f=(c=s(e).errors)==null?void 0:c.email)==null?void 0:f.toString(),onBlur:o[5]||(o[5]=r=>delete s(e).errors.email),rules:[r=>_.test(r)||"Invalid email"]},null,8,["modelValue","error","error-message","rules"])]),t("div",G,[l(z,{modelValue:s(e).roles,"onUpdate:modelValue":o[6]||(o[6]=r=>s(e).roles=r),multiple:"","use-chips":"",options:B.roles,dense:"",class:"my-input",label:"Roles",outlined:"","option-value":"id","option-label":"name",error:s(e).errors.hasOwnProperty("roles"),"error-message":(y=(w=s(e).errors)==null?void 0:w.roles)==null?void 0:y.toString(),onBlur:o[7]||(o[7]=r=>delete s(e).errors.roles),rules:[r=>r.length>0||"roles is required"]},null,8,["modelValue","options","error","error-message","rules"])]),t("div",H,[l(n,{modelValue:s(e).password,"onUpdate:modelValue":o[8]||(o[8]=r=>s(e).password=r),type:"password",class:"my-input",dense:"",label:"Password",outlined:"",error:s(e).errors.hasOwnProperty("password"),"error-message":(V=(b=s(e).errors)==null?void 0:b.password)==null?void 0:V.toString(),onBlur:o[9]||(o[9]=r=>delete s(e).errors.password),rules:[r=>(r==null?void 0:r.length)>6||"Password must be atleast 6 digit character"]},null,8,["modelValue","error","error-message","rules"])]),t("div",J,[l(n,{modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[10]||(o[10]=r=>s(e).password_confirmation=r),type:"password",class:"my-input",dense:"",label:"Confirm Password",outlined:"",error:s(e).errors.hasOwnProperty("password_confirmation"),"error-message":(Q=(v=s(e).errors)==null?void 0:v.password_confirmation)==null?void 0:Q.toString(),onBlur:o[11]||(o[11]=r=>delete s(e).errors.password_confirmation),rules:[r=>r===s(e).password||"Confirm password doesn't match Password"]},null,8,["modelValue","error","error-message","rules"])])]),t("div",K,[l(k,{class:"q-my-md"})]),l(R,{class:"q-mt-md"},{default:i(()=>[l(S,{color:"primary",flat:"",type:"submit",label:"Save"}),l(S,{color:"negative",flat:"",type:"reset",label:"Reset"})]),_:1})]}),_:1})]),_:1}))}});export{de as default};
