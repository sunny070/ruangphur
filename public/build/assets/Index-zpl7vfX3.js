import{r as q,aw as N,a as r,b as f,w as a,f as t,i as s,j as x,Q as p,k as $,bc as S,g as d,F as g,h as b,N as h,t as V,d as v}from"./app-C0In1_Bg.js";import{Q as B}from"./QSpace-DO7uqt5L.js";import{Q as D}from"./QTabs-DmN9jTkM.js";import{Q as y}from"./QChip-DR_ehPOn.js";import{Q as k,a as Q,b as _}from"./format-DY5QUvbx.js";import{Q as j}from"./QLayout-DRIoFCNj.js";import{_ as E,Q as T}from"./AdminLayout-zIaWW83l.js";import{Q as U}from"./QPage-D75BcEeD.js";import{u as z}from"./use-quasar-Zq_ctrB_.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./rtl-DFPa-2ov.js";import"./QMenu-DPumZ7aG.js";import"./QExpansionItem-CzGHoK9d.js";import"./ClosePopup-CPzUbm6V.js";const F={class:"row q-gutter-md"},L={class:"flex zcard justify-between flex-inline col-12 q-pa-md"},O={class:"col-12 zcard q-pa-md"},K={class:"responsive-table"},R={class:"q-table w-full"},M={key:0},P={class:"flex"},W={class:"flex flex-col"},G={class:"text-center"},H={key:1},J={class:"col-12"},X={class:"flex q-gutter-sm justify-center"},Y=Object.assign({layout:E},{__name:"Index",props:["users","search"],setup(o){const u=z();q("");const m=o,c=N({search:m==null?void 0:m.search,tab:route().current()}),w=n=>{h.get(route("user.index"),{search:c.search})},C=n=>{h.get(route(n))},I=n=>{u.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{u.loading.show(),h.delete(route("user.destroy",n),{onSuccess:()=>{u.notify({type:"positive",message:"User deleted successfully"})},onError:e=>{u.notify({type:"negative",message:(e==null?void 0:e.message)||"Failed to delete user."})},onFinish:()=>{u.loading.hide()}})}).onCancel(()=>{}).onDismiss(()=>{})};return(n,e)=>(r(),f(U,{padding:""},{default:a(()=>[e[10]||(e[10]=t("p",{class:"page-title"},"Users",-1)),t("div",F,[t("div",L,[s(p,{size:"sm",flat:"",outlined:"",class:"flex items-center justify-center",style:{color:"#fff",width:"100px",height:"40px","border-radius":"8px",background:"#3a424a"},onClick:e[0]||(e[0]=l=>n.$inertia.get(n.route("user.create")))},{default:a(()=>[s(x,{name:"person_add",size:"16px",class:"q-mr-xs"}),e[5]||(e[5]=t("span",null,"New User",-1))]),_:1}),s(D,{stretch:"",shrink:"",modelValue:c.tab,"onUpdate:modelValue":[e[2]||(e[2]=l=>c.tab=l),C],align:"start"},{default:a(()=>[s(B),s($,{modelValue:c.search,"onUpdate:modelValue":e[1]||(e[1]=l=>c.search=l),autofocus:"",outlined:"",dense:"",onKeyup:S(w,["enter"]),"bg-color":"white",placeholder:"Search"},{append:a(()=>[s(x,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),t("div",O,[t("div",K,[t("table",R,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"bg-[#3A424A] text-white"},[t("th",{class:"text-left"},"NAME"),t("th",{class:"text-left"},"ROLES"),t("th",{class:"text-left"},"DISTRICT"),t("th",{class:"text-center"},"ACTIONS")])],-1)),o.users&&o.users.data&&o.users.data.length?(r(),d("tbody",M,[(r(!0),d(g,null,b(o.users.data,l=>(r(),d("tr",{key:l.id},[t("td",null,V((l==null?void 0:l.name)??"--"),1),t("td",null,[t("div",P,[(r(!0),d(g,null,b(l.roles,i=>(r(),f(y,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",null,[t("div",W,[(r(!0),d(g,null,b(l.districts,i=>(r(),f(y,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",G,[s(T,{flat:"",rounded:"","dropdown-icon":"more_vert",class:"q-pa-none"},{default:a(()=>[s(j,{separator:""},{default:a(()=>[s(k,{onClick:i=>n.$inertia.get(n.route("user.edit",l)),clickable:""},{default:a(()=>[s(Q,null,{default:a(()=>[s(_,null,{default:a(()=>e[6]||(e[6]=[v("Edit")])),_:1})]),_:1})]),_:2},1032,["onClick"]),s(k,{onClick:i=>I(l),clickable:""},{default:a(()=>[s(Q,null,{default:a(()=>[s(_,null,{default:a(()=>e[7]||(e[7]=[v("Delete")])),_:1})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])):(r(),d("tbody",H,e[8]||(e[8]=[t("tr",null,[t("td",{colspan:"4",class:"text-center text-gray-500"}," No users found. ")],-1)])))])]),t("div",J,[t("div",X,[s(p,{disable:!o.users.prev_page_url,onClick:e[3]||(e[3]=l=>n.$inertia.get(o.users.prev_page_url)),flat:"",round:"",icon:"chevron_left"},null,8,["disable"]),s(p,{disable:!o.users.next_page_url,onClick:e[4]||(e[4]=l=>n.$inertia.get(o.users.next_page_url)),flat:"",round:"",icon:"chevron_right"},null,8,["disable"])])])])])]),_:1}))}}),fe=A(Y,[["__scopeId","data-v-546013a8"]]);export{fe as default};
