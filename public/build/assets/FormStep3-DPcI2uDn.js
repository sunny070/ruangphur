import{Q as S}from"./QSelect-BYJrp-GI.js";import{r as h,T as U,a,b as q,w as i,i as d,f as t,p as F,s as c,ay as x,x as o,n as f,g as p,t as r,e as u,j as g,Q as v,u as j,l as P,m as I,q as $}from"./app-C0In1_Bg.js";import{Q as k}from"./QFile-B8WvEx4q.js";import{Q as O}from"./QForm-DfzRCM4G.js";import{Q as T}from"./QPage-D75BcEeD.js";import{a as A,b as E}from"./QLayout-DRIoFCNj.js";import{C as M}from"./ClosePopup-CPzUbm6V.js";import{_ as N}from"./WebLayout-ubnKHtbo.js";import{u as R}from"./use-quasar-Zq_ctrB_.js";import"./QChip-DR_ehPOn.js";import"./format-DY5QUvbx.js";import"./QMenu-DPumZ7aG.js";import"./rtl-DFPa-2ov.js";import"./QTabs-DmN9jTkM.js";const K={class:"flex flex-col justify-center items-center gap-6"},z={class:"border w-[412px] h-auto rounded-[10px] p-[23px]"},H={key:0,class:"text-red-500 text-sm"},L={key:0,class:"text-red"},G={key:0,class:"text-red-500 text-sm"},J={key:0,class:"text-red-500 text-sm"},W={key:0,class:"text-red-500 text-sm"},X={key:0,class:"text-red-500 text-sm"},Y={key:0,class:"text-red-500 text-sm"},Z={key:0,class:"text-red"},ee={key:0,class:"text-red"},te={key:0,class:"text-red"},le={key:0,class:"text-red"},oe={class:"pl-5"},se={class:"leading-[2px]"},re={class:"leading-[2px] pt-4"},de={class:"leading-[2px] pt-4"},ae={class:"leading-[2px] pt-4"},ie={class:"pl-5"},ne={class:"leading-[2px]"},pe={class:"leading-[2px] pt-4"},ue={class:"leading-[2px] pt-4"},me={class:"pl-5"},ce={class:""},xe={class:"pt-4"},fe={class:"pt-4"},be={class:"pt-4"},ge={class:"flex items-start space-x-2"},ve={class:"text-[#757575]"},je=Object.assign({layout:N},{__name:"FormStep3",props:["form","districts"],setup(D){h([]);const m=D,b=h(!1),B=R(),C=h(m.districts||[]),l=U({name:m.form.name||"",mobile:m.form.mobile||"",district_id:m.form.district_id||"",locality:m.form.locality||"",bank_name:m.form.bank_name||"",account_no:m.form.account_no||"",ifsc_code:m.form.ifsc_code||"",id_proof:null,receipt:null,death_certificate:null,additional_document:null}),_=()=>{const n=new FormData;Object.keys(l).forEach(e=>{l[e]instanceof File?n.append(e,l[e]):n.append(e,l[e]||"")}),n.append("district_id",l.district_id),l.post(route("form.storeStep3"),{data:n,onError:e=>{console.log(e),l.errors=e,b.value=!1},onSuccess:e=>{b.value=!1,console.log(e.files),B.notify({type:"positive",message:"OTP Sent successfully!",position:"top-right"})}})},Q=()=>{b.value=!0};return(n,e)=>(a(),q(A,null,{default:i(()=>[d(E,null,{default:i(()=>[d(T,{padding:""},{default:i(()=>[t("div",K,[e[27]||(e[27]=t("div",{class:"border-2 border-gray-200 bg-[#E9F4FF] flex-shrink-0 rounded-[10px] text-center"},[t("h5",{class:"text-black"},"Ruang Phurh Report Form"),t("img",{id:"background",class:"w-[412px] h-[193px]",src:"image/Vertical Stepper with numbers3.png"})],-1)),t("div",z,[d(O,{onSubmit:F(_,["prevent"]),class:"q-gutter-md"},{default:i(()=>[e[25]||(e[25]=t("div",{class:"pb-3 flex items-center gap-2"},[t("div",{class:"w-[3px] h-[19px] flex-shrink-0 bg-black"}),t("h6",{class:"text-sm text-bold"}," Ruang phurhna man diltu Chhungchang ")],-1)),t("div",null,[e[13]||(e[13]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu hming ",-1)),c(t("input",{type:"text",placeholder:"Diltu hming pum","onUpdate:modelValue":e[0]||(e[0]=s=>o(l).name=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.name?"border-red-500":"border-gray-300"])},null,2),[[x,o(l).name]]),o(l).errors.name?(a(),p("div",H,r(o(l).errors.name),1)):u("",!0)]),t("div",null,[e[14]||(e[14]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," District ",-1)),d(S,{color:"dark",outlined:"",dense:"",modelValue:o(l).district_id,"onUpdate:modelValue":e[1]||(e[1]=s=>o(l).district_id=s),label:"Select District",options:C.value,error:o(l).errors.district_id,"error-message":o(l).errors.district_id||""},null,8,["modelValue","options","error","error-message"]),o(l).errors.district_id?(a(),p("div",L,r(o(l).errors.district_id),1)):u("",!0)]),t("div",null,[e[15]||(e[15]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Veng/Khua ",-1)),c(t("input",{type:"text",placeholder:"Veng/Khua","onUpdate:modelValue":e[2]||(e[2]=s=>o(l).locality=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.locality?"border-red-500":"border-gray-300"])},null,2),[[x,o(l).locality]]),o(l).errors.locality?(a(),p("div",G,r(o(l).errors.locality),1)):u("",!0)]),t("div",null,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Phone number ",-1)),c(t("input",{type:"text",maxlength:"10",onInput:e[3]||(e[3]=s=>o(l).driver_phone=o(l).mobile.replace(/\D/g,"").slice(0,10)),placeholder:"Phone number","onUpdate:modelValue":e[4]||(e[4]=s=>o(l).mobile=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.mobile?"border-red-500":"border-gray-300"])},null,34),[[x,o(l).mobile]]),o(l).errors.mobile?(a(),p("div",J,r(o(l).errors.mobile),1)):u("",!0)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank hming ",-1)),c(t("input",{type:"text",placeholder:"Bank hming","onUpdate:modelValue":e[5]||(e[5]=s=>o(l).bank_name=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.bank_name?"border-red-500":"border-gray-300"])},null,2),[[x,o(l).bank_name]]),o(l).errors.bank_name?(a(),p("div",W,r(o(l).errors.bank_name),1)):u("",!0)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank account number ",-1)),c(t("input",{type:"text",placeholder:"Bank account number","onUpdate:modelValue":e[6]||(e[6]=s=>o(l).account_no=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.account_no?"border-red-500":"border-gray-300"])},null,2),[[x,o(l).account_no]]),o(l).errors.account_no?(a(),p("div",X,r(o(l).errors.account_no),1)):u("",!0)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," IFSC code ",-1)),c(t("input",{type:"text",placeholder:"Bank IFSC code","onUpdate:modelValue":e[7]||(e[7]=s=>o(l).ifsc_code=s),class:f(["border p-2 w-full rounded-lg",o(l).errors.ifsc_code?"border-red-500":"border-gray-300"])},null,2),[[x,o(l).ifsc_code]]),o(l).errors.ifsc_code?(a(),p("div",Y,r(o(l).errors.ifsc_code),1)):u("",!0)]),e[26]||(e[26]=t("div",{class:"pt-5 text-sm font-medium text-[#61646B] q-mb-xs"}," Document Upload ",-1)),t("div",null,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Mitthi Aadhar card/Voter ID thlalak upload ",-1)),d(k,{color:"dark",modelValue:o(l).id_proof,"onUpdate:modelValue":e[8]||(e[8]=s=>o(l).id_proof=s),outlined:"",dense:"",accept:".jpg, .jpeg, .png",label:"Upload ID proof"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),o(l).errors.id_proof?(a(),p("div",Z,r(o(l).errors.id_proof),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Motor hman man Voucher/Receipt upload ",-1)),d(k,{color:"dark",modelValue:o(l).receipt,"onUpdate:modelValue":e[9]||(e[9]=s=>o(l).receipt=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload receipt"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),n.$page.props.errors.receipt?(a(),p("div",ee,r(n.$page.props.errors.receipt),1)):u("",!0)]),t("div",null,[e[22]||(e[22]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Death certificate/VC hriatpuina lehkha ",-1)),d(k,{color:"dark",modelValue:o(l).death_certificate,"onUpdate:modelValue":e[10]||(e[10]=s=>o(l).death_certificate=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload death certificate"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),e[23]||(e[23]=t("p",{class:"text-[#61646B]"}," Death certificate emaw Declaration of death by the Medical Officer lehkha/ Damdawiina thi lo tan Annexure 1.3 II in a sawi ang in Authorised Officials hriatpuina lehkha thil tel tur a ni. ",-1)),n.$page.props.errors.death_certificate?(a(),p("div",te,r(n.$page.props.errors.death_certificate),1)):u("",!0)]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu Aadhar card/Voter ID thlalak upload ",-1)),d(k,{color:"dark",modelValue:o(l).additional_document,"onUpdate:modelValue":e[11]||(e[11]=s=>o(l).additional_document=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload additional document"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),n.$page.props.errors.additional_document?(a(),p("div",le,r(n.$page.props.errors.additional_document),1)):u("",!0)]),d(v,{style:{padding:"10px 24px","border-radius":"12px"},outline:"",unelevated:"","text-color":"black",label:"Preview",color:"white",onClick:Q}),d(v,{label:"Submit & Send OTP",unelevated:"",color:"black",onClick:_,style:{padding:"10px 50px","border-radius":"12px"}})]),_:1})])]),d(j,{modelValue:b.value,"onUpdate:modelValue":e[12]||(e[12]=s=>b.value=s)},{default:i(()=>[t("div",null,[d(P,{class:"w-[411px] h-auto rounded-md"},{default:i(()=>[d(I,{class:""},{default:i(()=>{var s,y,V,w;return[e[36]||(e[36]=t("p",{class:"text-center flex-shrink-0 rounded-[20px] mb-8"}," Ruang Phurh Diltu leh a man Chungchang ",-1)),e[37]||(e[37]=t("p",{class:""},"Diltu",-1)),t("div",oe,[t("div",se,[e[28]||(e[28]=t("p",{class:"text-[#61646B]"},"Hming",-1)),t("p",null,r(o(l).name),1)]),t("div",re,[e[29]||(e[29]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,r(o(l).district),1)]),t("div",de,[e[30]||(e[30]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,r(o(l).locality),1)]),t("div",ae,[e[31]||(e[31]=t("p",{class:"text-[#61646B]"}," Phone Number ",-1)),t("p",null,r(o(l).mobile),1)])]),e[38]||(e[38]=t("hr",{class:"my-4 border-border"},null,-1)),e[39]||(e[39]=t("p",{class:""},"Bank Details",-1)),t("div",ie,[t("div",ne,[e[32]||(e[32]=t("p",{class:"text-[#61646B]"},"Bank hming",-1)),t("p",null,r(o(l).bank_name),1)]),t("div",pe,[e[33]||(e[33]=t("p",{class:"text-[#61646B]"}," Bank account number ",-1)),t("p",null,r(o(l).account_no),1)]),t("div",ue,[e[34]||(e[34]=t("p",{class:"text-[#61646B]"},"IFSC Code",-1)),t("p",null,r(o(l).ifsc_code),1)])]),e[40]||(e[40]=t("hr",{class:"my-4 border-border"},null,-1)),e[41]||(e[41]=t("p",{class:"text-center w-[128px] h-[17px] flex-shrink-0 rounded-[20px] mb-8"}," Document Thiltel te ",-1)),t("div",me,[t("div",ce,[t("p",null,r(((s=o(l).id_proof)==null?void 0:s.name)||"No file uploaded"),1)]),t("div",xe,[t("p",null,r((y=o(l).receipt)==null?void 0:y.name),1)]),t("div",fe,[t("p",null,r((V=o(l).death_certificate)==null?void 0:V.name),1)]),t("div",be,[t("p",null,r((w=o(l).additional_document)==null?void 0:w.name),1)])]),t("div",ge,[e[35]||(e[35]=t("input",{type:"checkbox",class:"mt-1"},null,-1)),t("p",ve," Kei "+r(o(l).name)+" hian heng dilna leh document upload-te hi thu diktak a ni tih ka nemnghet e, diklo emaw felhlel a awm anih chuan a tul angin mawh ka phur ang. ",1)])]}),_:1}),d($,{class:"ml-[22px] pt-[35px]"},{default:i(()=>[c(d(v,{style:{padding:"10px 28px","border-radius":"12px"},class:"text-black",color:"white",label:"Edit"},null,512),[[M]]),d(v,{style:{padding:"10px 60px","border-radius":"12px"},label:"Submit & Send OTP",color:"black",onClick:_})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}});export{je as default};
