import{Q as ve,d as Pe,u as de,w as Ue}from"./dayjs.min-CDcnCoQa.js";import{r as y,w as De,o as Ce,a as b,c as _,b as n,t as A,d as E,e as re,f as U,g as c,h as j,i as ge,n as $,F as pe,j as s,Q as S,k as R,l as x,m as ue,v as Te,p as fe,q as he,s as qe,u as be,x as ye,N as le}from"./app-Dfx8wdb3.js";import{Q as ie}from"./QTooltip-B3fiqQDh.js";import{Q}from"./QSelect-Dpzcgx0J.js";import{Q as ce,a as z}from"./format-DmVDsBgE.js";import{Q as Re}from"./QLayout-DG6G-lQ6.js";import{Q as Oe}from"./QMenu-CDTgN4HV.js";import{Q as je}from"./QForm-DVhK76n-.js";import{Q as Le}from"./QPage-7_3KjJyu.js";import{C as we}from"./ClosePopup-CHpksyTA.js";import{_ as $e}from"./AdminLayout-CKiilQGn.js";import{_ as Qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-F2_HzQod.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-CN0lkqWd.js";function ze(m,o,r,d){function p(g){return g instanceof r?g:new r(function(h){h(g)})}return new(r||(r=Promise))(function(g,h){function C(w){try{l(d.next(w))}catch(k){h(k)}}function f(w){try{l(d.throw(w))}catch(k){h(k)}}function l(w){w.done?g(w.value):p(w.value).then(C,f)}l((d=d.apply(m,[])).next())})}function Ke(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Ge=function m(o,r){if(o===r)return!0;if(o&&r&&typeof o=="object"&&typeof r=="object"){if(o.constructor!==r.constructor)return!1;var d,p,g;if(Array.isArray(o)){if(d=o.length,d!=r.length)return!1;for(p=d;p--!==0;)if(!m(o[p],r[p]))return!1;return!0}if(o.constructor===RegExp)return o.source===r.source&&o.flags===r.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===r.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===r.toString();if(g=Object.keys(o),d=g.length,d!==Object.keys(r).length)return!1;for(p=d;p--!==0;)if(!Object.prototype.hasOwnProperty.call(r,g[p]))return!1;for(p=d;p--!==0;){var h=g[p];if(!m(o[h],r[h]))return!1}return!0}return o!==o&&r!==r},Be=Ke(Ge);const xe="__googleMapsScriptId";var K;(function(m){m[m.INITIALIZED=0]="INITIALIZED",m[m.LOADING=1]="LOADING",m[m.SUCCESS=2]="SUCCESS",m[m.FAILURE=3]="FAILURE"})(K||(K={}));class L{constructor({apiKey:o,authReferrerPolicy:r,channel:d,client:p,id:g=xe,language:h,libraries:C=[],mapIds:f,nonce:l,region:w,retries:k=3,url:M="https://maps.googleapis.com/maps/api/js",version:O}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=o,this.authReferrerPolicy=r,this.channel=d,this.client=p,this.id=g||xe,this.language=h,this.libraries=C,this.mapIds=f,this.nonce=l,this.region=w,this.retries=k,this.url=M,this.version=O,L.instance){if(!Be(this.options,L.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(L.instance.options)}`);return L.instance}L.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?K.FAILURE:this.done?K.SUCCESS:this.loading?K.LOADING:K.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let o=this.url;return o+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(o+=`&key=${this.apiKey}`),this.channel&&(o+=`&channel=${this.channel}`),this.client&&(o+=`&client=${this.client}`),this.libraries.length>0&&(o+=`&libraries=${this.libraries.join(",")}`),this.language&&(o+=`&language=${this.language}`),this.region&&(o+=`&region=${this.region}`),this.version&&(o+=`&v=${this.version}`),this.mapIds&&(o+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(o+=`&auth_referrer_policy=${this.authReferrerPolicy}`),o}deleteScript(){const o=document.getElementById(this.id);o&&o.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((o,r)=>{this.loadCallback(d=>{d?r(d.error):o(window.google)})})}importLibrary(o){return this.execute(),google.maps.importLibrary(o)}loadCallback(o){this.callbacks.push(o),this.execute()}setScript(){var o,r;if(document.getElementById(this.id)){this.callback();return}const d={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(d).forEach(g=>!d[g]&&delete d[g]),!((r=(o=window==null?void 0:window.google)===null||o===void 0?void 0:o.maps)===null||r===void 0)&&r.importLibrary||(g=>{let h,C,f,l="The Google Maps JavaScript API",w="google",k="importLibrary",M="__ib__",O=document,D=window;D=D[w]||(D[w]={});const T=D.maps||(D.maps={}),F=new Set,q=new URLSearchParams,u=()=>h||(h=new Promise((v,i)=>ze(this,void 0,void 0,function*(){var V;yield C=O.createElement("script"),C.id=this.id,q.set("libraries",[...F]+"");for(f in g)q.set(f.replace(/[A-Z]/g,N=>"_"+N[0].toLowerCase()),g[f]);q.set("callback",w+".maps."+M),C.src=this.url+"?"+q,T[M]=v,C.onerror=()=>h=i(Error(l+" could not load.")),C.nonce=this.nonce||((V=O.querySelector("script[nonce]"))===null||V===void 0?void 0:V.nonce)||"",O.head.append(C)})));T[k]?console.warn(l+" only loads once. Ignoring:",g):T[k]=(v,...i)=>F.add(v)&&u().then(()=>T[k](v,...i))})(d);const p=this.libraries.map(g=>this.importLibrary(g));p.length||p.push(this.importLibrary("core")),Promise.all(p).then(()=>this.callback(),g=>{const h=new ErrorEvent("error",{error:g});this.loadErrorCallback(h)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(o){if(this.errors.push(o),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=o,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(o=>{o(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const He={key:0,class:"text-red-500 text-sm mb-2"},Ye="AIzaSyAGK-HMMYfseKAJY356jUJLnz2ILC5bN_g",Je={__name:"TransportRouteMap",props:{transport:Object},emits:["update:source-locality","update:destination-locality","update:distance","update:transport-cost","maps-loaded"],setup(m,{emit:o}){const r=m,d=o,p=y(null),g=y(null),h=y(null),C=y(null),f=y(null),l=y(null),w=async()=>{try{await new L({apiKey:Ye,libraries:["places","geometry"],version:"weekly"}).load(),g.value=new google.maps.DirectionsService,h.value=new google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:5}}),console.log("Google Maps Initialized!"),d("maps-loaded")}catch(u){console.error("Google Maps failed to initialize:",u),l.value="Failed to load Google Maps"}};let k=null,M=null;const O=(u,v)=>{k&&k.setMap(null),M&&M.setMap(null),k=new google.maps.Marker({position:u,map:p.value,draggable:!0}),M=new google.maps.Marker({position:v,map:p.value,draggable:!0}),k.addListener("dragend",async i=>{const V=i.latLng,N=await D(V);d("update:source-locality",N),C.value=V,F()}),M.addListener("dragend",async i=>{const V=i.latLng,N=await D(V);d("update:destination-locality",N),f.value=V,F()})},D=u=>new Promise(v=>{new google.maps.Geocoder().geocode({location:u},(i,V)=>{V==="OK"&&i[0]&&v(i[0].formatted_address)})}),T=async u=>new Promise((v,i)=>{new google.maps.Geocoder().geocode({address:u},(N,se)=>{se==="OK"&&N.length>0?v(N[0].geometry.location):i(`Geocode failed for ${u}: ${se}`)})}),F=async()=>{if(!g.value||!C.value||!f.value){console.error("Directions service or coordinates not ready");return}try{console.log("Calculating Route...");const u=await g.value.route({origin:C.value,destination:f.value,travelMode:google.maps.TravelMode.DRIVING});h.value.setDirections(u),console.log("Route Response:",u);const v=u.routes[0].legs[0];O(v.start_location,v.end_location);const i=(v.distance.value/1e3).toFixed(2),V=10;d("update:distance",i),d("update:transport-cost",(i*V).toFixed(2)),u.routes.length>0?(h.value.setDirections(u),l.value=null):(console.error("No route found."),l.value="No route found.")}catch(u){console.error("Route calculation failed:",u),l.value="Route calculation failed."}},q=async()=>{var u,v;if(!((u=r.transport)!=null&&u.source_locality)||!((v=r.transport)!=null&&v.destination_locality)){console.warn("Missing source or destination locality.");return}try{console.log("Fetching Coordinates for:",r.transport.source_locality,r.transport.destination_locality),C.value=await T(r.transport.source_locality),f.value=await T(r.transport.destination_locality),console.log("Source Coordinates:",C.value),console.log("Destination Coordinates:",f.value),p.value||(p.value=new google.maps.Map(document.getElementById("map"),{center:C.value,zoom:12})),h.value.setMap(p.value),await F()}catch(i){console.error("Error updating map:",i),l.value="Failed to update map."}};return De(()=>r.transport,u=>{console.log("Transport Props Updated:",u),q()},{deep:!0,immediate:!0}),Ce(async()=>{await w(),q()}),(u,v)=>(b(),_("div",null,[v[0]||(v[0]=n("h2",{class:"text-lg font-semibold mb-2"},"Transport Route Map",-1)),l.value?(b(),_("div",He,A(l.value),1)):E("",!0),v[1]||(v[1]=n("div",{id:"map",class:"w-full h-96"},null,-1))]))}},Ze=Qe(Je,[["__scopeId","data-v-981a1e6c"]]),We={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Xe={class:"text-sm sm:text-base font-black"},et={class:"text-xs sm:text-sm"},tt={class:"q-my-md grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"flex flex-col sm:flex-row gap-5"},st={class:"flex justify-end"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nt={class:""},at={key:0,class:"flex flex-col sm:flex-row gap-2"},rt={class:"flex justify-end pr-16"},it={ref:"printSection",class:"rounded-lg overflow-x-auto table-responsive"},dt={class:"q-table q-table__grid w-full"},ut={key:0},ct=["value"],mt={class:"no-print"},vt={key:1},gt={key:0},pt={key:1},ft={class:"mt-4",style:{height:"200px"}},ht={key:2},Pt=Object.assign({layout:$e},{__name:"Application",props:{applications:Array,statusCounts:Object,flash:Object,dropdowns:Object},setup(m){const o=m,r=a=>Pe(a).format("dddd, MMMM D, YYYY h:mm A"),d=y(!1),p=y(!1);y(null);const g=y(null),h=y(null),C=y(null),f=y(1),l=y({deceased:{},transport:{},applicant:{}}),w=re(()=>i.value.some(a=>{const t=o.applications.find(I=>I.id===a);return t&&t.status!=="Pending"&&t.status!=="Verified"})),k=a=>{var t,I,P,e;l.value={...a,transport:{...a.transport,source_lat:Number((t=a.transport)==null?void 0:t.source_lat)||23.1645,source_lng:Number((I=a.transport)==null?void 0:I.source_lng)||92.9376,destination_lat:Number((P=a.transport)==null?void 0:P.destination_lat)||23.1645,destination_lng:Number((e=a.transport)==null?void 0:e.destination_lng)||92.9376}},f.value=1,d.value=!0},M=()=>{if(C.value){alert("Please fix route errors before submitting");return}le.put(`/application/${l.value.id}`,l.value,{onSuccess:()=>{d.value=!1}})},O=()=>{f.value<4&&f.value++},D=()=>{f.value>1&&f.value--},T=y([]),F=y(null),q=y([]),u=y(""),v=y("All"),i=y([]),V=re(()=>i.value.length>0),N=y(!1),se=()=>{i.value.length===G.value.length?(i.value=[],N.value=!1):(i.value=G.value.map(a=>a.id),N.value=!0)},Ae=()=>{F.value?T.value=o.applications.filter(a=>a.deceased.district.name===F.value):T.value=o.applications},ke=()=>{const a=[...new Set(o.applications.map(t=>t.deceased.district.name))];q.value=a.map(t=>({label:t,value:t}))},Ve=()=>{nextTick(()=>{const a=g.value.$el.querySelector("input"),t=h.value.$el.querySelector("input");new google.maps.places.Autocomplete(a,{types:["geocode"]}).addListener("place_changed",()=>{const I=autocomplete.getPlace();l.value.transport.source_locality=I.formatted_address}),new google.maps.places.Autocomplete(t,{types:["geocode"]}).addListener("place_changed",()=>{const I=autocomplete.getPlace();l.value.transport.destination_locality=I.formatted_address})})};Ce(ke);const G=re(()=>{let a=o.applications;return v.value==="Incoming"?a=a.filter(t=>t.status==="Pending"):v.value==="Approved"?a=a.filter(t=>t.status==="Approved"):v.value==="Rejected"&&(a=a.filter(t=>t.status==="Rejected")),u.value&&(a=a.filter(t=>t.application_no.toString().includes(u.value)||t.deceased.name.toLowerCase().includes(u.value.toLowerCase()))),a}),oe=a=>{v.value=a},Ie=a=>{le.get(route("applications.show",a))},Se=async()=>{if(i.value.length>0)try{await le.post("/admin/applications/approve-all",{ids:i.value},{onSuccess:()=>{i.value=[]}})}catch(a){console.error("Error approving applications:",a)}},Ee=async()=>{if(i.value.length>0)try{await le.post("/admin/applications/reject-all",{ids:i.value},{onSuccess:()=>{i.value=[]}})}catch(a){console.error("Error rejecting applications:",a)}},_e=()=>{const t=document.querySelector(".q-table").cloneNode(!0);t.querySelectorAll(".no-print").forEach(e=>e.remove());const P=window.open("","","width=800,height=600");P.document.write(`
        <html>
            <head>
                <title>Print Table</title>
                <style>
                    table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    th, td {
                        padding: 8px 12px;
                        text-align: left;
                        border-bottom: 1px solid #ddd;
                    }
                    th {
                        background-color: #3A424A;
                        color: white;
                        font-weight: bold;
                    }
                </style>
            </head>
            <body>
                ${t.outerHTML}
            </body>
        </html>
    `),P.document.close(),P.print()},Me=()=>{const a=G.value.map(e=>{var ne,B,H,Y,J,Z,W,X,ee,te;return{"Applicant NO.":e==null?void 0:e.application_no,"APPLICANT NAME.":(ne=e==null?void 0:e.applicant)==null?void 0:ne.name,"ADDRESS.":(B=e==null?void 0:e.applicant)==null?void 0:B.locality,"CONTACT No.":(H=e==null?void 0:e.applicant)==null?void 0:H.mobile,"MITTHI KHUA":(J=(Y=e==null?void 0:e.deceased)==null?void 0:Y.district)==null?void 0:J.name,"PLACE OF DEATH.":(Z=e==null?void 0:e.deceased)==null?void 0:Z.place_of_death," KILOMETER.":(W=e==null?void 0:e.transport)==null?void 0:W.distance,"AMOUNT CLAIMED":(X=e==null?void 0:e.transport)==null?void 0:X.transport_cost,"ACCOUNT No. OF CLAIMANT":(ee=e==null?void 0:e.applicant)==null?void 0:ee.account_no,IFSC:(te=e==null?void 0:e.applicant)==null?void 0:te.ifsc_code," Status":e==null?void 0:e.status,"Date Created":e==null?void 0:e.created_at,Signature:""}}),t=de.json_to_sheet(a),I=de.book_new();de.book_append_sheet(I,t,"Applications");const P=new Date().toISOString().slice(0,10);Ue(I,`Applications_${P}.xlsx`)},Fe=re(()=>[{label:"Incoming",count:o.statusCounts.Incoming||0,bgClass:"bg-[#FFF7EF]",textClass:"text-[#FD7900]"},{label:"Approved",count:o.statusCounts.Approved||0,bgClass:"bg-[#EEFFF8]",textClass:"text-[#00AA68]"},{label:"Rejected",count:o.statusCounts.Rejected||0,bgClass:"bg-[#FFF2F2]",textClass:"text-[#FE6262]"},{label:"Pending",count:o.statusCounts.Pending||0,bgClass:"bg-[#F2F8FF]",textClass:"text-[#404CF1]"},{label:"Processed",count:o.statusCounts.Processed||0,bgClass:"bg-[#F2FBFF]",textClass:"text-[#00AEFF]"}]),Ne=a=>{confirm("Are you sure you want to delete this application?")&&le.delete(`/applications/${a}`,{onSuccess:()=>{}})};return(a,t)=>(b(),U(Le,{padding:""},{default:c(()=>{var I,P;return[(I=m.flash)!=null&&I.success?(b(),U(ve,{key:0,class:"bg-green-4 text-white",dense:""},{default:c(()=>[j(A(m.flash.success),1)]),_:1})):E("",!0),(P=m.flash)!=null&&P.error?(b(),U(ve,{key:1,class:"bg-red-4 text-white",dense:""},{default:c(()=>[j(A(m.flash.error),1)]),_:1})):E("",!0),n("div",We,[(b(!0),_(pe,null,ge(Fe.value,e=>(b(),_("div",{key:e.label,class:$(`w-full h-[78px] ${e.bgClass} ${e.textClass} p-4`)},[n("h6",Xe,A(e.count),1),n("p",et,A(e.label),1)],2))),128))]),n("div",tt,[n("div",lt,[s(S,{label:"All",flat:"",class:$(v.value==="All"?"active-button":"inactive-button"),onClick:t[0]||(t[0]=e=>oe("All"))},null,8,["class"]),s(S,{label:"Incoming",flat:"",class:$(v.value==="Incoming"?"active-button":"inactive-button"),onClick:t[1]||(t[1]=e=>oe("Incoming"))},null,8,["class"]),s(S,{label:"Approved",flat:"",class:$(v.value==="Approved"?"active-button":"inactive-button"),onClick:t[2]||(t[2]=e=>oe("Approved"))},null,8,["class"]),s(S,{label:"Rejected",flat:"",class:$(v.value==="Rejected"?"active-button":"inactive-button"),onClick:t[3]||(t[3]=e=>oe("Rejected"))},null,8,["class"])]),n("div",st,[s(x,{rounded:"lg",outlined:"",dense:"","bottom-slots":"",modelValue:u.value,"onUpdate:modelValue":t[5]||(t[5]=e=>u.value=e),label:"Search",color:"dark",class:"w-full max-w-md"},{append:c(()=>[u.value!==""?(b(),U(R,{key:0,name:"close",onClick:t[4]||(t[4]=e=>u.value=""),class:"cursor-pointer"})):E("",!0),s(R,{name:"search"})]),_:1},8,["modelValue"])])]),n("div",ot,[n("div",nt,[V.value?(b(),_("div",at,[s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:se},{default:c(()=>[s(R,{name:"check",size:"16px",class:"q-mr-xs"}),t[38]||(t[38]=n("span",null,"Select All",-1))]),_:1}),s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:Se,disabled:!i.value.length||w.value},{default:c(()=>[s(R,{name:"check_circle",size:"16px",class:"q-mr-xs"}),t[41]||(t[41]=n("span",null,"Approve All",-1)),w.value&&i.value.length?(b(),U(ie,{key:0},{default:c(()=>t[39]||(t[39]=[j(" Cannot Approve - selected applications are already processed ")])),_:1})):i.value.length?E("",!0):(b(),U(ie,{key:1},{default:c(()=>t[40]||(t[40]=[j(" Select applications to approve ")])),_:1}))]),_:1},8,["disabled"]),s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:Ee,disabled:!i.value.length||w.value},{default:c(()=>[s(R,{name:"cancel",size:"16px",class:"q-mr-xs"}),t[44]||(t[44]=n("span",null,"Reject All",-1)),w.value&&i.value.length?(b(),U(ie,{key:0},{default:c(()=>t[42]||(t[42]=[j(" Cannot Reject - selected applications are already processed ")])),_:1})):i.value.length?E("",!0):(b(),U(ie,{key:1},{default:c(()=>t[43]||(t[43]=[j(" Select applications to reject ")])),_:1}))]),_:1},8,["disabled"])])):E("",!0)]),n("div",rt,[s(S,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","border-radius":"8px"},onClick:_e},{default:c(()=>[s(R,{name:"print",size:"16px",class:"q-mr-xs"}),t[45]||(t[45]=n("span",null,"Print",-1))]),_:1}),s(S,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","border-radius":"8px"},onClick:Me},{default:c(()=>[s(R,{name:"ios_share",size:"16px",class:"q-mr-xs"}),t[46]||(t[46]=n("span",null,"Export",-1))]),_:1}),s(Q,{color:"dark",style:{color:"#000",width:"160px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid black",background:"transparent"},modelValue:F.value,"onUpdate:modelValue":t[6]||(t[6]=e=>F.value=e),options:q.value,label:"Select District",outlined:"",dense:"",class:"q-mb-md",onInput:Ae},null,8,["modelValue","options"])])]),n("div",it,[n("table",dt,[t[52]||(t[52]=n("thead",null,[n("tr",{class:"bg-[#3A424A] text-white"},[n("th"),n("th",null,"Sl.No."),n("th",null,"APPLICATION NO."),n("th",null,"APPLICANT NAME"),n("th",null,"ADDRESS"),n("th",null,"CONTACT No."),n("th",null,"MITTHI KHUA"),n("th",null,"PLACE OF DEATH"),n("th",null,"KILOMETER"),n("th",null,"AMOUNT CLAIMED"),n("th",null,"ACCOUNT No. OF CLAIMANT"),n("th",null,"IFSC"),n("th",null,"STATUS"),n("th",null,"DIL NI"),n("th",{class:"no-print"},"ACTIONS"),n("th",{class:"print-only"},"Signature")])],-1)),G.value.length?(b(),_("tbody",ut,[(b(!0),_(pe,null,ge(G.value,(e,ne)=>{var B,H,Y,J,Z,W,X,ee,te,me;return b(),_("tr",{key:e.id},[n("td",null,[ue(n("input",{class:"no-print",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=ae=>i.value=ae),value:e.id},null,8,ct),[[Te,i.value]])]),n("td",null,A(ne+1),1),n("td",null,A(e==null?void 0:e.application_no),1),n("td",null,A((B=e==null?void 0:e.applicant)==null?void 0:B.name),1),n("td",null,A((H=e==null?void 0:e.applicant)==null?void 0:H.locality),1),n("td",null,A((Y=e==null?void 0:e.applicant)==null?void 0:Y.mobile),1),n("td",null,A((Z=(J=e==null?void 0:e.deceased)==null?void 0:J.district)==null?void 0:Z.name),1),n("td",null,A((W=e==null?void 0:e.deceased)==null?void 0:W.place_of_death),1),n("td",null,A((X=e==null?void 0:e.transport)==null?void 0:X.distance),1),n("td",null,A((ee=e==null?void 0:e.transport)==null?void 0:ee.transport_cost),1),n("td",null,A((te=e==null?void 0:e.applicant)==null?void 0:te.account_no),1),n("td",null,A((me=e==null?void 0:e.applicant)==null?void 0:me.ifsc_code),1),n("td",null,[n("div",{class:$([{"status-incoming":(e==null?void 0:e.status)==="Pending","status-verified":(e==null?void 0:e.status)==="Verified","status-rejected":(e==null?void 0:e.status)==="Rejected","status-approved":(e==null?void 0:e.status)==="Approved","status-paid":(e==null?void 0:e.status)==="Processed"},"status-badge"])},A(e==null?void 0:e.status),3)]),n("td",null,A(r(e==null?void 0:e.created_at)),1),n("td",mt,[s(S,{flat:"",icon:"more_vert"}),s(Oe,null,{default:c(()=>[s(Re,null,{default:c(()=>[s(ce,{clickable:"",onClick:ae=>Ie(e.id)},{default:c(()=>[s(z,{avatar:""},{default:c(()=>[s(R,{size:"sm",name:"visibility"})]),_:1}),s(z,null,{default:c(()=>t[47]||(t[47]=[j("View")])),_:1})]),_:2},1032,["onClick"]),s(ce,{clickable:"",onClick:ae=>k(e)},{default:c(()=>[s(z,{avatar:""},{default:c(()=>[s(R,{name:"edit"})]),_:1}),s(z,null,{default:c(()=>t[48]||(t[48]=[j("Edit/Update")])),_:1})]),_:2},1032,["onClick"]),s(ce,{clickable:"",onClick:ae=>Ne(e.id)},{default:c(()=>[s(z,{avatar:""},{default:c(()=>[s(R,{name:"delete"})]),_:1}),s(z,null,{default:c(()=>t[49]||(t[49]=[j("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),t[50]||(t[50]=n("td",{class:"print-only"},null,-1))])}),128))])):(b(),_("tbody",vt,t[51]||(t[51]=[n("tr",null,[n("td",{colspan:"11",class:"text-center text-gray-500"}," No applications found. ")],-1)])))])],512),s(ye,{modelValue:d.value,"onUpdate:modelValue":t[36]||(t[36]=e=>d.value=e)},{default:c(()=>[s(fe,{class:"w-[411px] h-[822px] rounded-md"},{default:c(()=>[s(he,null,{default:c(()=>[s(je,{onSubmit:qe(M,["prevent"])},{default:c(()=>[f.value===1?(b(),_("div",gt,[t[53]||(t[53]=n("p",{class:"text-center w-[242px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Ruang Phurh MITTHI Chungchang ",-1)),s(x,{modelValue:l.value.deceased.name,"onUpdate:modelValue":t[8]||(t[8]=e=>l.value.deceased.name=e),label:"Mitthi hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.deceased.relative_name,"onUpdate:modelValue":t[9]||(t[9]=e=>l.value.deceased.relative_name=e),label:"A chhungte hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{type:"date",modelValue:l.value.deceased.dob,"onUpdate:modelValue":t[10]||(t[10]=e=>l.value.deceased.dob=e),label:"Mitthi Pianni leh thla",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.deceased.district.name,"onUpdate:modelValue":t[11]||(t[11]=e=>l.value.deceased.district.name=e),options:m.dropdowns.districts,"option-label":"name","option-value":"id",label:"District",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{modelValue:l.value.deceased.locality,"onUpdate:modelValue":t[12]||(t[12]=e=>l.value.deceased.locality=e),label:"Locality",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.deceased.constituency.name,"onUpdate:modelValue":t[13]||(t[13]=e=>l.value.deceased.constituency.name=e),options:m.dropdowns.constituencies,"option-label":"name","option-value":"id",label:"Constituency",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{type:"datetime-local",modelValue:l.value.deceased.time_of_death,"onUpdate:modelValue":t[14]||(t[14]=e=>l.value.deceased.time_of_death=e),label:"Thih ni leh darkar",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.deceased.place_of_death,"onUpdate:modelValue":t[15]||(t[15]=e=>l.value.deceased.place_of_death=e),label:"Thihna hmun",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):E("",!0),f.value===2?(b(),_("div",pt,[t[54]||(t[54]=n("p",{class:"text-center w-[242px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Ruang Phurh leh Motor Chungchang ",-1)),s(Q,{modelValue:l.value.transport.source_district,"onUpdate:modelValue":t[16]||(t[16]=e=>l.value.transport.source_district=e),options:m.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang phurh tanna tur District awmna",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{ref_key:"sourceInput",ref:g,modelValue:l.value.transport.source_locality,"onUpdate:modelValue":t[17]||(t[17]=e=>l.value.transport.source_locality=e),label:"Source Locality",outlined:"",dense:""},null,8,["modelValue"]),s(Q,{modelValue:l.value.transport.destination_district,"onUpdate:modelValue":t[18]||(t[18]=e=>l.value.transport.destination_district=e),options:m.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang zalhna tur District awmna",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{ref_key:"destinationInput",ref:h,modelValue:l.value.transport.destination_locality,"onUpdate:modelValue":t[19]||(t[19]=e=>l.value.transport.destination_locality=e),label:"Destination Locality",outlined:"",dense:""},null,8,["modelValue"]),n("div",ft,[s(Ze,{transport:l.value.transport,"onUpdate:sourceLocality":t[20]||(t[20]=e=>l.value.transport.source_locality=e),"onUpdate:destinationLocality":t[21]||(t[21]=e=>l.value.transport.destination_locality=e),"onUpdate:distance":t[22]||(t[22]=e=>l.value.transport.distance=e),"onUpdate:transportCost":t[23]||(t[23]=e=>l.value.transport.transport_cost=e),onMapsLoaded:Ve},null,8,["transport"])]),s(x,{modelValue:l.value.transport.distance,"onUpdate:modelValue":t[24]||(t[24]=e=>l.value.transport.distance=e),label:"Distance (Km)",outlined:"",dense:"",class:"q-mb-md pt-[400px]"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.transport_cost,"onUpdate:modelValue":t[25]||(t[25]=e=>l.value.transport.transport_cost=e),label:"Transport Cost",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.vehicle_number,"onUpdate:modelValue":t[26]||(t[26]=e=>l.value.transport.vehicle_number=e),label:"Vehicle Number",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.driver_name,"onUpdate:modelValue":t[27]||(t[27]=e=>l.value.transport.driver_name=e),label:"Driver Name",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.driver_phone,"onUpdate:modelValue":t[28]||(t[28]=e=>l.value.transport.driver_phone=e),label:"Driver Phone",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):E("",!0),f.value===3?(b(),_("div",ht,[s(x,{modelValue:l.value.applicant.name,"onUpdate:modelValue":t[29]||(t[29]=e=>l.value.applicant.name=e),label:"Applicant Name",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.mobile,"onUpdate:modelValue":t[30]||(t[30]=e=>l.value.applicant.mobile=e),label:"Mobile",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.applicant.district.name,"onUpdate:modelValue":t[31]||(t[31]=e=>l.value.applicant.district.name=e),options:m.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang phurhna man diltu district",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{modelValue:l.value.applicant.locality,"onUpdate:modelValue":t[32]||(t[32]=e=>l.value.applicant.locality=e),label:"Ruang phurhna man diltu veng/khua",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.bank_name,"onUpdate:modelValue":t[33]||(t[33]=e=>l.value.applicant.bank_name=e),label:"Bank hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.account_no,"onUpdate:modelValue":t[34]||(t[34]=e=>l.value.applicant.account_no=e),label:"Account No",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.ifsc_code,"onUpdate:modelValue":t[35]||(t[35]=e=>l.value.applicant.ifsc_code=e),label:"IFSC Code",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):E("",!0),s(be,{align:"right"},{default:c(()=>[ue(s(S,{class:"text-black",color:"white",label:"Cancel"},null,512),[[we]]),f.value>1?(b(),U(S,{key:0,label:"Previous",color:"grey",onClick:D})):E("",!0),f.value<3?(b(),U(S,{key:1,label:"Next",color:"black",onClick:O})):E("",!0),f.value===3?(b(),U(S,{key:2,label:"Submit",color:"black",type:"submit"})):E("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ye,{modelValue:p.value,"onUpdate:modelValue":t[37]||(t[37]=e=>p.value=e),maximized:""},{default:c(()=>[s(fe,null,{default:c(()=>[s(he,null,{default:c(()=>t[55]||(t[55]=[n("div",{class:"text-h6"},"Transport Route Map",-1)])),_:1}),s(be,{align:"right"},{default:c(()=>[ue(s(S,{flat:"",label:"Close",color:"primary"},null,512),[[we]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}});export{Pt as default};
