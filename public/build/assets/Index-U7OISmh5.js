import{U as $,L as q,r as V,C as B,a as r,b as g,w as l,d as s,u as D,g as t,Q as m,k as h,j as E,af as j,h as d,F as b,i as x,N as v,t as k,e as y}from"./app-DyTi5KuX.js";import{Q as L}from"./QTabs-lxqZivxn.js";import{Q}from"./QChip-ChNv0UoZ.js";import{Q as _,a as f,b as C}from"./format-C9iz93YD.js";import{Q as T}from"./QLayout-CxhaKj2c.js";import{_ as U,Q as z}from"./AdminLayout-Du6pJdT5.js";import{Q as A}from"./QPage-CN5TYfTe.js";import{u as F}from"./use-quasar-DmwijHyj.js";import{d as O}from"./index-o20kKi-8.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./rtl-DFPa-2ov.js";import"./QMenu-BB-sI_PG.js";import"./QExpansionItem-DRUD65om.js";import"./ClosePopup-Aj3Jq9XG.js";const R=$({name:"QSpace",setup(){const n=q("div",{class:"q-space"});return()=>n}}),H={class:"bg-white p-4 rounded-lg flex justify-between"},M={class:"responsive-table"},P={class:"q-table w-full"},W={key:0},G={class:"p-2 border"},J={class:"flex"},X={class:"flex"},Y={class:"text-center"},Z={key:1},ee={class:"col-12"},te={class:"flex q-gutter-sm justify-center"},se=Object.assign({layout:U},{__name:"Index",props:["users","search"],setup(n){const u=F();V("");const p=n,c=B({search:p==null?void 0:p.search,tab:route().current()}),w=o=>{v.get(route("user.index"),{search:c.search})},I=o=>{v.get(route(o))},S=o=>{u.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{u.loading.show(),v.delete(route("user.destroy",o),{onSuccess:()=>{u.notify({type:"positive",message:"User deleted successfully"})},onError:e=>{u.notify({type:"negative",message:(e==null?void 0:e.message)||"Failed to delete user."})},onFinish:()=>{u.loading.hide()}})}).onCancel(()=>{}).onDismiss(()=>{})};return(o,e)=>(r(),g(A,{padding:""},{default:l(()=>[s(D(O.Head),{title:"User"}),t("div",H,[s(h,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#fff",width:"100px",height:"40px","border-radius":"8px","background-color":"#3a424a"},onClick:e[0]||(e[0]=a=>o.$inertia.get(o.route("user.create")))},{default:l(()=>[s(m,{name:"person_add",size:"16px",class:"q-mr-xs"}),e[5]||(e[5]=t("span",null,"Create",-1))]),_:1}),s(L,{stretch:"",shrink:"",modelValue:c.tab,"onUpdate:modelValue":[e[2]||(e[2]=a=>c.tab=a),I],align:"start"},{default:l(()=>[s(R),s(E,{color:"dark",modelValue:c.search,"onUpdate:modelValue":e[1]||(e[1]=a=>c.search=a),autofocus:"",outlined:"",dense:"",onKeyup:j(w,["enter"]),"bg-color":"white",placeholder:"Search"},{append:l(()=>[s(m,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),t("div",M,[t("table",P,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"bg-[#3A424A] text-white"},[t("th",{class:"text-left"},"Sl No."),t("th",{class:"text-left"},"NAME"),t("th",{class:"text-left"},"ROLES"),t("th",{class:"text-left"},"DISTRICT"),t("th",{class:"text-center"},"ACTIONS")])],-1)),n.users&&n.users.data&&n.users.data.length?(r(),d("tbody",W,[(r(!0),d(b,null,x(n.users.data,(a,N)=>(r(),d("tr",{key:a.id},[t("td",G,k(N+1),1),t("td",null,k((a==null?void 0:a.name)??"--"),1),t("td",null,[t("div",J,[(r(!0),d(b,null,x(a.roles,i=>(r(),g(Q,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",null,[t("div",X,[(r(!0),d(b,null,x(a.districts,i=>(r(),g(Q,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",Y,[s(z,{flat:"",rounded:"","dropdown-icon":"more_vert",class:"q-pa-none"},{default:l(()=>[s(T,{separator:""},{default:l(()=>[s(_,{onClick:i=>o.$inertia.get(o.route("user.edit",a)),clickable:""},{default:l(()=>[s(f,{avatar:""},{default:l(()=>[s(m,{name:"edit",size:"sm"})]),_:1}),s(f,null,{default:l(()=>[s(C,null,{default:l(()=>e[6]||(e[6]=[y("Edit")])),_:1})]),_:1})]),_:2},1032,["onClick"]),s(_,{onClick:i=>S(a),clickable:""},{default:l(()=>[s(f,{avatar:""},{default:l(()=>[s(m,{name:"delete",size:"sm"})]),_:1}),s(f,null,{default:l(()=>[s(C,null,{default:l(()=>e[7]||(e[7]=[y("Delete")])),_:1})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])):(r(),d("tbody",Z,e[8]||(e[8]=[t("tr",null,[t("td",{colspan:"4",class:"text-center text-gray-500"}," No users found. ")],-1)])))])]),t("div",ee,[t("div",te,[s(h,{disable:!n.users.prev_page_url,onClick:e[3]||(e[3]=a=>o.$inertia.get(n.users.prev_page_url)),flat:"",round:"",icon:"chevron_left"},null,8,["disable"]),s(h,{disable:!n.users.next_page_url,onClick:e[4]||(e[4]=a=>o.$inertia.get(n.users.next_page_url)),flat:"",round:"",icon:"chevron_right"},null,8,["disable"])])])]),_:1}))}}),be=K(se,[["__scopeId","data-v-610c6017"]]);export{be as default};
