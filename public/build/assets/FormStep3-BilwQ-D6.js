import{Q as U}from"./QSelect-DDZxhFw8.js";import{r as _,T as S,a,b as q,w as i,d,u as l,g as t,n as F,q as c,z as x,v as f,h as p,t as r,f as u,Q as g,k as v,s as I,l as P,m as j,p as $}from"./app-BHeael7A.js";import{Q as k}from"./QFile-BsttxAiM.js";import{Q as O}from"./QForm-DV-5sO98.js";import{Q as A}from"./QPage-DO6UowWf.js";import{a as E,b as T}from"./QLayout-7wX7CmRM.js";import{C as M}from"./ClosePopup-B8Woq_MJ.js";import{W as N}from"./WebLayout-BYqkswsI.js";import{d as R}from"./index-DUj18aJE.js";import{u as K}from"./use-quasar-D3GwrXq7.js";import"./QChip-DfmNLKZN.js";import"./format-CYKmJ8Oj.js";import"./QMenu-aFYmALZq.js";import"./rtl-DFPa-2ov.js";import"./QTabs-qZBaUD38.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex flex-col justify-center items-center gap-6"},H={class:"border w-[412px] h-auto rounded-[10px] p-[23px]"},L={key:0,class:"text-red-500 text-sm"},W={key:0,class:"text-red"},G={key:0,class:"text-red-500 text-sm"},J={key:0,class:"text-red-500 text-sm"},X={key:0,class:"text-red-500 text-sm"},Y={key:0,class:"text-red-500 text-sm"},Z={key:0,class:"text-red-500 text-sm"},ee={key:0,class:"text-red"},te={key:0,class:"text-red"},oe={key:0,class:"text-red"},le={key:0,class:"text-red"},se={class:"pl-5"},re={class:"leading-[2px]"},de={class:"leading-[2px] pt-4"},ae={class:"leading-[2px] pt-4"},ie={class:"leading-[2px] pt-4"},ne={class:"pl-5"},pe={class:"leading-[2px]"},ue={class:"leading-[2px] pt-4"},me={class:"leading-[2px] pt-4"},ce={class:"pl-5"},xe={class:""},fe={class:"pt-4"},be={class:"pt-4"},ge={class:"pt-4"},ve={class:"flex items-start space-x-2"},ke={class:"text-[#757575]"},$e=Object.assign({layout:N},{__name:"FormStep3",props:["form","districts"],setup(D){_([]);const m=D,b=_(!1),B=K(),C=_(m.districts||[]),o=S({name:m.form.name||"",mobile:m.form.mobile||"",district_id:m.form.district_id||"",locality:m.form.locality||"",bank_name:m.form.bank_name||"",account_no:m.form.account_no||"",ifsc_code:m.form.ifsc_code||"",id_proof:null,receipt:null,death_certificate:null,additional_document:null}),y=()=>{const n=new FormData;Object.keys(o).forEach(e=>{o[e]instanceof File?n.append(e,o[e]):n.append(e,o[e]||"")}),n.append("district_id",o.district_id),o.post(route("form.storeStep3"),{data:n,onError:e=>{console.log(e),o.errors=e,b.value=!1},onSuccess:e=>{b.value=!1,console.log(e.files),B.notify({type:"positive",message:"OTP Sent successfully!",position:"top-right"})}})},Q=()=>{b.value=!0};return(n,e)=>(a(),q(E,null,{default:i(()=>[d(T,null,{default:i(()=>[d(A,{padding:""},{default:i(()=>[d(l(R.Head),{title:"Application"}),t("div",z,[e[29]||(e[29]=t("div",{class:"border-2 border-gray-200 bg-[#E9F4FF] flex-shrink-0 rounded-[10px] text-center"},[t("h5",{class:"text-black"},"Ruang Phurh Report Form"),t("img",{id:"background",class:"w-[412px] h-[193px]",src:"image/Vertical Stepper with numbers3.png"})],-1)),t("div",H,[d(O,{onSubmit:F(y,["prevent"]),class:"q-gutter-md"},{default:i(()=>[e[27]||(e[27]=t("div",{class:"pb-3 flex items-center gap-2"},[t("div",{class:"w-[3px] h-[19px] flex-shrink-0 bg-black"}),t("h6",{class:"text-sm text-bold"}," Ruang phurhna man diltu Chhungchang ")],-1)),t("div",null,[e[15]||(e[15]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu hming ",-1)),c(t("input",{type:"text",placeholder:"Diltu hming pum","onUpdate:modelValue":e[0]||(e[0]=s=>l(o).name=s),class:f(["border p-2 w-full rounded-lg",l(o).errors.name?"border-red-500":"border-gray-300"])},null,2),[[x,l(o).name]]),l(o).errors.name?(a(),p("div",L,r(l(o).errors.name),1)):u("",!0)]),t("div",null,[e[16]||(e[16]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," District ",-1)),d(U,{color:"dark",outlined:"",dense:"",modelValue:l(o).district_id,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).district_id=s),label:"Select District",options:C.value,error:l(o).errors.district_id,"error-message":l(o).errors.district_id||""},null,8,["modelValue","options","error","error-message"]),l(o).errors.district_id?(a(),p("div",W,r(l(o).errors.district_id),1)):u("",!0)]),t("div",null,[e[17]||(e[17]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Veng/Khua ",-1)),c(t("input",{type:"text",placeholder:"Veng/Khua","onUpdate:modelValue":e[2]||(e[2]=s=>l(o).locality=s),class:f(["border p-2 w-full rounded-lg",l(o).errors.locality?"border-red-500":"border-gray-300"])},null,2),[[x,l(o).locality]]),l(o).errors.locality?(a(),p("div",G,r(l(o).errors.locality),1)):u("",!0)]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Phone number ",-1)),c(t("input",{type:"text",maxlength:"10",onInput:e[3]||(e[3]=s=>l(o).mobile=l(o).mobile.replace(/\D/g,"")),placeholder:"Phone number","onUpdate:modelValue":e[4]||(e[4]=s=>l(o).mobile=s),class:f(["border p-2 w-full rounded-lg",l(o).errors.mobile?"border-red-500":"border-gray-300"])},null,34),[[x,l(o).mobile]]),l(o).errors.mobile?(a(),p("div",J,r(l(o).errors.mobile),1)):u("",!0)]),t("div",null,[e[19]||(e[19]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank hming ",-1)),c(t("input",{type:"text",placeholder:"Bank hming","onUpdate:modelValue":e[5]||(e[5]=s=>l(o).bank_name=s),class:f(["border p-2 w-full rounded-lg",l(o).errors.bank_name?"border-red-500":"border-gray-300"])},null,2),[[x,l(o).bank_name]]),l(o).errors.bank_name?(a(),p("div",X,r(l(o).errors.bank_name),1)):u("",!0)]),t("div",null,[e[20]||(e[20]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank account number ",-1)),c(t("input",{type:"text",placeholder:"Bank account number","onUpdate:modelValue":e[6]||(e[6]=s=>l(o).account_no=s),onInput:e[7]||(e[7]=s=>l(o).account_no=l(o).account_no.replace(/\D/g,"")),class:f(["border p-2 w-full rounded-lg",l(o).errors.account_no?"border-red-500":"border-gray-300"])},null,34),[[x,l(o).account_no]]),l(o).errors.account_no?(a(),p("div",Y,r(l(o).errors.account_no),1)):u("",!0)]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," IFSC code ",-1)),c(t("input",{type:"text",placeholder:"Bank IFSC code","onUpdate:modelValue":e[8]||(e[8]=s=>l(o).ifsc_code=s),onInput:e[9]||(e[9]=s=>l(o).ifsc_code=l(o).ifsc_code.toUpperCase()),class:f(["border p-2 w-full rounded-lg",l(o).errors.ifsc_code?"border-red-500":"border-gray-300"])},null,34),[[x,l(o).ifsc_code]]),l(o).errors.ifsc_code?(a(),p("div",Z,r(l(o).errors.ifsc_code),1)):u("",!0)]),e[28]||(e[28]=t("div",{class:"pt-5 text-sm font-medium text-[#61646B] q-mb-xs"}," Document Upload ",-1)),t("div",null,[e[22]||(e[22]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Mitthi Aadhar card/Voter ID thlalak upload ",-1)),d(k,{color:"dark",modelValue:l(o).id_proof,"onUpdate:modelValue":e[10]||(e[10]=s=>l(o).id_proof=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload ID proof"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),l(o).errors.id_proof?(a(),p("div",ee,r(l(o).errors.id_proof),1)):u("",!0)]),t("div",null,[e[23]||(e[23]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Motor hman man Voucher/Receipt upload ",-1)),d(k,{color:"dark",modelValue:l(o).receipt,"onUpdate:modelValue":e[11]||(e[11]=s=>l(o).receipt=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload receipt"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),n.$page.props.errors.receipt?(a(),p("div",te,r(n.$page.props.errors.receipt),1)):u("",!0)]),t("div",null,[e[24]||(e[24]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Death certificate/VC hriatpuina lehkha ",-1)),d(k,{color:"dark",modelValue:l(o).death_certificate,"onUpdate:modelValue":e[12]||(e[12]=s=>l(o).death_certificate=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload death certificate"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),e[25]||(e[25]=t("p",{class:"text-[#61646B]"}," Death certificate emaw Declaration of death by the Medical Officer lehkha/ Damdawiina thi lo tan Annexure 1.3 II in a sawi ang in Authorised Officials hriatpuina lehkha thil tel tur a ni. ",-1)),n.$page.props.errors.death_certificate?(a(),p("div",oe,r(n.$page.props.errors.death_certificate),1)):u("",!0)]),t("div",null,[e[26]||(e[26]=t("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu Aadhar card/Voter ID thlalak upload ",-1)),d(k,{color:"dark",modelValue:l(o).additional_document,"onUpdate:modelValue":e[13]||(e[13]=s=>l(o).additional_document=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload additional document"},{prepend:i(()=>[d(g,{name:"attach_file"})]),_:1},8,["modelValue"]),n.$page.props.errors.additional_document?(a(),p("div",le,r(n.$page.props.errors.additional_document),1)):u("",!0)]),d(v,{style:{padding:"10px 24px","border-radius":"12px"},outline:"",unelevated:"","text-color":"black",label:"Preview",color:"white",onClick:Q}),d(v,{label:"Submit & Send OTP",unelevated:"",color:"black",onClick:y,style:{padding:"10px 50px","border-radius":"12px"}})]),_:1})])]),d(I,{modelValue:b.value,"onUpdate:modelValue":e[14]||(e[14]=s=>b.value=s)},{default:i(()=>[t("div",null,[d(P,{class:"w-[411px] h-auto rounded-md"},{default:i(()=>[d(j,{class:""},{default:i(()=>{var s,h,V,w;return[e[38]||(e[38]=t("p",{class:"text-center flex-shrink-0 rounded-[20px] mb-8 bg-[#61646B]"}," Ruang Phurh Diltu leh a man Chungchang ",-1)),e[39]||(e[39]=t("p",{class:""},"Diltu",-1)),t("div",se,[t("div",re,[e[30]||(e[30]=t("p",{class:"text-[#61646B]"},"Hming",-1)),t("p",null,r(l(o).name),1)]),t("div",de,[e[31]||(e[31]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,r(l(o).district),1)]),t("div",ae,[e[32]||(e[32]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,r(l(o).locality),1)]),t("div",ie,[e[33]||(e[33]=t("p",{class:"text-[#61646B]"}," Phone Number ",-1)),t("p",null,r(l(o).mobile),1)])]),e[40]||(e[40]=t("hr",{class:"my-4 border-border"},null,-1)),e[41]||(e[41]=t("p",{class:""},"Bank Details",-1)),t("div",ne,[t("div",pe,[e[34]||(e[34]=t("p",{class:"text-[#61646B]"},"Bank hming",-1)),t("p",null,r(l(o).bank_name),1)]),t("div",ue,[e[35]||(e[35]=t("p",{class:"text-[#61646B]"}," Bank account number ",-1)),t("p",null,r(l(o).account_no),1)]),t("div",me,[e[36]||(e[36]=t("p",{class:"text-[#61646B]"},"IFSC Code",-1)),t("p",null,r(l(o).ifsc_code),1)])]),e[42]||(e[42]=t("hr",{class:"my-4 border-border"},null,-1)),e[43]||(e[43]=t("p",{class:"text-center w-[128px] h-[17px] flex-shrink-0 rounded-[20px] mb-8"}," Document Thiltel te ",-1)),t("div",ce,[t("div",xe,[t("p",null,r(((s=l(o).id_proof)==null?void 0:s.name)||"No file uploaded"),1)]),t("div",fe,[t("p",null,r((h=l(o).receipt)==null?void 0:h.name),1)]),t("div",be,[t("p",null,r((V=l(o).death_certificate)==null?void 0:V.name),1)]),t("div",ge,[t("p",null,r((w=l(o).additional_document)==null?void 0:w.name),1)])]),t("div",ve,[e[37]||(e[37]=t("input",{type:"checkbox",class:"mt-1"},null,-1)),t("p",ke," Kei "+r(l(o).name)+" hian heng dilna leh document upload-te hi thu diktak a ni tih ka nemnghet e, diklo emaw felhlel a awm anih chuan a tul angin mawh ka phur ang. ",1)])]}),_:1}),d($,{class:"ml-[22px] pt-[35px]"},{default:i(()=>[c(d(v,{style:{padding:"10px 28px","border-radius":"12px"},class:"text-black",color:"white",label:"Edit"},null,512),[[M]]),d(v,{style:{padding:"10px 60px","border-radius":"12px"},label:"Submit & Send OTP",color:"black",onClick:y})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}});export{$e as default};
