import{r as Q,c as x,G as Z,H as re,I as ee,J as ne,K as q,L as oe,M as se,O as ie,P as ue,R as de,S as me,U as pe,V as J,W as ce,X as fe,Y as ge,T as ve,a as k,b as be,w as V,i as d,f as l,A as xe,k as w,u as a,g as S,t as p,e as C,j as O,Q as T,s as he,m as ke,p as Ve,q as ye,l as Fe}from"./app-DY6z9ZO-.js";import{Q as Se}from"./QSelect-D89BJ1_7.js";import{Q as Ce}from"./QChip-ZnDgJwmd.js";import{h as De}from"./format-DPtYjOdv.js";import{Q as _e}from"./QForm-oFHFc731.js";import{Q as $e}from"./QPage-DYn21bSD.js";import{Q as je,a as Be}from"./QLayout-DkfsYSgK.js";import{C as Pe}from"./ClosePopup-Cdw2F2K5.js";import{_ as qe}from"./WebLayout-BJxCXKNF.js";import"./QMenu-DDLCkg3R.js";import"./rtl-DFPa-2ov.js";import"./QTabs-B1e59bZV.js";function I(r,v,y,_){const t=[];return r.forEach(f=>{_(f)===!0?t.push(f):v.push({failedPropValidation:y,file:f})}),t}function R(r){r&&r.dataTransfer&&(r.dataTransfer.dropEffect="copy"),ee(r)}const we={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Ie=["rejected"];function Ue({editable:r,dnd:v,getFileInput:y,addFilesToQueue:_}){const{props:t,emit:f,proxy:o}=Z(),e=Q(null),s=x(()=>t.accept!==void 0?t.accept.split(",").map(n=>(n=n.trim(),n==="*"?"*/":(n.endsWith("/*")&&(n=n.slice(0,n.length-1)),n.toUpperCase()))):null),j=x(()=>parseInt(t.maxFiles,10)),B=x(()=>parseInt(t.maxTotalSize,10));function P(n){if(r.value)if(n!==Object(n)&&(n={target:null}),n.target!==null&&n.target.matches('input[type="file"]')===!0)n.clientX===0&&n.clientY===0&&re(n);else{const F=y();F&&F!==n.target&&F.click(n)}}function z(n){r.value&&n&&_(null,n)}function K(n,F,U,E){let u=Array.from(F||n.target.files);const h=[],$=()=>{h.length!==0&&f("rejected",h)};if(t.accept!==void 0&&s.value.indexOf("*/")===-1&&(u=I(u,h,"accept",m=>s.value.some(g=>m.type.toUpperCase().startsWith(g)||m.name.toUpperCase().endsWith(g))),u.length===0))return $();if(t.maxFileSize!==void 0){const m=parseInt(t.maxFileSize,10);if(u=I(u,h,"max-file-size",g=>g.size<=m),u.length===0)return $()}if(t.multiple!==!0&&u.length!==0&&(u=[u[0]]),u.forEach(m=>{m.__key=m.webkitRelativePath+m.lastModified+m.name+m.size}),E===!0){const m=U.map(g=>g.__key);u=I(u,h,"duplicate",g=>m.includes(g.__key)===!1)}if(u.length===0)return $();if(t.maxTotalSize!==void 0){let m=E===!0?U.reduce((g,X)=>g+X.size,0):0;if(u=I(u,h,"max-total-size",g=>(m+=g.size,m<=B.value)),u.length===0)return $()}if(typeof t.filter=="function"){const m=t.filter(u);u=I(u,h,"filter",g=>m.includes(g))}if(t.maxFiles!==void 0){let m=E===!0?U.length:0;if(u=I(u,h,"max-files",()=>(m++,m<=j.value)),u.length===0)return $()}if($(),u.length!==0)return u}function L(n){R(n),v.value!==!0&&(v.value=!0)}function c(n){ee(n),(n.relatedTarget!==null||ne.is.safari!==!0?n.relatedTarget!==e.value:document.elementsFromPoint(n.clientX,n.clientY).includes(e.value)===!1)===!0&&(v.value=!1)}function N(n){R(n);const F=n.dataTransfer.files;F.length!==0&&_(null,F),v.value=!1}function W(n){if(v.value===!0)return q("div",{ref:e,class:`q-${n}__dnd absolute-full`,onDragenter:R,onDragover:R,onDragleave:c,onDrop:N})}return Object.assign(o,{pickFiles:P,addFiles:z}),{pickFiles:P,addFiles:z,onDragover:L,onDragleave:c,processFiles:K,getDndNode:W,maxFilesNumber:j,maxTotalSizeNumber:B}}const M=oe({name:"QFile",inheritAttrs:!1,props:{...se,...ie,...we,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ue,...Ie],setup(r,{slots:v,emit:y,attrs:_}){const{proxy:t}=Z(),f=de(),o=Q(null),e=Q(!1),s=me(r),{pickFiles:j,onDragover:B,onDragleave:P,processFiles:z,getDndNode:K}=Ue({editable:f.editable,dnd:e,getFileInput:H,addFilesToQueue:G}),L=pe(r),c=x(()=>Object(r.modelValue)===r.modelValue?"length"in r.modelValue?Array.from(r.modelValue):[r.modelValue]:[]),N=x(()=>J(c.value)),W=x(()=>c.value.map(i=>i.name).join(", ")),n=x(()=>De(c.value.reduce((i,b)=>i+b.size,0))),F=x(()=>({totalSize:n.value,filesNumber:c.value.length,maxFiles:r.maxFiles})),U=x(()=>({tabindex:-1,type:"file",title:"",accept:r.accept,capture:r.capture,name:s.value,..._,id:f.targetUid.value,disabled:f.editable.value!==!0})),E=x(()=>"q-file q-field--auto-height"+(e.value===!0?" q-file--dnd":"")),u=x(()=>r.multiple===!0&&r.append===!0);function h(i){const b=c.value.slice();b.splice(i,1),m(b)}function $(i){const b=c.value.indexOf(i);b!==-1&&h(b)}function m(i){y("update:modelValue",r.multiple===!0?i:i[0])}function g(i){i.keyCode===13&&ge(i)}function X(i){(i.keyCode===13||i.keyCode===32)&&j(i)}function H(){return o.value}function G(i,b){const D=z(i,b,c.value,u.value),Y=H();Y!=null&&(Y.value=""),D!==void 0&&((r.multiple===!0?r.modelValue&&D.every(ae=>c.value.includes(ae)):r.modelValue===D[0])||m(u.value===!0?c.value.concat(D):D))}function A(){return[q("input",{class:[r.inputClass,"q-file__filler"],style:r.inputStyle})]}function te(){if(v.file!==void 0)return c.value.length===0?A():c.value.map((b,D)=>v.file({index:D,file:b,ref:this}));if(v.selected!==void 0)return c.value.length===0?A():v.selected({files:c.value,ref:this});if(r.useChips===!0)return c.value.length===0?A():c.value.map((b,D)=>q(Ce,{key:"file-"+D,removable:f.editable.value,dense:!0,textColor:r.color,tabindex:r.tabindex,onRemove:()=>{h(D)}},()=>q("span",{class:"ellipsis",textContent:b.name})));const i=r.displayValue!==void 0?r.displayValue:W.value;return i.length!==0?[q("div",{class:r.inputClass,style:r.inputStyle,textContent:i})]:A()}function le(){const i={ref:o,...U.value,...L.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:G};return r.multiple===!0&&(i.multiple=!0),q("input",i)}return Object.assign(f,{fieldClass:E,emitValue:m,hasValue:N,inputRef:o,innerValue:c,floatingLabel:x(()=>N.value===!0||J(r.displayValue)),computedCounter:x(()=>{if(r.counterLabel!==void 0)return r.counterLabel(F.value);const i=r.maxFiles;return`${c.value.length}${i!==void 0?" / "+i:""} (${n.value})`}),getControlChild:()=>K("file"),getControl:()=>{const i={ref:f.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:r.tabindex};return f.editable.value===!0&&Object.assign(i,{onDragover:B,onDragleave:P,onKeydown:g,onKeyup:X}),q("div",i,[le()].concat(te()))}}),Object.assign(t,{removeAtIndex:h,removeFile:$,getNativeElement:()=>o.value}),ce(t,"nativeEl",()=>o.value),fe(f)}}),Ee={class:"flex flex-col justify-center items-center gap-6"},Qe={class:"border w-[412px] h-auto rounded-[10px] p-[23px]"},ze={class:""},Ne={key:0,class:"text-red"},Ae={key:0,class:"text-red"},Oe={key:0,class:"text-red"},Te={key:0,class:"text-red"},Re={key:0,class:"text-red"},Me={key:0,class:"text-red"},Ke={key:0,class:"text-red"},Le={key:0,class:"text-red"},We={key:0,class:"text-red"},Xe={key:0,class:"text-red"},Ye={key:0,class:"text-red"},He={class:"leading-[2px]"},Ge={class:"leading-[2px] pt-4"},Je={class:"leading-[2px] pt-4"},Ze={class:"leading-[2px] pt-4"},et={class:"leading-[2px]"},tt={class:"leading-[2px] pt-4"},lt={class:"leading-[2px] pt-4"},at={class:"leading-[2px]"},rt={class:"leading-[2px] pt-4"},nt={class:"leading-[2px] pt-4"},ot={class:"leading-[2px] pt-4"},ht=Object.assign({layout:qe},{__name:"FormStep3",props:["form","districts"],setup(r){const v=r,y=Q(!1),_=Q(v.districts||[]),t=ve({name:"",mobile:"",district:"",locality:"",bank_name:"",account_no:"",ifsc_code:"",id_proof:null,receipt:null,death_certificate:null,additional_document:null}),f=()=>{const o=new FormData;Object.keys(t).forEach(e=>{t[e]instanceof File?o.append(e,t[e]):o.append(e,t[e]||"")}),t.post(route("form.storeStep3"),{data:o,onError:e=>{console.log(e),t.errors=e,y.value=!1},onSuccess:()=>{y.value=!1,$q.notify({type:"positive",message:"OTP Sent successfully!",position:"top-right"})}})};return(o,e)=>(k(),be(je,null,{default:V(()=>[d(Be,null,{default:V(()=>[d($e,{padding:""},{default:V(()=>[l("div",Ee,[e[27]||(e[27]=l("div",{class:"border-2 border-gray-200 bg-[#E9F4FF] flex-shrink-0 rounded-[10px] text-center"},[l("h5",{class:"text-black"},"Ruang Phurh Report Form"),l("img",{id:"background",class:"w-[412px] h-[193px]",src:"image/Vertical Stepper with numbers3.png"})],-1)),l("div",Qe,[d(_e,{onSubmit:xe(f,["prevent"]),class:"q-gutter-md"},{default:V(()=>[e[25]||(e[25]=l("div",{class:"pb-3 flex items-center gap-2"},[l("div",{class:"w-[3px] h-[19px] flex-shrink-0 bg-black"}),l("h6",{class:"text-sm text-bold"}," Ruang phurhna man diltu Chhungchang ")],-1)),l("div",null,[e[13]||(e[13]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu hming ",-1)),l("div",ze,[d(w,{outlined:"",placeholder:"Diltu hming pum",modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=s=>a(t).name=s),error:a(t).errors.name,"error-message":a(t).errors.name||""},null,8,["modelValue","error","error-message"])]),o.$page.props.errors.name?(k(),S("div",Ne,p(o.$page.props.errors.name),1)):C("",!0)]),l("div",null,[e[14]||(e[14]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," District ",-1)),d(Se,{outlined:"",dense:"",modelValue:a(t).district,"onUpdate:modelValue":e[1]||(e[1]=s=>a(t).district=s),label:"Select District",options:_.value,error:a(t).errors.district,"error-message":a(t).errors.district||""},null,8,["modelValue","options","error","error-message"]),o.$page.props.errors.district?(k(),S("div",Ae,p(o.$page.props.errors.district),1)):C("",!0)]),l("div",null,[e[15]||(e[15]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Veng/Khua ",-1)),d(w,{outlined:"",dense:"",placeholder:"Veng/Khua",modelValue:a(t).locality,"onUpdate:modelValue":e[2]||(e[2]=s=>a(t).locality=s),error:a(t).errors.locality,"error-message":a(t).errors.locality||""},null,8,["modelValue","error","error-message"]),o.$page.props.errors.locality?(k(),S("div",Oe,p(o.$page.props.errors.locality),1)):C("",!0)]),l("div",null,[e[16]||(e[16]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Phone number ",-1)),d(w,{outlined:"",dense:"",placeholder:"Phone number",modelValue:a(t).mobile,"onUpdate:modelValue":e[3]||(e[3]=s=>a(t).mobile=s),error:a(t).errors.mobile,"error-message":a(t).errors.mobile||""},null,8,["modelValue","error","error-message"]),o.$page.props.errors.mobile?(k(),S("div",Te,p(o.$page.props.errors.mobile),1)):C("",!0)]),l("div",null,[e[17]||(e[17]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank hming ",-1)),d(w,{outlined:"",dense:"",placeholder:"Bank hming",modelValue:a(t).bank_name,"onUpdate:modelValue":e[4]||(e[4]=s=>a(t).bank_name=s),error:a(t).errors.bank_name,"error-message":a(t).errors.bank_name||""},null,8,["modelValue","error","error-message"]),o.$page.props.errors.bank_name?(k(),S("div",Re,p(o.$page.props.errors.bank_name),1)):C("",!0)]),l("div",null,[e[18]||(e[18]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Bank account number ",-1)),d(w,{outlined:"",dense:"",placeholder:"Bank account number",modelValue:a(t).account_no,"onUpdate:modelValue":e[5]||(e[5]=s=>a(t).account_no=s),error:a(t).errors.account_no,"error-message":a(t).errors.account_no||""},null,8,["modelValue","error","error-message"]),o.$page.props.errors.account_no?(k(),S("div",Me,p(o.$page.props.errors.account_no),1)):C("",!0)]),l("div",null,[e[19]||(e[19]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," IFSC code ",-1)),d(w,{outlined:"",dense:"",placeholder:"Bank IFSC code",modelValue:a(t).ifsc_code,"onUpdate:modelValue":e[6]||(e[6]=s=>a(t).ifsc_code=s),error:a(t).errors.ifsc_code,"error-message":a(t).errors.ifsc_code||""},null,8,["modelValue","error","error-message"]),o.$page.props.errors.ifsc_code?(k(),S("div",Ke,p(o.$page.props.errors.ifsc_code),1)):C("",!0)]),e[26]||(e[26]=l("div",{class:"pt-5 text-sm font-medium text-[#61646B] q-mb-xs"}," Document Upload ",-1)),l("div",null,[e[20]||(e[20]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Mitthi Aadhar card/Voter ID thlalak upload ",-1)),d(M,{modelValue:a(t).id_proof,"onUpdate:modelValue":e[7]||(e[7]=s=>a(t).id_proof=s),outlined:"",dense:"",accept:".jpg, .jpeg, .png",label:"Upload ID proof"},{prepend:V(()=>[d(O,{name:"attach_file"})]),_:1},8,["modelValue"]),o.$page.props.errors.id_proof?(k(),S("div",Le,p(o.$page.props.errors.id_proof),1)):C("",!0)]),l("div",null,[e[21]||(e[21]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Motor hman man Voucher/Receipt upload ",-1)),d(M,{modelValue:a(t).receipt,"onUpdate:modelValue":e[8]||(e[8]=s=>a(t).receipt=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload receipt"},{prepend:V(()=>[d(O,{name:"attach_file"})]),_:1},8,["modelValue"]),o.$page.props.errors.receipt?(k(),S("div",We,p(o.$page.props.errors.receipt),1)):C("",!0)]),l("div",null,[e[22]||(e[22]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Death certificate/VC hriatpuina lehkha ",-1)),d(M,{modelValue:a(t).death_certificate,"onUpdate:modelValue":e[9]||(e[9]=s=>a(t).death_certificate=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload death certificate"},{prepend:V(()=>[d(O,{name:"attach_file"})]),_:1},8,["modelValue"]),e[23]||(e[23]=l("p",{class:"text-[#61646B]"}," Death certificate emaw Declaration of death by the Medical Officer lehkha/ Damdawiina thi lo tan Annexure 1.3 II in a sawi ang in Authorised Officials hriatpuina lehkha thil tel tur a ni. ",-1)),o.$page.props.errors.death_certificate?(k(),S("div",Xe,p(o.$page.props.errors.death_certificate),1)):C("",!0)]),l("div",null,[e[24]||(e[24]=l("div",{class:"text-sm font-medium text-black q-mb-xs"}," Diltu Aadhar card/Voter ID thlalak upload ",-1)),d(M,{modelValue:a(t).additional_document,"onUpdate:modelValue":e[10]||(e[10]=s=>a(t).additional_document=s),outlined:"",dense:"",accept:".pdf, .jpg, .jpeg, .png",label:"Upload additional document"},{prepend:V(()=>[d(O,{name:"attach_file"})]),_:1},8,["modelValue"]),o.$page.props.errors.additional_document?(k(),S("div",Ye,p(o.$page.props.errors.additional_document),1)):C("",!0)]),d(T,{style:{padding:"10px 24px","border-radius":"12px"},outline:"",unelevated:"","text-color":"black",label:"Preview",color:"white",onClick:e[11]||(e[11]=s=>y.value=!0)}),d(T,{label:"Submit & Send OTP",unelevated:"",color:"black",onClick:f,style:{padding:"10px 50px","border-radius":"12px"}})]),_:1})])]),d(he,{modelValue:y.value,"onUpdate:modelValue":e[12]||(e[12]=s=>y.value=s)},{default:V(()=>[l("div",null,[d(ke,{class:"w-[411px] h-[822px] rounded-md"},{default:V(()=>[d(Ve,{class:""},{default:V(()=>{var s,j,B,P;return[e[35]||(e[35]=l("p",{class:"text-center flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Ruang Phurh Diltu leh a man Chungchang ",-1)),l("div",He,[e[28]||(e[28]=l("p",{class:"text-[#61646B]"},"Hming",-1)),l("p",null,p(a(t).name),1)]),l("div",Ge,[e[29]||(e[29]=l("p",{class:"text-[#61646B]"},"District",-1)),l("p",null,p(a(t).district.label),1)]),l("div",Je,[e[30]||(e[30]=l("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),l("p",null,p(a(t).locality),1)]),l("div",Ze,[e[31]||(e[31]=l("p",{class:"text-[#61646B]"},"Phone Number",-1)),l("p",null,p(a(t).mobile),1)]),e[36]||(e[36]=l("hr",{class:"my-4 border-border"},null,-1)),e[37]||(e[37]=l("p",{class:"text-center w-[128px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Bank Details ",-1)),l("div",et,[e[32]||(e[32]=l("p",{class:"text-[#61646B]"},"Bank hming",-1)),l("p",null,p(a(t).bank_name),1)]),l("div",tt,[e[33]||(e[33]=l("p",{class:"text-[#61646B]"}," Bank account number ",-1)),l("p",null,p(a(t).account_no),1)]),l("div",lt,[e[34]||(e[34]=l("p",{class:"text-[#61646B]"},"IFSC Code",-1)),l("p",null,p(a(t).ifsc_code),1)]),e[38]||(e[38]=l("p",{class:"text-center w-[128px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Document Thiltel te ",-1)),l("div",at,[l("p",null,p(((s=a(t).id_proof)==null?void 0:s.name)||"No file uploaded"),1)]),l("div",rt,[l("p",null,p((j=a(t).receipt)==null?void 0:j.name),1)]),l("div",nt,[l("p",null,p((B=a(t).death_certificate)==null?void 0:B.name),1)]),l("div",ot,[l("p",null,p((P=a(t).additional_document)==null?void 0:P.name),1)])]}),_:1}),d(ye,{align:"right"},{default:V(()=>[Fe(d(T,{class:"text-black",color:"white",label:"Edit"},null,512),[[Pe]]),d(T,{label:"Submit & Send OTP",color:"black",onClick:f})]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}});export{ht as default};
