import{T as $,a as z,f as C,g as i,b as t,h as l,k as _,u as r,z as j,l as n,bk as D,s as A,Q as S}from"./app-DGLM-g85.js";import{Q as B}from"./QSelect-BGOAOszc.js";import{Q as R}from"./QForm-DjvLiPRP.js";import{Q as F}from"./QPage-D6NK3abj.js";import{u as I}from"./use-quasar-CivlzAc9.js";import{_ as N}from"./AdminLayout-B9nLlYqr.js";import"./QChip-BrqkebyT.js";import"./format-DzI8yonQ.js";import"./QMenu-nYMXc-S9.js";import"./rtl-DFPa-2ov.js";import"./QLayout-BaQxdw5U.js";import"./QExpansionItem-DT2TqZwa.js";import"./ClosePopup-DLKAVyim.js";const E={class:"flex justify-between items-center order-1 md:order-none"},M={class:"row q-col-gutter-sm"},T={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12 col-sm-6"},G={class:"col-xs-12 col-sm-6"},H={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},L={class:"col-xs-12 col-sm-6"},W={class:"col-xs-12 col-sm-6"},X={class:"col-xs-12"},pe=Object.assign({layout:N},{__name:"Create",props:{roles:Object,districts:Object},setup(m){const d=I(),e=$({name:"",phone:"",email:"",roles:[],districts:[],designation:"",password:"",password_confirmation:""}),P=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,U=a=>{q()},q=()=>{e.name="",e.mobile="",e.email="",e.roles=[],e.designation="",e.password="",e.password_confirmation=""},O=a=>{a.preventDefault(),e.post(route("user.store"),{onSuccess:()=>{d.notify({type:"positive",message:"User created successfully!"}),e.reset()},onError:s=>{d.notify({type:"negative",message:"There were errors in your submission."})},onFinish:()=>{var s;d.loading.hide(),(s=a==null?void 0:a.target)==null||s.reset()}})};return(a,s)=>(z(),C(F,{padding:""},{default:i(()=>[t("div",E,[l(r(j),{href:a.route("user.index"),size:"sm",flat:"",outlined:"",class:"flex items-center justify-center"},{default:i(()=>[l(_,{name:"arrow_back",size:"16px",class:"q-mr-xs"}),s[15]||(s[15]=t("span",null,"Back",-1))]),_:1},8,["href"]),s[16]||(s[16]=t("h5",null,"Create District User",-1))]),l(R,{class:"zcard q-pa-md",onReset:U,onSubmit:O},{default:i(()=>{var u,p,c,g,f,w,b,y,x,V,v,k,h,Q;return[t("div",M,[t("div",T,[l(n,{color:"dark",modelValue:r(e).name,"onUpdate:modelValue":s[0]||(s[0]=o=>r(e).name=o),class:"my-input",dense:"",label:"Name",outlined:"",error:r(e).errors.hasOwnProperty("name"),"error-message":(p=(u=r(e).errors)==null?void 0:u.name)==null?void 0:p.toString(),onBlur:s[1]||(s[1]=o=>delete r(e).errors.name),rules:[o=>!!o||"Username is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",Z,[l(n,{color:"dark",modelValue:r(e).phone,"onUpdate:modelValue":s[2]||(s[2]=o=>r(e).phone=o),class:"my-input",mask:"##########",dense:"",label:"Mobile",outlined:"",error:r(e).errors.hasOwnProperty("phone"),"error-message":(g=(c=r(e).errors)==null?void 0:c.phone)==null?void 0:g.toString(),onBlur:s[3]||(s[3]=o=>delete r(e).errors.phone),rules:[o=>o.length===10||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",G,[l(n,{color:"dark",modelValue:r(e).email,"onUpdate:modelValue":s[4]||(s[4]=o=>r(e).email=o),class:"my-input",dense:"",label:"Email",outlined:"",error:r(e).errors.hasOwnProperty("email"),"error-message":(w=(f=r(e).errors)==null?void 0:f.email)==null?void 0:w.toString(),onBlur:s[5]||(s[5]=o=>delete r(e).errors.email),rules:[o=>P.test(o)||"Invalid email"]},null,8,["modelValue","error","error-message","rules"])]),t("div",H,[l(B,{color:"dark",outlined:"",dense:"",modelValue:r(e).districts,"onUpdate:modelValue":s[6]||(s[6]=o=>r(e).districts=o),multiple:"","use-chips":"",options:m.districts,"option-value":"id","option-label":"name","emit-value":"","map-options":"",label:"Assign Districts"},null,8,["modelValue","options"])]),t("div",J,[l(B,{color:"dark",modelValue:r(e).roles,"onUpdate:modelValue":s[7]||(s[7]=o=>r(e).roles=o),multiple:"","use-chips":"",options:m.roles,dense:"",class:"my-input",label:"Roles",outlined:"","option-value":"id","option-label":"name",error:r(e).errors.hasOwnProperty("roles"),"error-message":(y=(b=r(e).errors)==null?void 0:b.roles)==null?void 0:y.toString(),onBlur:s[8]||(s[8]=o=>delete r(e).errors.roles),rules:[o=>o.length>0||"roles is required"]},null,8,["modelValue","options","error","error-message","rules"])]),t("div",K,[l(n,{color:"dark",modelValue:r(e).designation,"onUpdate:modelValue":s[9]||(s[9]=o=>r(e).designation=o),type:"text",class:"my-input",dense:"",label:"Designation",outlined:"",error:r(e).errors.hasOwnProperty("designation"),"error-message":(V=(x=r(e).errors)==null?void 0:x.designation)==null?void 0:V.toString(),onBlur:s[10]||(s[10]=o=>delete r(e).errors.designation),rules:[o=>!!o||"Designation is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",L,[l(n,{color:"dark",modelValue:r(e).password,"onUpdate:modelValue":s[11]||(s[11]=o=>r(e).password=o),type:"password",class:"my-input",dense:"",label:"Password",outlined:"",error:r(e).errors.hasOwnProperty("password"),"error-message":(k=(v=r(e).errors)==null?void 0:v.password)==null?void 0:k.toString(),onBlur:s[12]||(s[12]=o=>delete r(e).errors.password),rules:[o=>(o==null?void 0:o.length)>6||"Password must be atleast 6 digit character"]},null,8,["modelValue","error","error-message","rules"])]),t("div",W,[l(n,{color:"dark",modelValue:r(e).password_confirmation,"onUpdate:modelValue":s[13]||(s[13]=o=>r(e).password_confirmation=o),type:"password",class:"my-input",dense:"",label:"Confirm Password",outlined:"",error:r(e).errors.hasOwnProperty("password_confirmation"),"error-message":(Q=(h=r(e).errors)==null?void 0:h.password_confirmation)==null?void 0:Q.toString(),onBlur:s[14]||(s[14]=o=>delete r(e).errors.password_confirmation),rules:[o=>o===r(e).password||"Confirm password doesn't match Password"]},null,8,["modelValue","error","error-message","rules"])])]),t("div",X,[l(D,{class:"q-my-md"})]),l(A,{class:"q-mt-md"},{default:i(()=>[l(S,{style:{color:"#fff",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"#000"},color:"primary",flat:"",type:"submit",label:"Save"}),l(S,{style:{color:"#000",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"transparent"},color:"negative",flat:"",type:"reset",label:"Reset"})]),_:1})]}),_:1})]),_:1}))}});export{pe as default};
