import{q as g,i as J,u as Z,m as C,ag as E,ai as y,aj as R,ak as A,h as v,p as H,k as x,af as I,C as Q,D as O,R as K,z as M,G as N,B as $,a2 as X,al as q,H as ee}from"./app-dcuReIj8.js";function Y(e,o){return e!==void 0&&e()||o}function te(e,o){if(e!==void 0){const n=e();if(n!=null)return n.slice()}return o}function ne(e,o){return e!==void 0?o.concat(e()):o}function ve(e,o){return e===void 0?o:o!==void 0?o.concat(e()):e()}function he(e,o,n,t,i,l){o.key=t+i;const s=g(e,o,n);return i===!0?J(s,l()):s}function j(e,o){const n=e.style;for(const t in o)n[t]=o[t]}function oe(e){if(e==null)return;if(typeof e=="string")try{return document.querySelector(e)||void 0}catch{return}const o=Z(e);if(o)return o.$el||o}function ge(e,o){if(e==null||e.contains(o)===!0)return!0;for(let n=e.nextElementSibling;n!==null;n=n.nextElementSibling)if(n.contains(o))return!0;return!1}const ie=[Element,String],re=[null,document,document.body,document.scrollingElement,document.documentElement];function le(e,o){let n=oe(o);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return re.includes(n)?window:n}function ae(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function se(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let P;function B(){if(P!==void 0)return P;const e=document.createElement("p"),o=document.createElement("div");j(e,{width:"100%",height:"200px"}),j(o,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),o.appendChild(e),document.body.appendChild(o);const n=e.offsetWidth;o.style.overflow="scroll";let t=e.offsetWidth;return n===t&&(t=o.clientWidth),o.remove(),P=n-t,P}function me(e,o=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:o?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const ye=C({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:o}){const{proxy:{$q:n}}=H(),t=E(R,y);if(t===y)return console.error("QPage needs to be a deep child of QLayout"),y;if(E(A,y)===y)return console.error("QPage needs to be child of QPageContainer"),y;const l=v(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const a=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(f,a)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":n.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":n.screen.height-f+"px"}}),s=v(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:s.value,style:l.value},Y(o.default))}});function ue(){const e=x(!I.value);return e.value===!1&&Q(()=>{e.value=!0}),{isHydrated:e}}const G=typeof ResizeObserver<"u",_=G===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},D=C({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:o}){let n=null,t,i={width:-1,height:-1};function l(a){a===!0||e.debounce===0||e.debounce==="0"?s():n===null&&(n=setTimeout(s,e.debounce))}function s(){if(n!==null&&(clearTimeout(n),n=null),t){const{offsetWidth:a,offsetHeight:u}=t;(a!==i.width||u!==i.height)&&(i={width:a,height:u},o("resize",i))}}const{proxy:f}=H();if(f.trigger=l,G===!0){let a;const u=p=>{t=f.$el.parentNode,t?(a=new ResizeObserver(l),a.observe(t),s()):p!==!0&&M(()=>{u(!0)})};return Q(()=>{u()}),O(()=>{n!==null&&clearTimeout(n),a!==void 0&&(a.disconnect!==void 0?a.disconnect():t&&a.unobserve(t))}),K}else{let a=function(){n!==null&&(clearTimeout(n),n=null),h!==void 0&&(h.removeEventListener!==void 0&&h.removeEventListener("resize",l,N.passive),h=void 0)},u=function(){a(),t&&t.contentDocument&&(h=t.contentDocument.defaultView,h.addEventListener("resize",l,N.passive),s())};const{isHydrated:p}=ue();let h;return Q(()=>{M(()=>{t=f.$el,t&&u()})}),O(a),()=>{if(p.value===!0)return g("object",{class:"q--avoid-card-border",style:_.style,tabindex:-1,type:"text/html",data:_.url,"aria-hidden":"true",onLoad:u})}}}}),pe=C({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:n}){const{proxy:{$q:t}}=H(),i=E(R,y);if(i===y)return console.error("QHeader needs to be child of QLayout"),y;const l=x(parseInt(e.heightHint,10)),s=x(!0),f=v(()=>e.reveal===!0||i.view.value.indexOf("H")!==-1||t.platform.is.ios&&i.isContainer.value===!0),a=v(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return s.value===!0?l.value:0;const r=l.value-i.scroll.value.position;return r>0?r:0}),u=v(()=>e.modelValue!==!0||f.value===!0&&s.value!==!0),p=v(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),h=v(()=>"q-header q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=v(()=>{const r=i.rows.value.top,b={};return r[0]==="l"&&i.left.space===!0&&(b[t.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),r[2]==="r"&&i.right.space===!0&&(b[t.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),b});function d(r,b){i.update("header",r,b)}function w(r,b){r.value!==b&&(r.value=b)}function F({height:r}){w(l,r),d("size",r)}function V(r){p.value===!0&&w(s,!0),n("focusin",r)}$(()=>e.modelValue,r=>{d("space",r),w(s,!0),i.animate()}),$(a,r=>{d("offset",r)}),$(()=>e.reveal,r=>{r===!1&&w(s,e.modelValue)}),$(s,r=>{i.animate(),n("reveal",r)}),$(i.scroll,r=>{e.reveal===!0&&w(s,r.direction==="up"||r.position<=e.revealOffset||r.position-r.inflectionPoint<100)});const T={};return i.instances.header=T,e.modelValue===!0&&d("size",l.value),d("space",e.modelValue),d("offset",a.value),O(()=>{i.instances.header===T&&(i.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const r=te(o.default,[]);return e.elevated===!0&&r.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(g(D,{debounce:0,onResize:F})),g("header",{class:h.value,style:S.value,onFocusin:V},r)}}}),be=C({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:n}}=H(),t=E(R,y);if(t===y)return console.error("QPageContainer needs to be child of QLayout"),y;X(A,!0);const i=v(()=>{const l={};return t.header.space===!0&&(l.paddingTop=`${t.header.size}px`),t.right.space===!0&&(l[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(l.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(l[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),l});return()=>g("div",{class:"q-page-container",style:i.value},Y(o.default))}}),{passive:U}=N,ce=["both","horizontal","vertical"],de=C({name:"QScrollObserver",props:{axis:{type:String,validator:e=>ce.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:ie},emits:["scroll"],setup(e,{emit:o}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let t=null,i,l;$(()=>e.scrollTarget,()=>{a(),f()});function s(){t!==null&&t();const h=Math.max(0,ae(i)),S=se(i),d={top:h-n.position.top,left:S-n.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const w=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";n.position={top:h,left:S},n.directionChanged=n.direction!==w,n.delta=d,n.directionChanged===!0&&(n.direction=w,n.inflectionPoint=n.position),o("scroll",{...n})}function f(){i=le(l,e.scrollTarget),i.addEventListener("scroll",u,U),u(!0)}function a(){i!==void 0&&(i.removeEventListener("scroll",u,U),i=void 0)}function u(h){if(h===!0||e.debounce===0||e.debounce==="0")s();else if(t===null){const[S,d]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];t=()=>{d(S),t=null}}}const{proxy:p}=H();return $(()=>p.$q.lang.rtl,s),Q(()=>{l=p.$el.parentNode,f()}),O(()=>{t!==null&&t(),a()}),Object.assign(p,{trigger:u,getPosition:()=>n}),K}}),we=C({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:n}){const{proxy:{$q:t}}=H(),i=x(null),l=x(t.screen.height),s=x(e.container===!0?0:t.screen.width),f=x({position:0,direction:"down",inflectionPoint:0}),a=x(0),u=x(I.value===!0?0:B()),p=v(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),h=v(()=>e.container===!1?{minHeight:t.screen.height+"px"}:null),S=v(()=>u.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),d=v(()=>u.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function w(c){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};f.value=m,e.onScroll!==void 0&&n("scroll",m)}}function F(c){const{height:m,width:L}=c;let z=!1;l.value!==m&&(z=!0,l.value=m,e.onScrollHeight!==void 0&&n("scrollHeight",m),T()),s.value!==L&&(z=!0,s.value=L),z===!0&&e.onResize!==void 0&&n("resize",c)}function V({height:c}){a.value!==c&&(a.value=c,T())}function T(){if(e.container===!0){const c=l.value>a.value?B():0;u.value!==c&&(u.value=c)}}let r=null;const b={instances:{},view:v(()=>e.view),isContainer:v(()=>e.container),rootRef:i,height:l,containerHeight:a,scrollbarWidth:u,totalWidth:v(()=>s.value+u.value),rows:v(()=>{const c=e.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:q({size:0,offset:0,space:!1}),right:q({size:300,offset:0,space:!1}),footer:q({size:0,offset:0,space:!1}),left:q({size:300,offset:0,space:!1}),scroll:f,animate(){r!==null?clearTimeout(r):document.body.classList.add("q-body--layout-animate"),r=setTimeout(()=>{r=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,m,L){b[c][m]=L}};if(X(R,b),B()>0){let c=function(){z=null,W.classList.remove("hide-scrollbar")},m=function(){if(z===null){if(W.scrollHeight>t.screen.height)return;W.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(c,300)},L=function(k){z!==null&&k==="remove"&&(clearTimeout(z),c()),window[`${k}EventListener`]("resize",m)},z=null;const W=document.body;$(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),ee(()=>{L("remove")})}return()=>{const c=ne(o.default,[g(de,{onScroll:w}),g(D,{onResize:F})]),m=g("div",{class:p.value,style:h.value,ref:e.container===!0?void 0:i,tabindex:-1},c);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:i},[g(D,{onResize:V}),g("div",{class:"absolute-full",style:S.value},[g("div",{class:"scroll",style:d.value},[m])])]):m}}});export{ye as Q,ve as a,te as b,Y as c,le as d,ge as e,se as f,B as g,he as h,ae as i,me as j,ne as k,pe as l,be as m,we as n,j as o,ie as s};
