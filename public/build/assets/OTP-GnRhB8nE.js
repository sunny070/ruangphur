import{r as f,c as b,a as d,b as Q,w as l,i as r,f as s,t as k,q as V,g as w,h as P,k as O,ap as q,F as x,Q as B,T,aq as A}from"./app-jSku1vCx.js";import{Q as U}from"./QForm-CtgMiRe_.js";import{Q as j}from"./QPage-C99ylTjV.js";import{Q as F,a as C}from"./QLayout-Cja8Z5W6.js";import{_ as K}from"./WebLayout-DeDL5zEB.js";import"./QTabs-BCaq7a8S.js";import"./rtl-DFPa-2ov.js";const L={class:"border w-[412px] h-[273px] text-center"},N={id:"q-app",style:{"min-height":"100vh"}},S={class:"q-pa-md"},E={class:"row q-gutter-x-sm justify-center"},n=6,H=Object.assign({layout:K},{__name:"OTP",props:["phone"],setup(m){const h=m,i=f(Array(n).fill("")),c=b(()=>i.value.join("")),_=()=>{c.value.length===n?T({otp:c.value}).post(route("form.validateOtp")):A.create({message:"Please enter a valid OTP.",color:"negative"})},p=f([]),v=(e,a)=>{e&&(p.value[a]=e)},u=e=>{e>=0&&e<n&&p.value[e].select()},y=(e,a)=>{const t=e.key;["Tab","Shift","Meta","Control","Alt"].includes(t)||(t==="ArrowLeft"||t==="Backspace"?u(a-1):t==="ArrowRight"&&u(a+1))},g=(e,a)=>{e&&u(a+1)};return(e,a)=>(d(),Q(F,null,{default:l(()=>[r(C,null,{default:l(()=>[r(j,{padding:"",class:"flex justify-center"},{default:l(()=>[s("div",L,[s("div",null,[a[0]||(a[0]=s("h5",null,"Enter OTP to verify",-1)),s("p",null,"An OTP has been sent to "+k(h.phone),1)]),r(U,{onSubmit:V(_,["prevent"]),class:"q-gutter-md"},{default:l(()=>[s("div",N,[s("div",S,[s("div",E,[(d(),w(x,null,P(n,t=>r(O,q({outlined:"",modelValue:i.value[t-1],"onUpdate:modelValue":o=>i.value[t-1]=o,ref_for:!0},e.$attrs,{onKeyup:o=>y(o,t-1),"onUpdate:modelValue":o=>g(o,t-1),key:t,ref_for:!0,ref:o=>v(o,t-1),maxlength:"1","input-class":"text-center",style:{width:"6ch"}}),null,16,["modelValue","onUpdate:modelValue","onKeyup"])),64))])]),r(B,{label:"Verify",color:"black",type:"submit"})])]),_:1})])]),_:1})]),_:1})]),_:1}))}});export{H as default};
