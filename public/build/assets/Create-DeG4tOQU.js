import{Q as h}from"./QSpace-DO7uqt5L.js";import{Q as S,a as $}from"./QBreadcrumbs-D-LGXoS3.js";import{T as C,a as N,b as k,w as i,f as t,i as l,k as n,x as r,z,q as A,Q as B}from"./app-C0In1_Bg.js";import{Q as U}from"./QSelect-BYJrp-GI.js";import{Q as R}from"./QForm-DfzRCM4G.js";import{Q as j}from"./QPage-D75BcEeD.js";import{u as E}from"./use-quasar-Zq_ctrB_.js";import{_ as F}from"./AdminLayout-zIaWW83l.js";import"./QChip-DR_ehPOn.js";import"./format-DY5QUvbx.js";import"./QMenu-DPumZ7aG.js";import"./rtl-DFPa-2ov.js";import"./QLayout-DRIoFCNj.js";import"./QExpansionItem-CzGHoK9d.js";import"./ClosePopup-CPzUbm6V.js";const D={class:"flex flex-inline items-center"},I={class:"row q-col-gutter-sm"},M={class:"col-xs-12 col-sm-6"},T={class:"col-xs-12 col-sm-6"},Z={class:"col-xs-12 col-sm-6"},G={class:"col-xs-12 col-sm-6"},H={class:"col-xs-12 col-sm-6"},J={class:"col-xs-12 col-sm-6"},K={class:"col-xs-12 col-sm-6"},L={class:"col-xs-12"},pe=Object.assign({layout:F},{__name:"Create",props:{roles:Object,districts:Object},setup(d){const m=E(),e=C({name:"",phone:"",email:"",roles:[],districts:[],password:"",password_confirmation:""}),P=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_=a=>{q()},q=()=>{e.name="",e.mobile="",e.email="",e.roles=[],e.password="",e.password_confirmation=""},O=a=>{a.preventDefault(),e.post(route("user.store"),{onSuccess:()=>{m.notify({type:"positive",message:"User created successfully!"}),e.reset()},onError:o=>{m.notify({type:"negative",message:"There were errors in your submission."})},onFinish:()=>{var o;m.loading.hide(),(o=a==null?void 0:a.target)==null||o.reset()}})};return(a,o)=>(N(),k(j,{padding:""},{default:i(()=>[t("div",D,[o[13]||(o[13]=t("p",{class:"page-title"},"New User",-1)),l(h),l($,{align:"right",gutter:"xs"},{default:i(()=>[l(S,{to:{name:"user:read"},label:"Users"}),l(S,{label:"New User"})]),_:1})]),l(R,{class:"zcard q-pa-md",onReset:_,onSubmit:O},{default:i(()=>{var u,p,c,g,f,w,b,y,V,v,Q,x;return[t("div",I,[t("div",M,[l(n,{modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=s=>r(e).name=s),class:"my-input",dense:"",label:"Name",outlined:"",error:r(e).errors.hasOwnProperty("name"),"error-message":(p=(u=r(e).errors)==null?void 0:u.name)==null?void 0:p.toString(),onBlur:o[1]||(o[1]=s=>delete r(e).errors.name),rules:[s=>!!s||"Username is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",T,[l(n,{modelValue:r(e).phone,"onUpdate:modelValue":o[2]||(o[2]=s=>r(e).phone=s),class:"my-input",mask:"##########",dense:"",label:"Mobile",outlined:"",error:r(e).errors.hasOwnProperty("phone"),"error-message":(g=(c=r(e).errors)==null?void 0:c.phone)==null?void 0:g.toString(),onBlur:o[3]||(o[3]=s=>delete r(e).errors.phone),rules:[s=>s.length===10||"Mobile is required"]},null,8,["modelValue","error","error-message","rules"])]),t("div",Z,[l(n,{modelValue:r(e).email,"onUpdate:modelValue":o[4]||(o[4]=s=>r(e).email=s),class:"my-input",dense:"",label:"Email",outlined:"",error:r(e).errors.hasOwnProperty("email"),"error-message":(w=(f=r(e).errors)==null?void 0:f.email)==null?void 0:w.toString(),onBlur:o[5]||(o[5]=s=>delete r(e).errors.email),rules:[s=>P.test(s)||"Invalid email"]},null,8,["modelValue","error","error-message","rules"])]),t("div",G,[l(U,{modelValue:r(e).districts,"onUpdate:modelValue":o[6]||(o[6]=s=>r(e).districts=s),multiple:"","use-chips":"",options:d.districts,"option-value":"id","option-label":"name","emit-value":"","map-options":"",label:"Assign Districts"},null,8,["modelValue","options"])]),t("div",H,[l(U,{modelValue:r(e).roles,"onUpdate:modelValue":o[7]||(o[7]=s=>r(e).roles=s),multiple:"","use-chips":"",options:d.roles,dense:"",class:"my-input",label:"Roles",outlined:"","option-value":"id","option-label":"name",error:r(e).errors.hasOwnProperty("roles"),"error-message":(y=(b=r(e).errors)==null?void 0:b.roles)==null?void 0:y.toString(),onBlur:o[8]||(o[8]=s=>delete r(e).errors.roles),rules:[s=>s.length>0||"roles is required"]},null,8,["modelValue","options","error","error-message","rules"])]),t("div",J,[l(n,{modelValue:r(e).password,"onUpdate:modelValue":o[9]||(o[9]=s=>r(e).password=s),type:"password",class:"my-input",dense:"",label:"Password",outlined:"",error:r(e).errors.hasOwnProperty("password"),"error-message":(v=(V=r(e).errors)==null?void 0:V.password)==null?void 0:v.toString(),onBlur:o[10]||(o[10]=s=>delete r(e).errors.password),rules:[s=>(s==null?void 0:s.length)>6||"Password must be atleast 6 digit character"]},null,8,["modelValue","error","error-message","rules"])]),t("div",K,[l(n,{modelValue:r(e).password_confirmation,"onUpdate:modelValue":o[11]||(o[11]=s=>r(e).password_confirmation=s),type:"password",class:"my-input",dense:"",label:"Confirm Password",outlined:"",error:r(e).errors.hasOwnProperty("password_confirmation"),"error-message":(x=(Q=r(e).errors)==null?void 0:Q.password_confirmation)==null?void 0:x.toString(),onBlur:o[12]||(o[12]=s=>delete r(e).errors.password_confirmation),rules:[s=>s===r(e).password||"Confirm password doesn't match Password"]},null,8,["modelValue","error","error-message","rules"])])]),t("div",L,[l(z,{class:"q-my-md"})]),l(A,{class:"q-mt-md"},{default:i(()=>[l(B,{color:"primary",flat:"",type:"submit",label:"Save"}),l(B,{color:"negative",flat:"",type:"reset",label:"Reset"})]),_:1})]}),_:1})]),_:1}))}});export{pe as default};
