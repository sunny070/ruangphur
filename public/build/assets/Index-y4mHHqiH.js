import{D as I,E as N,r as S,W as $,o as r,a as f,b as l,g as t,j as s,k as v,Q as p,l as V,an as D,h as d,F as g,i as b,t as B,f as x,N as h}from"./app-DE0G_PcF.js";import{Q as E}from"./QTabs-FqslbwzX.js";import{Q as y}from"./QChip-CiUjFxzV.js";import{Q as k,a as Q,b as _}from"./format--TUUW8L8.js";import{Q as j}from"./QLayout-CVDZaGjc.js";import{_ as T,Q as U}from"./AdminLayout-CzjlYrQF.js";import{Q as z}from"./QPage-5AzggwAy.js";import{u as A}from"./use-quasar-B8sTEX2r.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./rtl-DFPa-2ov.js";import"./QMenu-D_oUq42q.js";import"./QExpansionItem-CbgYRtL_.js";import"./ClosePopup-zl1a1MWy.js";const L=I({name:"QSpace",setup(){const n=N("div",{class:"q-space"});return()=>n}}),O={class:"row q-gutter-md"},K={class:"flex zcard justify-between flex-inline col-12 q-pa-md"},R={class:"col-12 zcard q-pa-md"},W={class:"responsive-table"},M={class:"q-table w-full"},P={key:0},G={class:"flex"},H={class:"flex"},J={class:"text-center"},X={key:1},Y={class:"col-12"},Z={class:"flex q-gutter-sm justify-center"},ee=Object.assign({layout:T},{__name:"Index",props:["users","search"],setup(n){const u=A();S("");const m=n,c=$({search:m==null?void 0:m.search,tab:route().current()}),C=o=>{h.get(route("user.index"),{search:c.search})},w=o=>{h.get(route(o))},q=o=>{u.dialog({title:"Confirm",message:"Would you like to delete?",cancel:!0,persistent:!0}).onOk(()=>{u.loading.show(),h.delete(route("user.destroy",o),{onSuccess:()=>{u.notify({type:"positive",message:"User deleted successfully"})},onError:e=>{u.notify({type:"negative",message:(e==null?void 0:e.message)||"Failed to delete user."})},onFinish:()=>{u.loading.hide()}})}).onCancel(()=>{}).onDismiss(()=>{})};return(o,e)=>(r(),f(z,{padding:""},{default:l(()=>[e[10]||(e[10]=t("p",{class:"page-title"},"Users",-1)),t("div",O,[t("div",K,[s(p,{size:"sm",flat:"",outlined:"",class:"flex items-center justify-center",style:{color:"#fff",width:"100px",height:"40px","border-radius":"8px",background:"#3a424a"},onClick:e[0]||(e[0]=a=>o.$inertia.get(o.route("user.create")))},{default:l(()=>[s(v,{name:"person_add",size:"16px",class:"q-mr-xs"}),e[5]||(e[5]=t("span",null,"New User",-1))]),_:1}),s(E,{stretch:"",shrink:"",modelValue:c.tab,"onUpdate:modelValue":[e[2]||(e[2]=a=>c.tab=a),w],align:"start"},{default:l(()=>[s(L),s(V,{modelValue:c.search,"onUpdate:modelValue":e[1]||(e[1]=a=>c.search=a),autofocus:"",outlined:"",dense:"",onKeyup:D(C,["enter"]),"bg-color":"white",placeholder:"Search"},{append:l(()=>[s(v,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),t("div",R,[t("div",W,[t("table",M,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"bg-[#3A424A] text-white"},[t("th",{class:"text-left"},"NAME"),t("th",{class:"text-left"},"ROLES"),t("th",{class:"text-left"},"DISTRICT"),t("th",{class:"text-center"},"ACTIONS")])],-1)),n.users&&n.users.data&&n.users.data.length?(r(),d("tbody",P,[(r(!0),d(g,null,b(n.users.data,a=>(r(),d("tr",{key:a.id},[t("td",null,B((a==null?void 0:a.name)??"--"),1),t("td",null,[t("div",G,[(r(!0),d(g,null,b(a.roles,i=>(r(),f(y,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",null,[t("div",H,[(r(!0),d(g,null,b(a.districts,i=>(r(),f(y,{key:i.name,label:i.name,class:"q-mr-xs"},null,8,["label"]))),128))])]),t("td",J,[s(U,{flat:"",rounded:"","dropdown-icon":"more_vert",class:"q-pa-none"},{default:l(()=>[s(j,{separator:""},{default:l(()=>[s(k,{onClick:i=>o.$inertia.get(o.route("user.edit",a)),clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>[s(_,null,{default:l(()=>e[6]||(e[6]=[x("Edit")])),_:1})]),_:1})]),_:2},1032,["onClick"]),s(k,{onClick:i=>q(a),clickable:""},{default:l(()=>[s(Q,null,{default:l(()=>[s(_,null,{default:l(()=>e[7]||(e[7]=[x("Delete")])),_:1})]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]))),128))])):(r(),d("tbody",X,e[8]||(e[8]=[t("tr",null,[t("td",{colspan:"4",class:"text-center text-gray-500"}," No users found. ")],-1)])))])]),t("div",Y,[t("div",Z,[s(p,{disable:!n.users.prev_page_url,onClick:e[3]||(e[3]=a=>o.$inertia.get(n.users.prev_page_url)),flat:"",round:"",icon:"chevron_left"},null,8,["disable"]),s(p,{disable:!n.users.next_page_url,onClick:e[4]||(e[4]=a=>o.$inertia.get(n.users.next_page_url)),flat:"",round:"",icon:"chevron_right"},null,8,["disable"])])])])])]),_:1}))}}),pe=F(ee,[["__scopeId","data-v-9f82bdf1"]]);export{pe as default};
