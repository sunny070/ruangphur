import{Q as O}from"./QBanner-C_zqN8Zo.js";import{r as v,c as h,o as G,a as i,b as C,w as u,d as b,t as d,e as w,f as l,i as n,n as x,Q as r,g as I,j as F,y as B,h as J,z as W,F as X,N as Y}from"./app-DY6z9ZO-.js";import{Q as Z}from"./QSelect-D89BJ1_7.js";import{Q,a as j}from"./format-DPtYjOdv.js";import{_ as p,Q as _}from"./AdminLayout-5KNea1XO.js";import{Q as ee}from"./QMenu-DDLCkg3R.js";import{Q as te}from"./QPage-DYn21bSD.js";import"./QChip-ZnDgJwmd.js";import"./rtl-DFPa-2ov.js";import"./QLayout-DkfsYSgK.js";import"./DropdownLink-D2MymX6x.js";const le={class:"q-my-md flex gap-16"},se={class:"flex gap-96"},ne={key:0,class:"flex"},ue={class:"flex"},de={class:"table-responsive"},re={class:"q-table q-table__grid q-mb-lg"},oe={class:"bg-[#3A424A] text-white font-bold h-[30px] w-full text-[11px]"},ye=Object.assign({layout:p},{__name:"Application",props:{applications:Array,flash:Object},setup(m){const g=m,A=v(null),S=v([]),y=v(""),o=v("All"),a=v([]),L=h(()=>a.value.length>0),U=()=>{A.value?f.value=g.applications.filter(s=>s.deceased.district.name===A.value):f.value=g.applications};G(()=>{const s=[...new Set(g.applications.map(e=>e.deceased.district.name))];S.value=s.map(e=>({label:e,value:e}))});const f=h(()=>{let s=g.applications;return o.value==="Incoming"?s=s.filter(e=>e.status==="Pending"):o.value==="Approved"?s=s.filter(e=>e.status==="Approved"):o.value==="Rejected"&&(s=s.filter(e=>e.status==="Rejected")),y.value&&(s=s.filter(e=>e.application_no.toString().includes(y.value)||e.deceased.name.toLowerCase().includes(y.value.toLowerCase()))),s}),c=s=>{o.value=s},R=s=>{Y.get(route("applications.show",s))},$=s=>{console.log("Edit application:",s)},M=s=>{console.log("Delete application:",s)},P=()=>{selectAllCheckbox.value?a.value=f.map(s=>s.id):a.value=[]},H=()=>{a.value=f.map(s=>s.id)},K=()=>{};return(s,e)=>(i(),C(te,{padding:""},{default:u(()=>[m.flash.success?(i(),C(O,{key:0,class:"bg-green-4 text-white",dense:""},{default:u(()=>[b(d(m.flash.success),1)]),_:1})):w("",!0),m.flash.error?(i(),C(O,{key:1,class:"bg-red-4 text-white",dense:""},{default:u(()=>[b(d(m.flash.error),1)]),_:1})):w("",!0),e[24]||(e[24]=l("div",null,null,-1)),e[25]||(e[25]=l("div",{class:"flex justify-evenly items-center"},[l("div",{class:"w-[190px] h-[78px] bg-[#FFF7EF] text-[#FD7900] text-center"},[l("h6",{class:"text-bold"},"106"),l("p",null,"incoming")]),l("div",{class:"w-[190px] h-[78px] bg-[#EEFFF8] text-[#00AA68]"},"1"),l("div",{class:"w-[190px] h-[78px] bg-[#FFF2F2] text-[#FE6262]"},"1"),l("div",{class:"w-[190px] h-[78px] bg-[#F2F8FF] text-[#404CF1]"},"1"),l("div",{class:"w-[190px] h-[78px] bg-[#F2FBFF] text-[#00AEFF]"},"1")],-1)),l("div",le,[n(r,{label:"All",flat:"",class:x(o.value==="All"?"active-button":"inactive-button"),onClick:e[0]||(e[0]=t=>c("All"))},null,8,["class"]),n(r,{label:"Incoming",flat:"",class:x(o.value==="Incoming"?"active-button":"inactive-button"),onClick:e[1]||(e[1]=t=>c("Incoming"))},null,8,["class"]),n(r,{label:"Approved",flat:"",class:x(o.value==="Approved"?"active-button":"inactive-button"),onClick:e[2]||(e[2]=t=>c("Approved"))},null,8,["class"]),n(r,{label:"Rejected",flat:"",class:x(o.value==="Rejected"?"active-button":"inactive-button"),onClick:e[3]||(e[3]=t=>c("Rejected"))},null,8,["class"])]),l("div",se,[l("div",null,[L.value?(i(),I("div",ne,[n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",onClick:H},{default:u(()=>[n(F,{name:"check",size:"16px",class:"q-mr-xs"}),e[7]||(e[7]=l("span",null,"Select All",-1))]),_:1}),n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",onClick:K,disabled:!a.value.length},{default:u(()=>[n(F,{name:"cancel",size:"16px",class:"q-mr-xs"}),e[8]||(e[8]=l("span",null,"Reject All",-1))]),_:1},8,["disabled"])])):w("",!0)]),l("div",ue,[n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","flex-shrink":"0","border-radius":"8px",background:"transparent"}},{default:u(()=>[n(F,{name:"print",size:"16px",class:"q-mr-xs"}),e[9]||(e[9]=l("span",null,"Print",-1))]),_:1}),n(r,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","flex-shrink":"0","border-radius":"8px",background:"transparent"}},{default:u(()=>[n(F,{name:"ios_share",size:"16px",class:"q-mr-xs"}),e[10]||(e[10]=l("span",null,"Export",-1))]),_:1}),n(Z,{style:{color:"#000",width:"128px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid black",background:"transparent"},modelValue:A.value,"onUpdate:modelValue":e[4]||(e[4]=t=>A.value=t),options:S.value,label:"Select District",outlined:"",dense:"",class:"q-mb-md",onInput:U},null,8,["modelValue","options"])])]),l("div",de,[l("table",re,[l("thead",oe,[l("tr",null,[l("th",null,[n(B,{modelValue:s.selectAllCheckbox,"onUpdate:modelValue":e[5]||(e[5]=t=>s.selectAllCheckbox=t),onChange:P},null,8,["modelValue"])]),e[11]||(e[11]=l("th",null,"APPLICANT ID",-1)),e[12]||(e[12]=l("th",null,"MITTHI HMING",-1)),e[13]||(e[13]=l("th",null,"MITTHI KHUA",-1)),e[14]||(e[14]=l("th",null,"KILOMETER",-1)),e[15]||(e[15]=l("th",null,"AMOUNT",-1)),e[16]||(e[16]=l("th",null,"DIL SAKTU",-1)),e[17]||(e[17]=l("th",null,"DILTU PHONE NO",-1)),e[18]||(e[18]=l("th",null,"STATUS",-1)),e[19]||(e[19]=l("th",null,"DIL NI",-1)),e[20]||(e[20]=l("th",null,"ACTIONS",-1))])]),l("tbody",null,[(i(!0),I(X,null,J(f.value,t=>{var V,q,D,N,T,E,z;return i(),I("tr",{key:t.id},[l("td",null,[n(B,{modelValue:a.value,"onUpdate:modelValue":e[6]||(e[6]=k=>a.value=k),"true-value":t.id,"false-value":null},null,8,["modelValue","true-value"])]),l("td",null,d(t==null?void 0:t.application_no),1),l("td",null,d((V=t==null?void 0:t.deceased)==null?void 0:V.name),1),l("td",null,d((D=(q=t==null?void 0:t.deceased)==null?void 0:q.district)==null?void 0:D.name),1),l("td",null,d((N=t==null?void 0:t.transport)==null?void 0:N.distance),1),l("td",null,d((T=t==null?void 0:t.transport)==null?void 0:T.transport_cost),1),l("td",null,d((E=t==null?void 0:t.applicant)==null?void 0:E.name),1),l("td",null,d((z=t==null?void 0:t.applicant)==null?void 0:z.mobile),1),l("td",null,[l("div",{class:x([{"status-incoming":(t==null?void 0:t.status)==="Pending","status-rejected":(t==null?void 0:t.status)==="Rejected","status-approved":(t==null?void 0:t.status)==="Approved"},"status-badge"])},d(t==null?void 0:t.status),3)]),l("td",null,d(t==null?void 0:t.created_at),1),l("td",null,[n(r,{flat:"",icon:"more_vert",style:W(s.buttonStyle)},null,8,["style"]),n(ee,null,{default:u(()=>[n(_,null,{default:u(()=>[n(Q,{clickable:"",class:"action-btn",onClick:k=>R(t.id)},{default:u(()=>[n(j,null,{default:u(()=>e[21]||(e[21]=[b("View")])),_:1})]),_:2},1032,["onClick"]),n(Q,{class:"action-btn",onClick:k=>$(t.id)},{default:u(()=>[n(j,null,{default:u(()=>e[22]||(e[22]=[b("Edit/Update")])),_:1})]),_:2},1032,["onClick"]),n(Q,{class:"action-btn",onClick:k=>M(t.id)},{default:u(()=>[n(j,null,{default:u(()=>e[23]||(e[23]=[b("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])])}),128))])])])]),_:1}))}});export{ye as default};
