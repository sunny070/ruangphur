import{r as u,A as I,a as g,b as j,w as o,d as e,u as r,g as s,Q as m,k as c,j as x,h as Q,i as A,F as D,q as L,s as B,t as p,e as C}from"./app-DyTi5KuX.js";import{Q as k}from"./QSelect-BvxtLnUh.js";import{Q as w,a as f}from"./format-C9iz93YD.js";import{Q as E}from"./QLayout-CxhaKj2c.js";import{Q as z}from"./QMenu-BB-sI_PG.js";import{Q as $}from"./QForm-Dt9llfmf.js";import{Q as T}from"./QPage-CN5TYfTe.js";import{C as O}from"./ClosePopup-Aj3Jq9XG.js";import{d as b}from"./index-o20kKi-8.js";import{_ as P}from"./AdminLayout-Du6pJdT5.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-ChNv0UoZ.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-DRUD65om.js";const M={class:"bg-white p-4 rounded-lg flex justify-between"},G={class:"responsive-table"},J={class:"q-table w-full"},K={class:"p-2 border"},R={class:"p-2 border"},W={class:"p-2 border"},X={class:"p-2 border"},Y={class:"p-2 border"},Z={class:"p-2 border text-center relative"},ee={class:"bg-white p-6 rounded-lg w-96"},te={class:"flex justify-end gap-2"},se=Object.assign({layout:P},{__name:"Index",props:{notes:Object},setup(y){const _=y,v=u(""),h=u(_.notes.data);I(v,a=>{a.trim()?h.value=_.notes.data.filter(t=>t.title.toLowerCase().includes(a.toLowerCase())||t.content.toLowerCase().includes(a.toLowerCase())):h.value=_.notes.data});const n=u(!1),V=u(null),d=b.useForm({title:"",content:"",status:"published"});function N(a){V.value=a.id,d.title=a.title,d.content=a.content,d.status=a.status,n.value=!0}function S(){d.patch(route("admin.notes.update",V.value),{onSuccess:()=>{n.value=!1,d.reset()}})}function q(a){b.useForm({status:a.status}).patch(route("admin.notes.update",a.id))}function U(a){confirm("Are you sure you want to delete this note?")&&b.useForm().delete(route("admin.notes.destroy",a))}return(a,t)=>(g(),j(T,{padding:""},{default:o(()=>[e(r(b.Head),{title:"Note"}),s("div",M,[e(c,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#fff",width:"100px",height:"40px","border-radius":"8px",background:"#3a424a"},href:a.route("admin.notes.create")},{default:o(()=>[e(m,{name:"create",size:"16px",class:"q-mr-xs"}),t[5]||(t[5]=s("span",null,"Create",-1))]),_:1},8,["href"]),e(x,{color:"dark",modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=l=>v.value=l),autofocus:"",outlined:"",dense:"","bg-color":"white",placeholder:"Search",clearable:""},{append:o(()=>[e(m,{name:"search"})]),_:1},8,["modelValue"])]),s("div",G,[s("table",J,[t[8]||(t[8]=s("thead",null,[s("tr",{class:"bg-[#3A424A] text-white"},[s("th",{class:"p-2 border"},"Sl No."),s("th",{class:"p-2 border"},"Title"),s("th",{class:"p-2 border"},"Content"),s("th",{class:"p-2 border"},"Status"),s("th",{class:"p-2 border"},"Created At"),s("th",{class:"p-2 border"},"Actions")])],-1)),s("tbody",null,[(g(!0),Q(D,null,A(h.value,(l,F)=>(g(),Q("tr",{key:l.id,class:"hover:bg-gray-50"},[s("td",K,p(F+1),1),s("td",R,p(l.title),1),s("td",W,p(l.content.substring(0,50))+"... ",1),s("td",X,[e(k,{color:"dark",modelValue:l.status,"onUpdate:modelValue":[i=>l.status=i,i=>q(l)],options:["draft","published","archived"],dense:""},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Y,p(l.created_at),1),s("td",Z,[e(c,{flat:"",dense:"",round:"",icon:"more_vert"},{default:o(()=>[e(z,null,{default:o(()=>[e(E,null,{default:o(()=>[e(w,{clickable:"",onClick:i=>N(l)},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(m,{name:"edit",size:"sm"})]),_:1}),e(f,null,{default:o(()=>t[6]||(t[6]=[C("Edit")])),_:1})]),_:2},1032,["onClick"]),e(w,{clickable:"",class:"text-red-500",onClick:i=>U(l.id)},{default:o(()=>[e(f,{avatar:""},{default:o(()=>[e(m,{name:"delete",size:"sm"})]),_:1}),e(f,null,{default:o(()=>t[7]||(t[7]=[C("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))])])]),e(B,{modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=l=>n.value=l)},{default:o(()=>[s("div",ee,[t[9]||(t[9]=s("div",{class:"text-xl font-semibold"},"Edit Note",-1)),e($,{onSubmit:S},{default:o(()=>[e(x,{modelValue:r(d).title,"onUpdate:modelValue":t[1]||(t[1]=l=>r(d).title=l),label:"Title",class:"q-mb-md",outlined:"",required:""},null,8,["modelValue"]),e(x,{outlined:"",type:"textarea",modelValue:r(d).content,"onUpdate:modelValue":t[2]||(t[2]=l=>r(d).content=l),"min-height":"150px",label:"Content",class:"q-mb-md",required:""},null,8,["modelValue"]),e(k,{modelValue:r(d).status,"onUpdate:modelValue":t[3]||(t[3]=l=>r(d).status=l),options:["draft","published","archived"],label:"Status",outlined:"",class:"q-mb-md"},null,8,["modelValue"]),s("div",te,[L(e(c,{label:"Cancel",flat:""},null,512),[[O]]),e(c,{type:"submit",label:"Update",color:"dark",loading:r(d).processing},null,8,["loading"])])]),_:1})])]),_:1},8,["modelValue"])]),_:1}))}}),ve=H(se,[["__scopeId","data-v-a3b55933"]]);export{ve as default};
