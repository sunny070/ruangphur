import{m as C,h as y,q as n,aa as v,k as $,ab as O,ac as T,ad as N}from"./app-dcuReIj8.js";import{f as j,h as z,i as _,w as D,a as L}from"./QBtn-Dy5H4hK-.js";import{a as k}from"./QLayout-DtoTqqKw.js";import{c as P}from"./nodes-BN6Brxk1.js";const M=C({name:"QAvatar",props:{...j,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:o}){const i=z(t),s=y(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),e=y(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const r=t.icon!==void 0?[n(_,{name:t.icon})]:void 0;return n("div",{class:s.value,style:i.value},[n("div",{class:"q-avatar__content row flex-center overflow-hidden",style:e.value},k(o.default,r))])}}});let Q=0;const p={},g={},l={},x={},B=/^\s*$/,q=[],A=[void 0,null,!0,!1,""],h=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],E=["top-left","top-right","bottom-left","bottom-right"],m={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function w(t,o,i){if(!t)return f("parameter required");let s;const e={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(e,p),v(t)===!1&&(e.type&&Object.assign(e,m[e.type]),t={message:t}),Object.assign(e,m[t.type||e.type],t),typeof e.icon=="function"&&(e.icon=e.icon(o)),e.spinner?(e.spinner===!0&&(e.spinner=D),e.spinner=T(e.spinner)):e.spinner=!1,e.meta={hasMedia:!!(e.spinner!==!1||e.icon||e.avatar),hasText:b(e.message)||b(e.caption)},e.position){if(h.includes(e.position)===!1)return f("wrong position",t)}else e.position="bottom";if(A.includes(e.timeout)===!0)e.timeout=5e3;else{const a=Number(e.timeout);if(isNaN(a)||a<0)return f("wrong timeout",t);e.timeout=Number.isFinite(a)?a:0}e.timeout===0?e.progress=!1:e.progress===!0&&(e.meta.progressClass="q-notification__progress"+(e.progressClass?` ${e.progressClass}`:""),e.meta.progressStyle={animationDuration:`${e.timeout+1e3}ms`});const r=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(p.actions)===!0?p.actions:[]).concat(m[t.type]!==void 0&&Array.isArray(m[t.type].actions)===!0?m[t.type].actions:[]),{closeBtn:c}=e;if(c&&r.push({label:typeof c=="string"?c:o.lang.label.close}),e.actions=r.map(({handler:a,noDismiss:d,...S})=>({flat:!0,...S,onClick:typeof a=="function"?()=>{a(),d!==!0&&u()}:()=>{u()}})),e.multiLine===void 0&&(e.multiLine=e.actions.length>1),Object.assign(e.meta,{class:`q-notification row items-stretch q-notification--${e.multiLine===!0?"multi-line":"standard"}`+(e.color!==void 0?` bg-${e.color}`:"")+(e.textColor!==void 0?` text-${e.textColor}`:"")+(e.classes!==void 0?` ${e.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(e.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(e.multiLine===!0?"":" col"),leftClass:e.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...e.attrs}}),e.group===!1?(e.group=void 0,e.meta.group=void 0):((e.group===void 0||e.group===!0)&&(e.group=[e.message,e.caption,e.multiline].concat(e.actions.map(a=>`${a.label}*${a.icon}`)).join("|")),e.meta.group=e.group+"|"+e.position),e.actions.length===0?e.actions=void 0:e.meta.actionsClass="q-notification__actions row items-center "+(e.multiLine===!0?"justify-end":"col-auto")+(e.meta.hasMedia===!0?" q-notification__actions--with-media":""),i!==void 0){i.notif.meta.timer&&(clearTimeout(i.notif.meta.timer),i.notif.meta.timer=void 0),e.meta.uid=i.notif.meta.uid;const a=l[e.position].value.indexOf(i.notif);l[e.position].value[a]=e}else{const a=g[e.meta.group];if(a===void 0){if(e.meta.uid=Q++,e.meta.badge=1,["left","right","center"].indexOf(e.position)!==-1)l[e.position].value.splice(Math.floor(l[e.position].value.length/2),0,e);else{const d=e.position.indexOf("top")!==-1?"unshift":"push";l[e.position].value[d](e)}e.group!==void 0&&(g[e.meta.group]=e)}else{if(a.meta.timer&&(clearTimeout(a.meta.timer),a.meta.timer=void 0),e.badgePosition!==void 0){if(E.includes(e.badgePosition)===!1)return f("wrong badgePosition",t)}else e.badgePosition=`top-${e.position.indexOf("left")!==-1?"right":"left"}`;e.meta.uid=a.meta.uid,e.meta.badge=a.meta.badge+1,e.meta.badgeClass=`q-notification__badge q-notification__badge--${e.badgePosition}`+(e.badgeColor!==void 0?` bg-${e.badgeColor}`:"")+(e.badgeTextColor!==void 0?` text-${e.badgeTextColor}`:"")+(e.badgeClass?` ${e.badgeClass}`:"");const d=l[e.position].value.indexOf(a);l[e.position].value[d]=g[e.meta.group]=e}}const u=()=>{R(e),s=void 0};if(e.timeout>0&&(e.meta.timer=setTimeout(()=>{e.meta.timer=void 0,u()},e.timeout+1e3)),e.group!==void 0)return a=>{a!==void 0?f("trying to update a grouped one which is forbidden",t):u()};if(s={dismiss:u,config:t,notif:e},i!==void 0){Object.assign(i,s);return}return a=>{if(s!==void 0)if(a===void 0)s.dismiss();else{const d=Object.assign({},s.config,a,{group:!1,position:e.position});w(d,o,s)}}}function R(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const o=l[t.position].value.indexOf(t);if(o!==-1){t.group!==void 0&&delete g[t.meta.group];const i=q[""+t.meta.uid];if(i){const{width:s,height:e}=getComputedStyle(i);i.style.left=`${i.offsetLeft}px`,i.style.width=s,i.style.height=e}l[t.position].value.splice(o,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function b(t){return t!=null&&B.test(t)!==!0}function f(t,o){return console.error(`Notify: ${t}`,o),!1}function G(){return C({name:"QNotifications",devtools:{hide:!0},setup(){return()=>n("div",{class:"q-notifications"},h.map(t=>n(N,{key:t,class:x[t],tag:"div",name:`q-notification--${t}`},()=>l[t].value.map(o=>{const i=o.meta,s=[];if(i.hasMedia===!0&&(o.spinner!==!1?s.push(n(o.spinner,{class:"q-notification__spinner q-notification__spinner--"+i.leftClass,color:o.spinnerColor,size:o.spinnerSize})):o.icon?s.push(n(_,{class:"q-notification__icon q-notification__icon--"+i.leftClass,name:o.icon,color:o.iconColor,size:o.iconSize,role:"img"})):o.avatar&&s.push(n(M,{class:"q-notification__avatar q-notification__avatar--"+i.leftClass},()=>n("img",{src:o.avatar,"aria-hidden":"true"})))),i.hasText===!0){let r;const c={class:"q-notification__message col"};if(o.html===!0)c.innerHTML=o.caption?`<div>${o.message}</div><div class="q-notification__caption">${o.caption}</div>`:o.message;else{const u=[o.message];r=o.caption?[n("div",u),n("div",{class:"q-notification__caption"},[o.caption])]:u}s.push(n("div",c,r))}const e=[n("div",{class:i.contentClass},s)];return o.progress===!0&&e.push(n("div",{key:`${i.uid}|p|${i.badge}`,class:i.progressClass,style:i.progressStyle})),o.actions!==void 0&&e.push(n("div",{class:i.actionsClass},o.actions.map(r=>n(L,r)))),i.badge>1&&e.push(n("div",{key:`${i.uid}|${i.badge}`,class:o.meta.badgeClass,style:o.badgeStyle},[i.badge])),n("div",{ref:r=>{q[""+i.uid]=r},key:i.uid,class:i.class,...i.attrs},[n("div",{class:i.wrapperClass},e)])}))))}})}const J={setDefaults(t){v(t)===!0&&Object.assign(p,t)},registerType(t,o){v(o)===!0&&(m[t]=o)},install({$q:t,parentApp:o}){if(t.notify=this.create=i=>w(i,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){h.forEach(s=>{l[s]=$([]);const e=["left","center","right"].includes(s)===!0?"center":s.indexOf("top")!==-1?"top":"bottom",r=s.indexOf("left")!==-1?"start":s.indexOf("right")!==-1?"end":"center",c=["left","right"].includes(s)?`items-${s==="left"?"start":"end"} justify-center`:s==="center"?"flex-center":`items-${r}`;x[s]=`q-notifications__list q-notifications__list--${e} fixed column no-wrap ${c}`});const i=P("q-notify");O(G(),o).mount(i)}}};export{J as N};
