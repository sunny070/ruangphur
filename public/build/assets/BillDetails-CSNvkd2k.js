import{e as Dt,a as n,f as a,g as d,b as t,j as m,k as y,y as Et,z as jt,Q as x,t as i,d as p,h as b,N as Bt}from"./app-Dfx8wdb3.js";import{Q as v}from"./QChip-F2_HzQod.js";import{Q as At}from"./QPage-7_3KjJyu.js";import{_ as Mt}from"./AdminLayout-CKiilQGn.js";import"./QLayout-DG6G-lQ6.js";import"./format-DmVDsBgE.js";import"./QMenu-CDTgN4HV.js";import"./QExpansionItem-CN0lkqWd.js";import"./ClosePopup-CHpksyTA.js";const Rt={class:"grid md:grid-cols-2 gap-4"},$t={class:"flex items-center order-1 md:order-none"},zt={class:"flex flex-wrap gap-2 justify-end order-2"},Vt={class:"flex justify-center"},Ft={class:"w-auto max-w-4xl rounded-[10px] border border-[#EEE] bg-[#E9F4FF] p-4 md:p-5 mt-6"},Nt={class:"grid md:grid-cols-2"},Kt={class:"flex flex-col justify-center items-center"},Pt={class:"text-xl md:text-2xl mt-2"},Qt={class:"mb-4 text-sm"},qt={class:"flex justify-center gap-10 items-center"},Tt={class:"flex-col flex items-center"},It={class:"flex-col flex items-center"},Ot={class:"flex-col flex items-center"},St={class:"flex flex-col md:flex-row justify-center items-center gap-4 mt-4"},Yt={class:"grid md:grid-cols-2 gap-4 px-4 md:pr-28 mt-6"},Gt={class:"flex flex-col gap-4"},Ht={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},Jt={class:"space-y-4"},Lt={class:"leading-[2px] pt-4"},Wt={class:"leading-[2px] pt-4"},Xt={class:"leading-[2px] pt-4"},Zt={class:"leading-[2px] pt-4"},Ut={class:"leading-[2px] pt-4"},_t={class:"leading-[2px] pt-4"},te={class:"leading-[2px] pt-4"},ee={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},se={class:"space-y-4"},ie={class:"leading-[2px]"},le={class:"leading-[2px] pt-4"},ne={class:"leading-[2px] pt-4"},ae={class:"leading-[2px] pt-4"},oe={class:"border-2 rounded-md w-full p-4 md:pl-12 md:pt-6"},de={class:"flex flex-wrap gap-2"},pe={class:"flex flex-col gap-4"},re={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},ce={class:"space-y-4"},ue={class:"pl-4"},me={class:"leading-[2px]"},xe={class:"leading-[2px] pt-4"},ge={class:"pl-4"},fe={class:"leading-[2px]"},be={class:"leading-[2px] pt-4"},ve={class:"leading-[2px] pt-4"},he={class:"pl-4"},ye={class:"leading-[2px]"},ke={class:"leading-[2px] pt-4"},Be={class:"leading-[2px] pt-4"},we={class:"leading-[2px] pt-4"},Ce={class:"border-2 rounded-md w-full p-4 md:pl-12 md:pt-6"},De={class:"space-y-4"},Ee={class:"leading-[2px]"},je={class:"leading-[2px] pt-4"},Ae={class:"leading-[2px] pt-4"},Me={class:"flex flex-col md:flex-row justify-center items-center gap-4 my-6"},qe=Object.assign({layout:Mt},{__name:"BillDetails",props:{application:Object},setup(s){const o=s,k=async l=>{if(confirm("Are you sure you want to approve this application?"))try{await Bt.post(`/admin/bill/${l}/processed`)}catch(e){console.error(e)}},B=async l=>{if(confirm("Are you sure you want to reject this application?"))try{await Bt.post(`/admin/bill/${l}/reject`)}catch(e){console.error(e)}},f=l=>{l?window.open(l,"_blank"):$q.notify({type:"negative",message:"File not found"})},wt=(l,e)=>{const r=new Date(l),c=new Date(e),g=c.getFullYear()-r.getFullYear();return c.getMonth()<r.getMonth()||c.getMonth()===r.getMonth()&&c.getDate()<r.getDate()?g-1:g},Ct=Dt(()=>wt(o.application.deceased.dob,o.application.deceased.time_of_death));return(l,e)=>(n(),a(At,{padding:""},{default:d(()=>{var r,c,g,h,w,C,D,E,j,A,M,R,$,z,V,F,N,K,P,Q,q,T,I,O,S,Y,G,H,J,L,W,X,Z,U,_,tt,et,st,it,lt,nt,at,ot,dt,pt,rt,ct,ut,mt,xt,gt,ft,bt,vt,ht,yt,kt;return[t("div",Rt,[t("div",$t,[m(Et(jt),{href:l.route("admin.bill"),size:"sm",flat:"",outlined:"",class:"flex items-center justify-center"},{default:d(()=>[m(y,{name:"arrow_back",size:"16px",class:"q-mr-xs"}),e[8]||(e[8]=t("span",null,"Back",-1))]),_:1},8,["href"])]),t("div",zt,[m(x,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000","min-width":"100px",height:"40px","border-radius":"8px"},onClick:l.printTable},{default:d(()=>[m(y,{name:"print",size:"16px",class:"q-mr-xs"}),e[9]||(e[9]=t("span",{class:"text-xs md:text-sm"},"Print",-1))]),_:1},8,["onClick"]),m(x,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000","min-width":"100px",height:"40px","border-radius":"8px"},onClick:l.exportToExcel},{default:d(()=>[m(y,{name:"ios_share",size:"16px",class:"q-mr-xs"}),e[10]||(e[10]=t("span",{class:"text-xs md:text-sm"},"Export",-1))]),_:1},8,["onClick"])])]),t("div",Vt,[t("div",Ft,[t("div",Nt,[t("div",Kt,[e[11]||(e[11]=t("img",{src:"/image/icon 1.png",alt:"Ruang",class:"w-12 h-12"},null,-1)),t("h5",Pt,i((c=(r=s.application)==null?void 0:r.applicant)==null?void 0:c.name),1),t("p",Qt,i(s.application.deceased.relative.name)+" "+i(s.application.deceased.name),1)]),t("div",qt,[t("div",Tt,[t("h6",null,i((h=(g=s.application)==null?void 0:g.transport)==null?void 0:h.distance),1),e[12]||(e[12]=t("p",null,"Kilometre",-1))]),t("div",It,[t("h6",null,i((C=(w=s.application)==null?void 0:w.transport)==null?void 0:C.vehicle_number),1),e[13]||(e[13]=t("p",null,"Motor Reg.",-1))]),t("div",Ot,[t("h6",null,i((E=(D=s.application)==null?void 0:D.transport)==null?void 0:E.transport_cost),1),e[14]||(e[14]=t("p",null,"Amount (Rs)",-1))])])]),t("div",St,[((j=s.application)==null?void 0:j.status)==="Approved"?(n(),a(x,{key:0,onClick:e[0]||(e[0]=u=>k(s.application.id)),label:"Process for Deposit",size:"sm",class:"w-full md:w-36",style:{color:"#fff",height:"40px","border-radius":"8px",border:"1px solid #5b656f",background:"#000"}})):p("",!0),((A=s.application)==null?void 0:A.status)==="Approved"?(n(),a(x,{key:1,onClick:e[1]||(e[1]=u=>B(s.application.id)),label:"Reject",size:"sm",class:"w-full md:w-36",style:{color:"#000",height:"40px","border-radius":"8px",border:"1px solid #5b656f",background:"transparent"}})):p("",!0)])])]),t("div",Yt,[t("div",Gt,[t("div",Ht,[e[23]||(e[23]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Mitthi Chungchang ",-1)),t("div",Jt,[e[15]||(e[15]=t("p",{class:"text-[#61646B]"},"Mitthi pianni leh thla",-1)),t("p",null,i(s.application.deceased.dob),1)]),t("div",Lt,[e[16]||(e[16]=t("p",{class:"text-[#61646B]"},"Kum",-1)),t("p",null,i(Ct.value)+" years",1)]),t("div",Wt,[e[17]||(e[17]=t("p",{class:"text-[#61646B]"},"Gender",-1)),t("p",null,i(s.application.deceased.gender),1)]),t("div",Xt,[e[18]||(e[18]=t("p",{class:"text-[#61646B]"},"Thih ni leh darkar",-1)),t("p",null,i(s.application.deceased.time_of_death),1)]),t("div",Zt,[e[19]||(e[19]=t("p",{class:"text-[#61646B]"},"Thihna hmun",-1)),t("p",null,i(s.application.deceased.place_of_death),1)]),t("div",Ut,[e[20]||(e[20]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i(($=(R=(M=s.application)==null?void 0:M.deceased)==null?void 0:R.district)==null?void 0:$.name),1)]),t("div",_t,[e[21]||(e[21]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((V=(z=s.application)==null?void 0:z.deceased)==null?void 0:V.locality),1)]),t("div",te,[e[22]||(e[22]=t("p",{class:"text-[#61646B]"},"Assembly Constituency",-1)),t("p",null,i((N=(F=s.application)==null?void 0:F.deceased)==null?void 0:N.constituency.name),1)])]),t("div",ee,[e[28]||(e[28]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Ruang Phurh Diltu ",-1)),t("div",se,[t("div",ie,[e[24]||(e[24]=t("p",{class:"text-[#61646B]"},"Hming",-1)),t("p",null,i((P=(K=s.application)==null?void 0:K.applicant)==null?void 0:P.name),1)]),t("div",le,[e[25]||(e[25]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((q=(Q=s.application)==null?void 0:Q.applicant)==null?void 0:q.district.name),1)]),t("div",ne,[e[26]||(e[26]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((I=(T=s.application)==null?void 0:T.applicant)==null?void 0:I.locality),1)]),t("div",ae,[e[27]||(e[27]=t("p",{class:"text-[#61646B]"},"Phone Number",-1)),t("p",null,i((S=(O=s.application)==null?void 0:O.applicant)==null?void 0:S.mobile),1)])])]),t("div",oe,[e[33]||(e[33]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Document Thiltel te ",-1)),t("div",de,[(G=(Y=s.application)==null?void 0:Y.attachment)!=null&&G.id_proof?(n(),a(v,{key:0,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:e[2]||(e[2]=u=>f("/storage/"+s.application.attachment.id_proof))},{default:d(()=>e[29]||(e[29]=[b(" Mitthi Aadhar card/Voter ID/Birth Certificate ")])),_:1})):p("",!0),(J=(H=s.application)==null?void 0:H.attachment)!=null&&J.receipt?(n(),a(v,{key:1,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:e[3]||(e[3]=u=>f("/storage/"+s.application.attachment.receipt))},{default:d(()=>e[30]||(e[30]=[b(" Motor hman man Voucher/Receipt ")])),_:1})):p("",!0),(W=(L=s.application)==null?void 0:L.attachment)!=null&&W.death_certificate?(n(),a(v,{key:2,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:e[4]||(e[4]=u=>f("/storage/"+s.application.attachment.death_certificate))},{default:d(()=>e[31]||(e[31]=[b(" Death Certificate ")])),_:1})):p("",!0),(Z=(X=s.application)==null?void 0:X.attachment)!=null&&Z.additional_document?(n(),a(v,{key:3,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:e[5]||(e[5]=u=>f("/storage/"+s.application.attachment.additional_document))},{default:d(()=>e[32]||(e[32]=[b(" Diltu Aadhar card/voter ID ")])),_:1})):p("",!0)])])]),t("div",pe,[t("div",re,[e[46]||(e[46]=t("p",{class:"text-center w-48 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Ruang Phurh leh Motor Chungchang ",-1)),t("div",ce,[e[43]||(e[43]=t("p",{class:"pt-5"},"Ruang phurh tanna",-1)),t("div",ue,[t("div",me,[e[34]||(e[34]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((_=(U=s.application)==null?void 0:U.transport)==null?void 0:_.source_district.name),1)]),t("div",xe,[e[35]||(e[35]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((et=(tt=s.application)==null?void 0:tt.transport)==null?void 0:et.source_locality),1)])]),e[44]||(e[44]=t("p",{class:"pt-5"},"Ruang dahna tur hmun",-1)),t("div",ge,[t("div",fe,[e[36]||(e[36]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((it=(st=s.application)==null?void 0:st.transport)==null?void 0:it.destination_district.name),1)]),t("div",be,[e[37]||(e[37]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((nt=(lt=s.application)==null?void 0:lt.transport)==null?void 0:nt.destination_locality),1)])]),t("div",ve,[e[38]||(e[38]=t("p",{class:"text-[#61646B]"},"Kilometer",-1)),t("p",null,i((ot=(at=s.application)==null?void 0:at.transport)==null?void 0:ot.distance),1)]),e[45]||(e[45]=t("p",{class:"pt-5"},"Ruang phurhna motor",-1)),t("div",he,[t("div",ye,[e[39]||(e[39]=t("p",{class:"text-[#61646B]"}," Motor registration number ",-1)),t("p",null,i((pt=(dt=s.application)==null?void 0:dt.transport)==null?void 0:pt.vehicle_number),1)]),t("div",ke,[e[40]||(e[40]=t("p",{class:"text-[#61646B]"}," Motor neitu/khalhtu hming ",-1)),t("p",null,i((ct=(rt=s.application)==null?void 0:rt.transport)==null?void 0:ct.driver_name),1)]),t("div",Be,[e[41]||(e[41]=t("p",{class:"text-[#61646B]"},"Phone Number",-1)),t("p",null,i((mt=(ut=s.application)==null?void 0:ut.transport)==null?void 0:mt.driver_phone),1)]),t("div",we,[e[42]||(e[42]=t("p",{class:"text-[#61646B]"},"Motor saung (Rs.)",-1)),t("p",null,i((gt=(xt=s.application)==null?void 0:xt.transport)==null?void 0:gt.transport_cost),1)])])])]),t("div",Ce,[e[50]||(e[50]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Bank Details ",-1)),t("div",De,[t("div",Ee,[e[47]||(e[47]=t("p",{class:"text-[#61646B]"},"Bank hming",-1)),t("p",null,i((bt=(ft=s.application)==null?void 0:ft.applicant)==null?void 0:bt.bank_name),1)]),t("div",je,[e[48]||(e[48]=t("p",{class:"text-[#61646B]"},"Bank account number",-1)),t("p",null,i((ht=(vt=s.application)==null?void 0:vt.applicant)==null?void 0:ht.account_no),1)]),t("div",Ae,[e[49]||(e[49]=t("p",{class:"text-[#61646B]"},"IFSC Code",-1)),t("p",null,i((kt=(yt=s.application)==null?void 0:yt.applicant)==null?void 0:kt.ifsc_code),1)])])])])]),e[51]||(e[51]=t("hr",{class:"my-4 border-border"},null,-1)),t("div",Me,[o.application&&o.application.status==="Approved"?(n(),a(x,{key:0,onClick:e[6]||(e[6]=u=>k(o.application.id)),label:"Approve",size:"sm",style:{color:"#fff",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"#000"}})):p("",!0),o.application&&o.application.status==="Approved"?(n(),a(x,{key:1,onClick:e[7]||(e[7]=u=>B(o.application.id)),label:"Reject",size:"sm",style:{color:"#000",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"transparent"}})):p("",!0)])]}),_:1}))}});export{qe as default};
