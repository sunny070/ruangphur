import{Q as ce,d as _e}from"./dayjs.min-DOpdMjxR.js";import{r as y,w as Fe,o as we,a as b,c as _,b as a,t as V,d as M,e as Z,f as U,g as m,h as s,u as Pe,Z as Ue,i as L,j as me,F as pe,n as $,Q as S,k as T,l as x,m as ve,p as ge,q as qe,s as fe,v as X,x as he,N as G,y as Re}from"./app-B9dkpGLK.js";import{Q as W}from"./QTooltip-CazN7YXa.js";import{Q}from"./QSelect-BMdYZ3CY.js";import{Q as ee,a as z}from"./format-D7GaRK-I.js";import{Q as je}from"./QLayout-CjwSdPgF.js";import{Q as Ne}from"./QMenu-wN6hlZOM.js";import{Q as De}from"./QForm-DHArkQSu.js";import{Q as Le}from"./QPage-zxMC9aqx.js";import{C as be}from"./ClosePopup-Bydqmf8k.js";import{_ as Te}from"./AdminLayout-BNQZF6Hu.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-BIcJenDY.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-sevoPI2F.js";function $e(u,o,r,d){function g(v){return v instanceof r?v:new r(function(h){h(v)})}return new(r||(r=Promise))(function(v,h){function C(w){try{l(d.next(w))}catch(A){h(A)}}function f(w){try{l(d.throw(w))}catch(A){h(A)}}function l(w){w.done?v(w.value):g(w.value).then(C,f)}l((d=d.apply(u,[])).next())})}function Qe(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ze=function u(o,r){if(o===r)return!0;if(o&&r&&typeof o=="object"&&typeof r=="object"){if(o.constructor!==r.constructor)return!1;var d,g,v;if(Array.isArray(o)){if(d=o.length,d!=r.length)return!1;for(g=d;g--!==0;)if(!u(o[g],r[g]))return!1;return!0}if(o.constructor===RegExp)return o.source===r.source&&o.flags===r.flags;if(o.valueOf!==Object.prototype.valueOf)return o.valueOf()===r.valueOf();if(o.toString!==Object.prototype.toString)return o.toString()===r.toString();if(v=Object.keys(o),d=v.length,d!==Object.keys(r).length)return!1;for(g=d;g--!==0;)if(!Object.prototype.hasOwnProperty.call(r,v[g]))return!1;for(g=d;g--!==0;){var h=v[g];if(!u(o[h],r[h]))return!1}return!0}return o!==o&&r!==r},Ke=Qe(ze);const ye="__googleMapsScriptId";var K;(function(u){u[u.INITIALIZED=0]="INITIALIZED",u[u.LOADING=1]="LOADING",u[u.SUCCESS=2]="SUCCESS",u[u.FAILURE=3]="FAILURE"})(K||(K={}));class O{constructor({apiKey:o,authReferrerPolicy:r,channel:d,client:g,id:v=ye,language:h,libraries:C=[],mapIds:f,nonce:l,region:w,retries:A=3,url:F="https://maps.googleapis.com/maps/api/js",version:N}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=o,this.authReferrerPolicy=r,this.channel=d,this.client=g,this.id=v||ye,this.language=h,this.libraries=C,this.mapIds=f,this.nonce=l,this.region=w,this.retries=A,this.url=F,this.version=N,O.instance){if(!Ke(this.options,O.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(O.instance.options)}`);return O.instance}O.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?K.FAILURE:this.done?K.SUCCESS:this.loading?K.LOADING:K.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let o=this.url;return o+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(o+=`&key=${this.apiKey}`),this.channel&&(o+=`&channel=${this.channel}`),this.client&&(o+=`&client=${this.client}`),this.libraries.length>0&&(o+=`&libraries=${this.libraries.join(",")}`),this.language&&(o+=`&language=${this.language}`),this.region&&(o+=`&region=${this.region}`),this.version&&(o+=`&v=${this.version}`),this.mapIds&&(o+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(o+=`&auth_referrer_policy=${this.authReferrerPolicy}`),o}deleteScript(){const o=document.getElementById(this.id);o&&o.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((o,r)=>{this.loadCallback(d=>{d?r(d.error):o(window.google)})})}importLibrary(o){return this.execute(),google.maps.importLibrary(o)}loadCallback(o){this.callbacks.push(o),this.execute()}setScript(){var o,r;if(document.getElementById(this.id)){this.callback();return}const d={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(d).forEach(v=>!d[v]&&delete d[v]),!((r=(o=window==null?void 0:window.google)===null||o===void 0?void 0:o.maps)===null||r===void 0)&&r.importLibrary||(v=>{let h,C,f,l="The Google Maps JavaScript API",w="google",A="importLibrary",F="__ib__",N=document,q=window;q=q[w]||(q[w]={});const R=q.maps||(q.maps={}),E=new Set,j=new URLSearchParams,c=()=>h||(h=new Promise((p,i)=>$e(this,void 0,void 0,function*(){var I;yield C=N.createElement("script"),C.id=this.id,j.set("libraries",[...E]+"");for(f in v)j.set(f.replace(/[A-Z]/g,P=>"_"+P[0].toLowerCase()),v[f]);j.set("callback",w+".maps."+F),C.src=this.url+"?"+j,R[F]=p,C.onerror=()=>h=i(Error(l+" could not load.")),C.nonce=this.nonce||((I=N.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",N.head.append(C)})));R[A]?console.warn(l+" only loads once. Ignoring:",v):R[A]=(p,...i)=>E.add(p)&&c().then(()=>R[A](p,...i))})(d);const g=this.libraries.map(v=>this.importLibrary(v));g.length||g.push(this.importLibrary("core")),Promise.all(g).then(()=>this.callback(),v=>{const h=new ErrorEvent("error",{error:v});this.loadErrorCallback(h)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(o){if(this.errors.push(o),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=o,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(o=>{o(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const Ge={key:0,class:"text-red-500 text-sm mb-2"},Be="AIzaSyAGK-HMMYfseKAJY356jUJLnz2ILC5bN_g",He={__name:"TransportRouteMap",props:{transport:Object},emits:["update:source-locality","update:destination-locality","update:distance","update:transport-cost","maps-loaded"],setup(u,{emit:o}){const r=u,d=o,g=y(null),v=y(null),h=y(null),C=y(null),f=y(null),l=y(null),w=async()=>{try{await new O({apiKey:Be,libraries:["places","geometry"],version:"weekly"}).load(),v.value=new google.maps.DirectionsService,h.value=new google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:5}}),console.log("Google Maps Initialized!"),d("maps-loaded")}catch(c){console.error("Google Maps failed to initialize:",c),l.value="Failed to load Google Maps"}};let A=null,F=null;const N=(c,p)=>{A&&A.setMap(null),F&&F.setMap(null),A=new google.maps.Marker({position:c,map:g.value,draggable:!0}),F=new google.maps.Marker({position:p,map:g.value,draggable:!0}),A.addListener("dragend",async i=>{const I=i.latLng,P=await q(I);d("update:source-locality",P),C.value=I,E()}),F.addListener("dragend",async i=>{const I=i.latLng,P=await q(I);d("update:destination-locality",P),f.value=I,E()})},q=c=>new Promise(p=>{new google.maps.Geocoder().geocode({location:c},(i,I)=>{I==="OK"&&i[0]&&p(i[0].formatted_address)})}),R=async c=>new Promise((p,i)=>{new google.maps.Geocoder().geocode({address:c},(P,B)=>{B==="OK"&&P.length>0?p(P[0].geometry.location):i(`Geocode failed for ${c}: ${B}`)})}),E=async()=>{if(!v.value||!C.value||!f.value){console.error("Directions service or coordinates not ready");return}try{console.log("Calculating Route...");const c=await v.value.route({origin:C.value,destination:f.value,travelMode:google.maps.TravelMode.DRIVING});h.value.setDirections(c),console.log("Route Response:",c);const p=c.routes[0].legs[0];N(p.start_location,p.end_location);const i=(p.distance.value/1e3).toFixed(2),I=80;d("update:distance",i),d("update:transport-cost",(i*I).toFixed(2)),c.routes.length>0?(h.value.setDirections(c),l.value=null):(console.error("No route found."),l.value="No route found.")}catch(c){console.error("Route calculation failed:",c),l.value="Route calculation failed."}},j=async()=>{var c,p;if(!((c=r.transport)!=null&&c.source_locality)||!((p=r.transport)!=null&&p.destination_locality)){console.warn("Missing source or destination locality.");return}try{console.log("Fetching Coordinates for:",r.transport.source_locality,r.transport.destination_locality),C.value=await R(r.transport.source_locality),f.value=await R(r.transport.destination_locality),console.log("Source Coordinates:",C.value),console.log("Destination Coordinates:",f.value),g.value||(g.value=new google.maps.Map(document.getElementById("map"),{center:C.value,zoom:12})),h.value.setMap(g.value),await E()}catch(i){console.error("Error updating map:",i),l.value="Failed to update map."}};return Fe(()=>r.transport,c=>{console.log("Transport Props Updated:",c),j()},{deep:!0,immediate:!0}),we(async()=>{await w(),j()}),(c,p)=>(b(),_("div",null,[p[0]||(p[0]=a("h2",{class:"text-lg font-semibold mb-2"},"Transport Route Map",-1)),l.value?(b(),_("div",Ge,V(l.value),1)):M("",!0),p[1]||(p[1]=a("div",{id:"map",class:"w-full h-96"},null,-1))]))}},Ye=Oe(He,[["__scopeId","data-v-f5713180"]]),Je={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Ze={class:"text-sm sm:text-base font-black"},We={class:"text-xs sm:text-sm"},Xe={class:"q-my-md grid grid-cols-1 md:grid-cols-2 gap-4"},et={class:"q-my-md flex gap-16"},tt={class:"flex justify-end"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:""},ot={key:0,class:"flex flex-col sm:flex-row gap-2"},at={class:"flex justify-end pr-16"},nt={ref:"printSection",class:"rounded-lg overflow-x-auto table-responsive"},rt={class:"q-table q-table__grid w-full"},it={key:0},dt=["value"],ut={class:"no-print"},ct={key:1},mt={key:0},pt={key:1},vt={class:"mt-4",style:{height:"200px"}},gt={key:2},Ft=Object.assign({layout:Te},{__name:"Application",props:{applications:Array,statusCounts:Object,flash:Object,dropdowns:Object},setup(u){const o=u,r=n=>_e(n).format("dddd, MMMM D, YYYY h:mm A"),d=y(!1),g=y(!1);y(null);const v=y(null),h=y(null),C=y(null),f=y(1),l=y({deceased:{},transport:{},applicant:{}}),w=Z(()=>i.value.some(n=>{const e=o.applications.find(k=>k.id===n);return e&&e.status!=="Pending"&&e.status!=="Verified"})),A=n=>{var e,k,D,t;l.value={...n,transport:{...n.transport,source_lat:Number((e=n.transport)==null?void 0:e.source_lat)||23.1645,source_lng:Number((k=n.transport)==null?void 0:k.source_lng)||92.9376,destination_lat:Number((D=n.transport)==null?void 0:D.destination_lat)||23.1645,destination_lng:Number((t=n.transport)==null?void 0:t.destination_lng)||92.9376}},f.value=1,d.value=!0},F=()=>{if(C.value){alert("Please fix route errors before submitting");return}G.put(`/application/${l.value.id}`,l.value,{onSuccess:()=>{d.value=!1}})},N=()=>{f.value<4&&f.value++},q=()=>{f.value>1&&f.value--},R=y([]),E=y(null),j=y([]),c=y(""),p=y("All"),i=y([]),I=Z(()=>i.value.length>0),P=y(!1),B=()=>{i.value.length===H.value.length?(i.value=[],P.value=!1):(i.value=H.value.map(n=>n.id),P.value=!0)},xe=()=>{E.value?R.value=o.applications.filter(n=>n.deceased.district.name===E.value):R.value=o.applications},Ce=()=>{nextTick(()=>{const n=v.value.$el.querySelector("input"),e=h.value.$el.querySelector("input");new google.maps.places.Autocomplete(n,{types:["geocode"]}).addListener("place_changed",()=>{const k=autocomplete.getPlace();l.value.transport.source_locality=k.formatted_address}),new google.maps.places.Autocomplete(e,{types:["geocode"]}).addListener("place_changed",()=>{const k=autocomplete.getPlace();l.value.transport.destination_locality=k.formatted_address})})};we(()=>{const n=[...new Set(o.applications.map(e=>e.deceased.district.name))];j.value=n.map(e=>({label:e,value:e}))});const H=Z(()=>{let n=o.applications;if(E.value&&(n=n.filter(e=>e.deceased.district.name===E.value)),p.value==="Incoming"?n=n.filter(e=>e.status==="Pending"):p.value==="Approved"?n=n.filter(e=>e.status==="Approved"):p.value==="Rejected"&&(n=n.filter(e=>e.status==="Rejected")),c.value){const e=c.value.toLowerCase();n=n.filter(k=>k.application_no.toString().toLowerCase().includes(e)||k.applicant.name.toLowerCase().includes(e)||k.deceased.name.toLowerCase().includes(e)||k.applicant.mobile.toString().includes(e)||k.deceased.district.name.toLowerCase().includes(e))}return n}),Y=n=>{p.value=n},ke=n=>{G.get(route("applications.show",n))},Ve=async()=>{if(i.value.length>0)try{await G.post("/admin/applications/approve-all",{ids:i.value},{onSuccess:()=>{i.value=[]}})}catch(n){console.error("Error approving applications:",n)}},Ae=async()=>{if(i.value.length>0)try{await G.post("/admin/applications/reject-all",{ids:i.value},{onSuccess:()=>{i.value=[]}})}catch(n){console.error("Error rejecting applications:",n)}},Ie=()=>{const e=document.querySelector(".q-table").cloneNode(!0);e.querySelectorAll(".no-print").forEach(t=>t.remove());const D=window.open("","","width=800,height=600");D.document.write(`
        <html>
            <head>
                <title>Print Table</title>
                <style>
                    table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    th, td {
                        padding: 8px 12px;
                        text-align: left;
                        border-bottom: 1px solid #ddd;
                    }
                    th {
                        background-color: #3A424A;
                        color: white;
                        font-weight: bold;
                    }
                </style>
            </head>
            <body>
                ${e.outerHTML}
            </body>
        </html>
    `),D.document.close(),D.print()},Se=Z(()=>[{label:"Incoming",count:o.statusCounts.Incoming||0,bgClass:"bg-[#FFF7EF]",textClass:"text-[#FD7900]"},{label:"Approved",count:o.statusCounts.Approved||0,bgClass:"bg-[#EEFFF8]",textClass:"text-[#00AA68]"},{label:"Rejected",count:o.statusCounts.Rejected||0,bgClass:"bg-[#FFF2F2]",textClass:"text-[#FE6262]"},{label:"Pending",count:o.statusCounts.Pending||0,bgClass:"bg-[#F2F8FF]",textClass:"text-[#404CF1]"},{label:"Processed",count:o.statusCounts.Processed||0,bgClass:"bg-[#F2FBFF]",textClass:"text-[#00AEFF]"}]),Ee=n=>{confirm("Are you sure you want to delete this application?")&&G.delete(`/applications/${n}`,{onSuccess:()=>{}})};return(n,e)=>(b(),U(Le,{padding:""},{default:m(()=>{var k,D;return[s(Pe(Ue),{title:"Application"}),(k=u.flash)!=null&&k.success?(b(),U(ce,{key:0,class:"bg-green-4 text-white",dense:""},{default:m(()=>[L(V(u.flash.success),1)]),_:1})):M("",!0),(D=u.flash)!=null&&D.error?(b(),U(ce,{key:1,class:"bg-red-4 text-white",dense:""},{default:m(()=>[L(V(u.flash.error),1)]),_:1})):M("",!0),a("div",Je,[(b(!0),_(pe,null,me(Se.value,t=>(b(),_("div",{key:t.label,class:$(`w-full h-[78px] ${t.bgClass} ${t.textClass} p-4`)},[a("h6",Ze,V(t.count),1),a("p",We,V(t.label),1)],2))),128))]),a("div",Xe,[a("div",et,[s(S,{label:"All",flat:"",class:$(p.value==="All"?"active-button":"inactive-button"),onClick:e[0]||(e[0]=t=>Y("All"))},null,8,["class"]),s(S,{label:"Incoming",flat:"",class:$(p.value==="Incoming"?"active-button":"inactive-button"),onClick:e[1]||(e[1]=t=>Y("Incoming"))},null,8,["class"]),s(S,{label:"Approved",flat:"",class:$(p.value==="Approved"?"active-button":"inactive-button"),onClick:e[2]||(e[2]=t=>Y("Approved"))},null,8,["class"]),s(S,{label:"Rejected",flat:"",class:$(p.value==="Rejected"?"active-button":"inactive-button"),onClick:e[3]||(e[3]=t=>Y("Rejected"))},null,8,["class"])]),a("div",tt,[s(x,{rounded:"lg",outlined:"",dense:"","bottom-slots":"",modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=t=>c.value=t),label:"Search",color:"dark",class:"w-full max-w-md"},{append:m(()=>[c.value!==""?(b(),U(T,{key:0,name:"close",onClick:e[4]||(e[4]=t=>c.value=""),class:"cursor-pointer"})):M("",!0),s(T,{name:"search"})]),_:1},8,["modelValue"])])]),a("div",lt,[a("div",st,[I.value?(b(),_("div",ot,[s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:B},{default:m(()=>[s(T,{name:"check",size:"16px",class:"q-mr-xs"}),e[38]||(e[38]=a("span",null,"Select All",-1))]),_:1}),s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:Ve,disabled:!i.value.length||w.value},{default:m(()=>[s(T,{name:"check_circle",size:"16px",class:"q-mr-xs"}),e[41]||(e[41]=a("span",null,"Approve All",-1)),w.value&&i.value.length?(b(),U(W,{key:0},{default:m(()=>e[39]||(e[39]=[L(" Cannot Approve - selected applications are already processed ")])),_:1})):i.value.length?M("",!0):(b(),U(W,{key:1},{default:m(()=>e[40]||(e[40]=[L(" Select applications to approve ")])),_:1}))]),_:1},8,["disabled"]),s(S,{style:{"border-radius":"8px"},size:"md",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center hover:bg-[#3A424A] hover:text-white",onClick:Ae,disabled:!i.value.length||w.value},{default:m(()=>[s(T,{name:"cancel",size:"16px",class:"q-mr-xs"}),e[44]||(e[44]=a("span",null,"Reject All",-1)),w.value&&i.value.length?(b(),U(W,{key:0},{default:m(()=>e[42]||(e[42]=[L(" Cannot Reject - selected applications are already processed ")])),_:1})):i.value.length?M("",!0):(b(),U(W,{key:1},{default:m(()=>e[43]||(e[43]=[L(" Select applications to reject ")])),_:1}))]),_:1},8,["disabled"])])):M("",!0)]),a("div",at,[s(S,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000",width:"100px",height:"40px","border-radius":"8px"},onClick:Ie},{default:m(()=>[s(T,{name:"print",size:"16px",class:"q-mr-xs"}),e[45]||(e[45]=a("span",null,"Print",-1))]),_:1}),s(Q,{color:"dark",style:{color:"#000",width:"160px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid black",background:"transparent"},modelValue:E.value,"onUpdate:modelValue":e[6]||(e[6]=t=>E.value=t),options:j.value,label:"Select District",outlined:"",dense:"",class:"q-mb-md",onInput:xe},null,8,["modelValue","options"])])]),a("div",nt,[a("table",rt,[e[51]||(e[51]=a("thead",null,[a("tr",{class:"bg-[#3A424A] text-white"},[a("th"),a("th",null,"Sl.No."),a("th",null,"APPLICATION NO."),a("th",null,"APPLICANT NAME"),a("th",null,"ADDRESS"),a("th",null,"CONTACT No."),a("th",null,"MITTHI KHUA"),a("th",null,"PLACE OF DEATH"),a("th",null,"KILOMETER"),a("th",null,"AMOUNT CLAIMED"),a("th",null,"ACCOUNT No. OF CLAIMANT"),a("th",null,"IFSC"),a("th",null,"STATUS"),a("th",null,"DIL NI"),a("th",{class:"no-print"},"ACTIONS"),a("th",{class:"print-only"},"Signature")])],-1)),H.value.length?(b(),_("tbody",it,[(b(!0),_(pe,null,me(H.value,(t,Me)=>{var te,le,se,oe,ae,ne,re,ie,de,ue;return b(),_("tr",{key:t.id},[a("td",null,[X(a("input",{class:"no-print",type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=J=>i.value=J),value:t.id},null,8,dt),[[Re,i.value]])]),a("td",null,V(Me+1),1),a("td",null,V(t==null?void 0:t.application_no),1),a("td",null,V((te=t==null?void 0:t.applicant)==null?void 0:te.name),1),a("td",null,V((le=t==null?void 0:t.applicant)==null?void 0:le.locality),1),a("td",null,V((se=t==null?void 0:t.applicant)==null?void 0:se.mobile),1),a("td",null,V((ae=(oe=t==null?void 0:t.deceased)==null?void 0:oe.district)==null?void 0:ae.name),1),a("td",null,V((ne=t==null?void 0:t.deceased)==null?void 0:ne.place_of_death),1),a("td",null,V((re=t==null?void 0:t.transport)==null?void 0:re.distance),1),a("td",null,V((ie=t==null?void 0:t.transport)==null?void 0:ie.transport_cost),1),a("td",null,V((de=t==null?void 0:t.applicant)==null?void 0:de.account_no),1),a("td",null,V((ue=t==null?void 0:t.applicant)==null?void 0:ue.ifsc_code),1),a("td",null,[a("div",{class:$([{"status-incoming":(t==null?void 0:t.status)==="Pending","status-verified":(t==null?void 0:t.status)==="Verified","status-rejected":(t==null?void 0:t.status)==="Rejected","status-approved":(t==null?void 0:t.status)==="Approved","status-paid":(t==null?void 0:t.status)==="Processed"},"status-badge"])},V(t==null?void 0:t.status),3)]),a("td",null,V(r(t==null?void 0:t.created_at)),1),a("td",ut,[s(S,{flat:"",icon:"more_vert"}),s(Ne,null,{default:m(()=>[s(je,null,{default:m(()=>[s(ee,{clickable:"",onClick:J=>ke(t.id)},{default:m(()=>[s(z,{avatar:""},{default:m(()=>[s(T,{size:"sm",name:"visibility"})]),_:1}),s(z,null,{default:m(()=>e[46]||(e[46]=[L("View")])),_:1})]),_:2},1032,["onClick"]),s(ee,{clickable:"",onClick:J=>A(t)},{default:m(()=>[s(z,{avatar:""},{default:m(()=>[s(T,{name:"edit"})]),_:1}),s(z,null,{default:m(()=>e[47]||(e[47]=[L("Edit/Update")])),_:1})]),_:2},1032,["onClick"]),s(ee,{clickable:"",onClick:J=>Ee(t.id)},{default:m(()=>[s(z,{avatar:""},{default:m(()=>[s(T,{name:"delete"})]),_:1}),s(z,null,{default:m(()=>e[48]||(e[48]=[L("Delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),e[49]||(e[49]=a("td",{class:"print-only"},null,-1))])}),128))])):(b(),_("tbody",ct,e[50]||(e[50]=[a("tr",null,[a("td",{colspan:"11",class:"text-center text-gray-500"}," No applications found. ")],-1)])))])],512),s(he,{modelValue:d.value,"onUpdate:modelValue":e[36]||(e[36]=t=>d.value=t)},{default:m(()=>[s(ve,{class:"w-[411px] h-[822px] rounded-md"},{default:m(()=>[s(ge,null,{default:m(()=>[s(De,{onSubmit:qe(F,["prevent"])},{default:m(()=>[f.value===1?(b(),_("div",mt,[e[52]||(e[52]=a("p",{class:"text-center w-[242px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Ruang Phurh MITTHI Chungchang ",-1)),s(x,{modelValue:l.value.deceased.name,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.deceased.name=t),label:"Mitthi hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.deceased.relative_name,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.deceased.relative_name=t),label:"A chhungte hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{type:"date",modelValue:l.value.deceased.dob,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.deceased.dob=t),label:"Mitthi Pianni leh thla",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.deceased.district.name,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.deceased.district.name=t),options:u.dropdowns.districts,"option-label":"name","option-value":"id",label:"District",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{modelValue:l.value.deceased.locality,"onUpdate:modelValue":e[12]||(e[12]=t=>l.value.deceased.locality=t),label:"Locality",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.deceased.constituency.name,"onUpdate:modelValue":e[13]||(e[13]=t=>l.value.deceased.constituency.name=t),options:u.dropdowns.constituencies,"option-label":"name","option-value":"id",label:"Constituency",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{type:"datetime-local",modelValue:l.value.deceased.time_of_death,"onUpdate:modelValue":e[14]||(e[14]=t=>l.value.deceased.time_of_death=t),label:"Thih ni leh darkar",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.deceased.place_of_death,"onUpdate:modelValue":e[15]||(e[15]=t=>l.value.deceased.place_of_death=t),label:"Thihna hmun",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):M("",!0),f.value===2?(b(),_("div",pt,[e[53]||(e[53]=a("p",{class:"text-center w-[242px] h-[17px] flex-shrink-0 rounded-[20px] bg-[#E9E9E9] mb-8"}," Ruang Phurh leh Motor Chungchang ",-1)),s(Q,{modelValue:l.value.transport.source_district,"onUpdate:modelValue":e[16]||(e[16]=t=>l.value.transport.source_district=t),options:u.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang phurh tanna tur District awmna",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{ref_key:"sourceInput",ref:v,modelValue:l.value.transport.source_locality,"onUpdate:modelValue":e[17]||(e[17]=t=>l.value.transport.source_locality=t),label:"Source Locality",outlined:"",dense:""},null,8,["modelValue"]),s(Q,{modelValue:l.value.transport.destination_district,"onUpdate:modelValue":e[18]||(e[18]=t=>l.value.transport.destination_district=t),options:u.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang zalhna tur District awmna",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{ref_key:"destinationInput",ref:h,modelValue:l.value.transport.destination_locality,"onUpdate:modelValue":e[19]||(e[19]=t=>l.value.transport.destination_locality=t),label:"Destination Locality",outlined:"",dense:""},null,8,["modelValue"]),a("div",vt,[s(Ye,{transport:l.value.transport,"onUpdate:sourceLocality":e[20]||(e[20]=t=>l.value.transport.source_locality=t),"onUpdate:destinationLocality":e[21]||(e[21]=t=>l.value.transport.destination_locality=t),"onUpdate:distance":e[22]||(e[22]=t=>l.value.transport.distance=t),"onUpdate:transportCost":e[23]||(e[23]=t=>l.value.transport.transport_cost=t),onMapsLoaded:Ce},null,8,["transport"])]),s(x,{modelValue:l.value.transport.distance,"onUpdate:modelValue":e[24]||(e[24]=t=>l.value.transport.distance=t),label:"Distance (Km)",outlined:"",dense:"",class:"q-mb-md pt-[400px]"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.transport_cost,"onUpdate:modelValue":e[25]||(e[25]=t=>l.value.transport.transport_cost=t),label:"Transport Cost",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.vehicle_number,"onUpdate:modelValue":e[26]||(e[26]=t=>l.value.transport.vehicle_number=t),label:"Vehicle Number",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.driver_name,"onUpdate:modelValue":e[27]||(e[27]=t=>l.value.transport.driver_name=t),label:"Driver Name",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.transport.driver_phone,"onUpdate:modelValue":e[28]||(e[28]=t=>l.value.transport.driver_phone=t),label:"Driver Phone",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):M("",!0),f.value===3?(b(),_("div",gt,[s(x,{modelValue:l.value.applicant.name,"onUpdate:modelValue":e[29]||(e[29]=t=>l.value.applicant.name=t),label:"Applicant Name",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.mobile,"onUpdate:modelValue":e[30]||(e[30]=t=>l.value.applicant.mobile=t),label:"Mobile",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(Q,{modelValue:l.value.applicant.district.name,"onUpdate:modelValue":e[31]||(e[31]=t=>l.value.applicant.district.name=t),options:u.dropdowns.districts,"option-label":"name","option-value":"id",label:"Ruang phurhna man diltu district",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(x,{modelValue:l.value.applicant.locality,"onUpdate:modelValue":e[32]||(e[32]=t=>l.value.applicant.locality=t),label:"Ruang phurhna man diltu veng/khua",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.bank_name,"onUpdate:modelValue":e[33]||(e[33]=t=>l.value.applicant.bank_name=t),label:"Bank hming",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.account_no,"onUpdate:modelValue":e[34]||(e[34]=t=>l.value.applicant.account_no=t),label:"Account No",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(x,{modelValue:l.value.applicant.ifsc_code,"onUpdate:modelValue":e[35]||(e[35]=t=>l.value.applicant.ifsc_code=t),label:"IFSC Code",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"])])):M("",!0),s(fe,{align:"right"},{default:m(()=>[X(s(S,{class:"text-black",color:"white",label:"Cancel"},null,512),[[be]]),f.value>1?(b(),U(S,{key:0,label:"Previous",color:"grey",onClick:q})):M("",!0),f.value<3?(b(),U(S,{key:1,label:"Next",color:"black",onClick:N})):M("",!0),f.value===3?(b(),U(S,{key:2,label:"Submit",color:"black",type:"submit"})):M("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(he,{modelValue:g.value,"onUpdate:modelValue":e[37]||(e[37]=t=>g.value=t),maximized:""},{default:m(()=>[s(ve,null,{default:m(()=>[s(ge,null,{default:m(()=>e[54]||(e[54]=[a("div",{class:"text-h6"},"Transport Route Map",-1)])),_:1}),s(fe,{align:"right"},{default:m(()=>[X(s(S,{flat:"",label:"Close",color:"primary"},null,512),[[be]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]}),_:1}))}});export{Ft as default};
