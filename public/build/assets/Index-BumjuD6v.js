import{B as y,c as V,C as D,D as N,r as p,T,a as m,b as x,w as l,i as e,Q as u,d,t as f,g,l as w,m as C,f as B,x as _,q as F,s as A,u as S,N as q}from"./app-C0In1_Bg.js";import{Q as i}from"./QTd-DVXSa8yz.js";import{Q as E}from"./QTable-DqT6nDzo.js";import{Q as I}from"./QFile-B8WvEx4q.js";import{Q as U}from"./QPage-D75BcEeD.js";import{C as $}from"./ClosePopup-CPzUbm6V.js";import{_ as j}from"./AdminLayout-zIaWW83l.js";import"./QLayout-DRIoFCNj.js";import"./format-DY5QUvbx.js";import"./QSelect-BYJrp-GI.js";import"./QChip-DR_ehPOn.js";import"./QMenu-DPumZ7aG.js";import"./rtl-DFPa-2ov.js";import"./QExpansionItem-CzGHoK9d.js";const H=y({name:"QTr",props:{props:Object,noHover:Boolean},setup(a,{slots:c}){const o=V(()=>"q-tr"+(a.props===void 0||a.props.header===!0?"":" "+a.props.__trClass)+(a.noHover===!0?" q-tr--no-hover":""));return()=>D("tr",{class:o.value},N(c.default))}}),O=["href"],P={key:1},ae=Object.assign({layout:j},{__name:"Index",props:{informations:Array},setup(a){const c=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"title",label:"Title",field:"title",align:"left",sortable:!0},{name:"sub_title",label:"Sub Title",field:"sub_title",align:"left",sortable:!0},{name:"file_url",label:"Attachment",field:"file_url",align:"left"},{name:"created_at",label:"Created At",field:"created_at",align:"left",sortable:!0},{name:"actions",label:"Actions",field:"actions",align:"center"}],o=p(!1),b=p(null),n=T({file:null}),v=s=>{b.value=s.id,o.value=!0},Q=()=>{n.put(route("admin.info.update",b.value),{onSuccess:()=>{o.value=!1,n.reset()},forceFormData:!0})},k=s=>{confirm("Are you sure you want to delete this file?")&&q.delete(route("admin.info.destroy",s))};return(s,r)=>(m(),x(U,{padding:""},{default:l(()=>[e(u,{color:"black",label:"Upload New",href:s.route("admin.info.create"),class:"q-mb-md"},null,8,["href"]),e(w,null,{default:l(()=>[e(E,{flat:"",rows:a.informations,columns:c,"row-key":"id"},{body:l(t=>[e(H,{props:t},{default:l(()=>[e(i,null,{default:l(()=>[d(f(t.row.id),1)]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.title),1)]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.sub_title),1)]),_:2},1024),e(i,null,{default:l(()=>[t.row.file_url?(m(),g("a",{key:0,href:t.row.file_url,target:"_blank",class:"text-black"}," View File ",8,O)):(m(),g("span",P,"No file attached"))]),_:2},1024),e(i,null,{default:l(()=>[d(f(t.row.created_at),1)]),_:2},1024),e(i,null,{default:l(()=>[e(u,{icon:"edit",color:"blue",dense:"",flat:"",onClick:h=>v(t.row)},null,8,["onClick"]),e(u,{icon:"delete",color:"red",dense:"",flat:"",onClick:h=>k(t.row.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1}),e(S,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=t=>o.value=t)},{default:l(()=>[e(w,null,{default:l(()=>[e(C,null,{default:l(()=>r[2]||(r[2]=[B("div",{class:"text-h6"},"Edit File",-1)])),_:1}),e(C,null,{default:l(()=>[e(I,{modelValue:_(n).file,"onUpdate:modelValue":r[0]||(r[0]=t=>_(n).file=t),label:"Choose New File"},null,8,["modelValue"])]),_:1}),e(F,{align:"right"},{default:l(()=>[A(e(u,{flat:"",label:"Cancel"},null,512),[[$]]),e(u,{color:"primary",label:"Save",loading:_(n).processing,onClick:Q},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{ae as default};
