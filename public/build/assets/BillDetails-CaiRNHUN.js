import{c as Dt,a,b as n,w as d,f as t,i as u,j as k,x as Et,y as jt,Q as x,t as i,z as At,e as p,d as b,N as Bt}from"./app-BU-P0o3a.js";import{Q as v}from"./QChip-W2JHKdWw.js";import{Q as Mt}from"./QPage-BnL5U6Tp.js";import{_ as Rt}from"./AdminLayout-B373Zi-z.js";import"./QLayout-CjzmvHMW.js";import"./format-B28FXeBv.js";import"./QMenu--S8s1Z2H.js";import"./QExpansionItem-BfALLecq.js";import"./ClosePopup-D9M7YmMK.js";const $t={class:"grid md:grid-cols-2 gap-4"},zt={class:"flex items-center order-1 md:order-none"},Ft={class:"flex flex-wrap gap-2 justify-end order-2"},Vt={class:"flex flex-col items-center px-4 md:pr-32"},Nt={class:"w-full max-w-4xl rounded-[10px] border border-[#EEE] bg-[#E9F4FF] p-4 md:p-5 mt-6"},Pt={class:"grid md:grid-cols-2 gap-4 text-center"},Qt={class:"flex flex-col items-center"},Kt={class:"text-xl md:text-2xl mt-2"},qt={class:"mb-4 text-sm"},Tt={class:"grid md:grid-cols-3 gap-4"},It={class:"col-span-3 md:col-span-1"},Ot={class:"font-bold"},St={class:"font-bold"},Yt={class:"font-bold"},Gt={class:"flex flex-col md:flex-row justify-center items-center gap-4 mt-4"},Ht={class:"grid md:grid-cols-2 gap-4 px-4 md:pr-28 mt-6"},Jt={class:"flex flex-col gap-4"},Lt={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},Wt={class:"space-y-4"},Xt={class:"leading-[2px] pt-4"},Zt={class:"leading-[2px] pt-4"},Ut={class:"leading-[2px] pt-4"},_t={class:"leading-[2px] pt-4"},ts={class:"leading-[2px] pt-4"},ss={class:"leading-[2px] pt-4"},es={class:"leading-[2px] pt-4"},is={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},ls={class:"space-y-4"},as={class:"leading-[2px]"},ns={class:"leading-[2px] pt-4"},os={class:"leading-[2px] pt-4"},ds={class:"leading-[2px] pt-4"},ps={class:"border-2 rounded-md w-full p-4 md:pl-12 md:pt-6"},rs={class:"flex flex-wrap gap-2"},cs={class:"flex flex-col gap-4"},ms={class:"border-2 w-full p-4 md:pl-12 md:pt-6 rounded-md"},us={class:"space-y-4"},xs={class:"pl-4"},gs={class:"leading-[2px]"},fs={class:"leading-[2px] pt-4"},bs={class:"pl-4"},vs={class:"leading-[2px]"},hs={class:"leading-[2px] pt-4"},ks={class:"leading-[2px] pt-4"},ys={class:"pl-4"},Bs={class:"leading-[2px]"},ws={class:"leading-[2px] pt-4"},Cs={class:"leading-[2px] pt-4"},Ds={class:"leading-[2px] pt-4"},Es={class:"border-2 rounded-md w-full p-4 md:pl-12 md:pt-6"},js={class:"space-y-4"},As={class:"leading-[2px]"},Ms={class:"leading-[2px] pt-4"},Rs={class:"leading-[2px] pt-4"},$s={class:"flex flex-col md:flex-row justify-center items-center gap-4 my-6"},Is=Object.assign({layout:Rt},{__name:"BillDetails",props:{application:Object},setup(e){const o=e,y=async l=>{if(confirm("Are you sure you want to approve this application?"))try{await Bt.post(`/admin/bill/${l}/processed`)}catch(s){console.error(s)}},B=async l=>{if(confirm("Are you sure you want to reject this application?"))try{await Bt.post(`/admin/bill/${l}/reject`)}catch(s){console.error(s)}},f=l=>{l?window.open(l,"_blank"):$q.notify({type:"negative",message:"File not found"})},wt=(l,s)=>{const r=new Date(l),c=new Date(s),g=c.getFullYear()-r.getFullYear();return c.getMonth()<r.getMonth()||c.getMonth()===r.getMonth()&&c.getDate()<r.getDate()?g-1:g},Ct=Dt(()=>wt(o.application.deceased.dob,o.application.deceased.time_of_death));return(l,s)=>(a(),n(Mt,{padding:""},{default:d(()=>{var r,c,g,h,w,C,D,E,j,A,M,R,$,z,F,V,N,P,Q,K,q,T,I,O,S,Y,G,H,J,L,W,X,Z,U,_,tt,st,et,it,lt,at,nt,ot,dt,pt,rt,ct,mt,ut,xt,gt,ft,bt,vt,ht,kt,yt;return[t("div",$t,[t("div",zt,[u(Et(jt),{href:l.route("admin.bill"),size:"sm",flat:"",outlined:"",class:"flex items-center justify-center"},{default:d(()=>[u(k,{name:"arrow_back",size:"16px",class:"q-mr-xs"}),s[8]||(s[8]=t("span",null,"Back",-1))]),_:1},8,["href"])]),t("div",Ft,[u(x,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000","min-width":"100px",height:"40px","border-radius":"8px"},onClick:l.printTable},{default:d(()=>[u(k,{name:"print",size:"16px",class:"q-mr-xs"}),s[9]||(s[9]=t("span",{class:"text-xs md:text-sm"},"Print",-1))]),_:1},8,["onClick"]),u(x,{size:"sm",flat:"",outlined:"",class:"q-btn-custom flex items-center justify-center",style:{color:"#000","min-width":"100px",height:"40px","border-radius":"8px"},onClick:l.exportToExcel},{default:d(()=>[u(k,{name:"ios_share",size:"16px",class:"q-mr-xs"}),s[10]||(s[10]=t("span",{class:"text-xs md:text-sm"},"Export",-1))]),_:1},8,["onClick"])])]),t("div",Vt,[t("div",Nt,[t("div",Pt,[t("div",Qt,[s[11]||(s[11]=t("img",{src:"/image/icon 1.png",alt:"Ruang",class:"w-12 h-12"},null,-1)),t("h5",Kt,i((c=(r=e.application)==null?void 0:r.applicant)==null?void 0:c.name),1),t("p",qt,i(e.application.deceased.relative.name)+" "+i(e.application.deceased.name),1)]),t("div",Tt,[t("div",It,[u(At,{class:"md:hidden",vertical:""})]),t("div",null,[t("h5",Ot,i((h=(g=e.application)==null?void 0:g.transport)==null?void 0:h.distance),1),s[12]||(s[12]=t("p",{class:"text-[#5B656F]"},"Kilometre",-1))]),t("div",null,[t("h5",St,i((C=(w=e.application)==null?void 0:w.transport)==null?void 0:C.vehicle_number),1),s[13]||(s[13]=t("p",{class:"text-[#5B656F]"},"Motor Reg.",-1))]),t("div",null,[t("h5",Yt,i((E=(D=e.application)==null?void 0:D.transport)==null?void 0:E.transport_cost),1),s[14]||(s[14]=t("p",{class:"text-[#5B656F]"},"Amount (Rs)",-1))])])]),t("div",Gt,[((j=e.application)==null?void 0:j.status)==="Approved"?(a(),n(x,{key:0,onClick:s[0]||(s[0]=m=>y(e.application.id)),label:"Deposit to Bank",size:"sm",class:"w-full md:w-36",style:{color:"#fff",height:"40px","border-radius":"8px",border:"1px solid #5b656f",background:"#000"}})):p("",!0),((A=e.application)==null?void 0:A.status)==="Approved"?(a(),n(x,{key:1,onClick:s[1]||(s[1]=m=>B(e.application.id)),label:"Reject",size:"sm",class:"w-full md:w-36",style:{color:"#000",height:"40px","border-radius":"8px",border:"1px solid #5b656f",background:"transparent"}})):p("",!0)])])]),t("div",Ht,[t("div",Jt,[t("div",Lt,[s[23]||(s[23]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Mitthi Chungchang ",-1)),t("div",Wt,[s[15]||(s[15]=t("p",{class:"text-[#61646B]"},"Mitthi pianni leh thla",-1)),t("p",null,i(e.application.deceased.dob),1)]),t("div",Xt,[s[16]||(s[16]=t("p",{class:"text-[#61646B]"},"Kum",-1)),t("p",null,i(Ct.value)+" years",1)]),t("div",Zt,[s[17]||(s[17]=t("p",{class:"text-[#61646B]"},"Gender",-1)),t("p",null,i(e.application.deceased.gender),1)]),t("div",Ut,[s[18]||(s[18]=t("p",{class:"text-[#61646B]"},"Thih ni leh darkar",-1)),t("p",null,i(e.application.deceased.time_of_death),1)]),t("div",_t,[s[19]||(s[19]=t("p",{class:"text-[#61646B]"},"Thihna hmun",-1)),t("p",null,i(e.application.deceased.place_of_death),1)]),t("div",ts,[s[20]||(s[20]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i(($=(R=(M=e.application)==null?void 0:M.deceased)==null?void 0:R.district)==null?void 0:$.name),1)]),t("div",ss,[s[21]||(s[21]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((F=(z=e.application)==null?void 0:z.deceased)==null?void 0:F.locality),1)]),t("div",es,[s[22]||(s[22]=t("p",{class:"text-[#61646B]"},"Assembly Constituency",-1)),t("p",null,i((N=(V=e.application)==null?void 0:V.deceased)==null?void 0:N.constituency.name),1)])]),t("div",is,[s[28]||(s[28]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Ruang Phurh Diltu ",-1)),t("div",ls,[t("div",as,[s[24]||(s[24]=t("p",{class:"text-[#61646B]"},"Hming",-1)),t("p",null,i((Q=(P=e.application)==null?void 0:P.applicant)==null?void 0:Q.name),1)]),t("div",ns,[s[25]||(s[25]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((q=(K=e.application)==null?void 0:K.applicant)==null?void 0:q.district.name),1)]),t("div",os,[s[26]||(s[26]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((I=(T=e.application)==null?void 0:T.applicant)==null?void 0:I.locality),1)]),t("div",ds,[s[27]||(s[27]=t("p",{class:"text-[#61646B]"},"Phone Number",-1)),t("p",null,i((S=(O=e.application)==null?void 0:O.applicant)==null?void 0:S.mobile),1)])])]),t("div",ps,[s[33]||(s[33]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Document Thiltel te ",-1)),t("div",rs,[(G=(Y=e.application)==null?void 0:Y.attachment)!=null&&G.id_proof?(a(),n(v,{key:0,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:s[2]||(s[2]=m=>f("/storage/"+e.application.attachment.id_proof))},{default:d(()=>s[29]||(s[29]=[b(" Mitthi Aadhar card/Voter ID/Birth Certificate ")])),_:1})):p("",!0),(J=(H=e.application)==null?void 0:H.attachment)!=null&&J.receipt?(a(),n(v,{key:1,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:s[3]||(s[3]=m=>f("/storage/"+e.application.attachment.receipt))},{default:d(()=>s[30]||(s[30]=[b(" Motor hman man Voucher/Receipt ")])),_:1})):p("",!0),(W=(L=e.application)==null?void 0:L.attachment)!=null&&W.death_certificate?(a(),n(v,{key:2,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:s[4]||(s[4]=m=>f("/storage/"+e.application.attachment.death_certificate))},{default:d(()=>s[31]||(s[31]=[b(" Death Certificate ")])),_:1})):p("",!0),(Z=(X=e.application)==null?void 0:X.attachment)!=null&&Z.additional_document?(a(),n(v,{key:3,dense:"",class:"transparent text-black",icon:"check_circle",clickable:"",onClick:s[5]||(s[5]=m=>f("/storage/"+e.application.attachment.additional_document))},{default:d(()=>s[32]||(s[32]=[b(" Diltu Aadhar card/voter ID ")])),_:1})):p("",!0)])])]),t("div",cs,[t("div",ms,[s[46]||(s[46]=t("p",{class:"text-center w-48 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Ruang Phurh leh Motor Chungchang ",-1)),t("div",us,[s[43]||(s[43]=t("p",{class:"pt-5"},"Ruang phurh tanna",-1)),t("div",xs,[t("div",gs,[s[34]||(s[34]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((_=(U=e.application)==null?void 0:U.transport)==null?void 0:_.source_district.name),1)]),t("div",fs,[s[35]||(s[35]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((st=(tt=e.application)==null?void 0:tt.transport)==null?void 0:st.source_locality),1)])]),s[44]||(s[44]=t("p",{class:"pt-5"},"Ruang dahna tur hmun",-1)),t("div",bs,[t("div",vs,[s[36]||(s[36]=t("p",{class:"text-[#61646B]"},"District",-1)),t("p",null,i((it=(et=e.application)==null?void 0:et.transport)==null?void 0:it.destination_district.name),1)]),t("div",hs,[s[37]||(s[37]=t("p",{class:"text-[#61646B]"},"Veng/Khua",-1)),t("p",null,i((at=(lt=e.application)==null?void 0:lt.transport)==null?void 0:at.destination_locality),1)])]),t("div",ks,[s[38]||(s[38]=t("p",{class:"text-[#61646B]"},"Kilometer",-1)),t("p",null,i((ot=(nt=e.application)==null?void 0:nt.transport)==null?void 0:ot.distance),1)]),s[45]||(s[45]=t("p",{class:"pt-5"},"Ruang phurhna motor",-1)),t("div",ys,[t("div",Bs,[s[39]||(s[39]=t("p",{class:"text-[#61646B]"}," Motor registration number ",-1)),t("p",null,i((pt=(dt=e.application)==null?void 0:dt.transport)==null?void 0:pt.vehicle_number),1)]),t("div",ws,[s[40]||(s[40]=t("p",{class:"text-[#61646B]"}," Motor neitu/khalhtu hming ",-1)),t("p",null,i((ct=(rt=e.application)==null?void 0:rt.transport)==null?void 0:ct.driver_name),1)]),t("div",Cs,[s[41]||(s[41]=t("p",{class:"text-[#61646B]"},"Phone Number",-1)),t("p",null,i((ut=(mt=e.application)==null?void 0:mt.transport)==null?void 0:ut.driver_phone),1)]),t("div",Ds,[s[42]||(s[42]=t("p",{class:"text-[#61646B]"},"Motor saung (Rs.)",-1)),t("p",null,i((gt=(xt=e.application)==null?void 0:xt.transport)==null?void 0:gt.transport_cost),1)])])])]),t("div",Es,[s[50]||(s[50]=t("p",{class:"text-center w-32 h-4 rounded-[20px] bg-[#E9E9E9] mb-4 md:mb-8"}," Bank Details ",-1)),t("div",js,[t("div",As,[s[47]||(s[47]=t("p",{class:"text-[#61646B]"},"Bank hming",-1)),t("p",null,i((bt=(ft=e.application)==null?void 0:ft.applicant)==null?void 0:bt.bank_name),1)]),t("div",Ms,[s[48]||(s[48]=t("p",{class:"text-[#61646B]"},"Bank account number",-1)),t("p",null,i((ht=(vt=e.application)==null?void 0:vt.applicant)==null?void 0:ht.account_no),1)]),t("div",Rs,[s[49]||(s[49]=t("p",{class:"text-[#61646B]"},"IFSC Code",-1)),t("p",null,i((yt=(kt=e.application)==null?void 0:kt.applicant)==null?void 0:yt.ifsc_code),1)])])])])]),s[51]||(s[51]=t("hr",{class:"my-4 border-border"},null,-1)),t("div",$s,[o.application&&o.application.status==="Pending"?(a(),n(x,{key:0,onClick:s[6]||(s[6]=m=>y(o.application.id)),label:"Approve",size:"sm",style:{color:"#fff",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"#000"}})):p("",!0),o.application&&o.application.status==="Pending"?(a(),n(x,{key:1,onClick:s[7]||(s[7]=m=>B(o.application.id)),label:"Reject",size:"sm",style:{color:"#000",width:"144px",height:"40px","flex-shrink":"0","border-radius":"8px",border:"1px solid #5b656f",background:"transparent"}})):p("",!0)])]}),_:1}))}});export{Is as default};
